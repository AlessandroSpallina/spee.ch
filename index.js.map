{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 353287f628f976763708","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"winston\"","webpack:///./config/speechConfig.js","webpack:///external \"react-router-dom\"","webpack:///./react/actions/publish.js","webpack:///./react/containers/NavBar/index.js","webpack:///./react/actions/show.js","webpack:///./react/components/SEO/index.jsx","webpack:///external \"prop-types\"","webpack:///./react/utils/request.js","webpack:///./models/index.js","webpack:///./react/constants/show_action_types.js","webpack:///./react/selectors/show.js","webpack:///external \"react-helmet\"","webpack:///external \"redux-saga/effects\"","webpack:///./helpers/lbryApi.js","webpack:///./helpers/googleAnalytics.js","webpack:///external \"redux\"","webpack:///./react/actions/channel.js","webpack:///./react/components/ProgressBar/index.jsx","webpack:///./react/components/ErrorPage/index.jsx","webpack:///external \"passport\"","webpack:///./config/mysqlConfig.js","webpack:///./config/slackConfig.js","webpack:///external \"passport-local\"","webpack:///./helpers/sequelizeHelpers.js","webpack:///./helpers/publishHelpers.js","webpack:///./helpers/errorHandlers.js","webpack:///./controllers/serveController.js","webpack:///./helpers/handlePageRender.jsx","webpack:///external \"react-dom/server\"","webpack:///./react/reducers/index.js","webpack:///./react/constants/publish_action_types.js","webpack:///./react/constants/publish_channel_select_states.js","webpack:///./react/constants/channel_action_types.js","webpack:///./react/constants/asset_display_states.js","webpack:///./react/components/GAListener/index.jsx","webpack:///./react/app.js","webpack:///./react/containers/Dropzone/index.js","webpack:///./react/containers/ChannelLoginForm/index.js","webpack:///./react/containers/ChannelCreateForm/index.js","webpack:///./react/constants/show_request_types.js","webpack:///./react/containers/AssetDisplay/index.js","webpack:///./helpers/renderFullPage.js","webpack:///external \"babel-polyfill\"","webpack:///external \"whatwg-fetch\"","webpack:///./server.js","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///external \"express-handlebars\"","webpack:///external \"handlebars\"","webpack:///external \"helmet\"","webpack:///./helpers/authHelpers.js","webpack:///external \"cookie-session\"","webpack:///external \"http\"","webpack:///./helpers/configVarCheck.js","webpack:///./helpers/configureLogger.js","webpack:///./config/loggerConfig.js","webpack:///./helpers/configureSlack.js","webpack:///external \"winston-slack-webhook\"","webpack:///./passport/local-signup.js","webpack:///external \"axios\"","webpack:///./config/lbryConfig.js","webpack:///external \"universal-analytics\"","webpack:///./passport/local-login.js","webpack:///./routes/auth-routes.js","webpack:///./routes/api-routes.js","webpack:///external \"connect-multiparty\"","webpack:///external \"sequelize\"","webpack:///./models/certificate.js","webpack:///./models/channel.js","webpack:///./models/claim.js","webpack:///./models/file.js","webpack:///./models/request.js","webpack:///./models/user.js","webpack:///external \"bcrypt\"","webpack:///./controllers/publishController.js","webpack:///external \"fs\"","webpack:///./auth/authentication.js","webpack:///./helpers/channelPagination.js","webpack:///./routes/page-routes.js","webpack:///./react/reducers/publish.js","webpack:///./react/reducers/channel.js","webpack:///./react/reducers/show.js","webpack:///./react/reducers/site.js","webpack:///external \"react-ga\"","webpack:///./react/components/HomePage/index.jsx","webpack:///./react/utils/pageTitle.js","webpack:///./react/utils/metaTags.js","webpack:///./react/utils/canonicalLink.js","webpack:///./react/containers/NavBar/view.jsx","webpack:///./react/components/Logo/index.jsx","webpack:///./react/components/NavBarChannelOptionsDropdown/index.jsx","webpack:///external \"cross-fetch/polyfill\"","webpack:///./react/containers/PublishTool/index.js","webpack:///./react/containers/PublishTool/view.jsx","webpack:///./react/containers/Dropzone/view.jsx","webpack:///./react/utils/file.js","webpack:///./react/components/Preview/index.jsx","webpack:///./react/containers/PublishDetails/index.js","webpack:///./react/containers/PublishDetails/view.jsx","webpack:///./react/containers/PublishTitleInput/index.js","webpack:///./react/containers/PublishTitleInput/view.jsx","webpack:///./react/containers/PublishUrlInput/index.js","webpack:///./react/containers/PublishUrlInput/view.jsx","webpack:///./react/components/PublishUrlMiddleDisplay/index.jsx","webpack:///./react/containers/PublishThumbnailInput/index.js","webpack:///./react/containers/PublishThumbnailInput/view.jsx","webpack:///./react/containers/PublishMetadataInputs/index.js","webpack:///./react/containers/PublishMetadataInputs/view.jsx","webpack:///./react/components/ExpandingTextArea/index.jsx","webpack:///./react/containers/ChannelSelect/index.js","webpack:///./react/containers/ChannelSelect/view.jsx","webpack:///./react/containers/ChannelLoginForm/view.jsx","webpack:///./react/containers/ChannelCreateForm/view.jsx","webpack:///./react/components/ActiveStatusBar/index.jsx","webpack:///./react/components/InactiveStatusBar/index.jsx","webpack:///./react/containers/PublishStatus/index.js","webpack:///./react/containers/PublishStatus/view.jsx","webpack:///./react/constants/publish_claim_states.js","webpack:///./react/components/AboutPage/index.jsx","webpack:///./react/containers/LoginPage/index.js","webpack:///./react/containers/LoginPage/view.jsx","webpack:///./react/containers/ShowPage/index.js","webpack:///./react/containers/ShowPage/view.jsx","webpack:///./react/containers/ShowAssetLite/index.js","webpack:///./react/containers/ShowAssetLite/view.jsx","webpack:///./react/containers/AssetDisplay/view.jsx","webpack:///./react/containers/ShowAssetDetails/index.js","webpack:///./react/containers/ShowAssetDetails/view.jsx","webpack:///./react/containers/AssetTitle/index.js","webpack:///./react/containers/AssetTitle/view.jsx","webpack:///./react/containers/AssetInfo/index.js","webpack:///./react/containers/AssetInfo/view.jsx","webpack:///./react/containers/ShowChannel/index.js","webpack:///./react/containers/ShowChannel/view.jsx","webpack:///./react/containers/ChannelClaimsDisplay/index.js","webpack:///./react/containers/ChannelClaimsDisplay/view.jsx","webpack:///./react/components/AssetPreview/index.jsx","webpack:///./react/components/FourOhFourPage/index.jsx","webpack:///./routes/serve-routes.js","webpack:///./helpers/serveHelpers.js","webpack:///./helpers/lbryUri.js","webpack:///./helpers/handleShowRender.jsx","webpack:///external \"redux-saga\"","webpack:///./react/sagas/show_uri.js","webpack:///./react/sagas/show_asset.js","webpack:///./react/api/assetApi.js","webpack:///./react/sagas/show_channel.js","webpack:///./react/api/channelApi.js","webpack:///./react/utils/lbryUri.js","webpack:///./routes/fallback-routes.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","require","speechConfig","analytics","googleId","session","sessionKey","files","uploadDirectory","site","title","host","description","publish","primaryClaimAddress","additionalClaimAddresses","thumbnailChannel","thumbnailChannelId","claim","defaultTitle","defaultThumbnail","defaultDescription","selectFile","file","type","actions","FILE_SELECTED","data","clearFile","FILE_CLEAR","updateMetadata","value","METADATA_UPDATE","updateClaim","CLAIM_UPDATE","setPublishInChannel","channel","SET_PUBLISH_IN_CHANNEL","updatePublishStatus","status","message","PUBLISH_STATUS_UPDATE","updateError","ERROR_UPDATE","updateSelectedChannel","channelName","SELECTED_CHANNEL_UPDATE","toggleMetadataInputs","showMetadataInputs","TOGGLE_METADATA_INPUTS","onNewThumbnail","THUMBNAIL_NEW","startPublish","history","PUBLISH_START","_publish_action_types","obj","newObj","key","default","_reactRedux","_channel","_view","_view2","_publish","mapStateToProps","_ref","loggedInChannel","channelShortId","shortId","channelLongId","longId","mapDispatchToProps","dispatch","onChannelLogin","updateLoggedInChannel","onChannelLogout","connect","onHandleShowPageUri","params","HANDLE_SHOW_URI","onRequestError","error","REQUEST_ERROR","onNewChannelRequest","channelId","requestType","requestId","CHANNEL_REQUEST_NEW","onNewAssetRequest","id","extension","ASSET_REQUEST_NEW","modifier","onRequestUpdate","REQUEST_UPDATE","addRequestToRequestList","REQUEST_LIST_ADD","addAssetToAssetList","claimId","claimData","ASSET_ADD","addNewChannelToChannelList","claimsData","CHANNEL_ADD","onUpdateChannelClaims","channelKey","page","CHANNEL_CLAIMS_UPDATE_ASYNC","updateChannelClaims","channelListId","CHANNEL_CLAIMS_UPDATE_SUCCESS","fileRequested","FILE_REQUESTED","updateFileAvailability","FILE_AVAILABILITY_UPDATE","updateDisplayAssetError","DISPLAY_ASSET_ERROR","_show_action_types","_show_request_types","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","protoProps","staticProps","_react","_react2","_reactHelmet","_reactHelmet2","_propTypes","_propTypes2","_pageTitle","_metaTags","_canonicalLink","SEO","_React$Component","this","getPrototypeOf","apply","arguments","_props","pageTitle","asset","pageUri","createPageTitle","metaTags","createMetaTags","canonicalLink","createCanonicalLink","createElement","meta","link","rel","href","Component","propTypes","string","parseJSON","response","json","checkStatus","jsonResponse","Error","request","url","options","fetch","then","Promise","all","_ref2","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","Array","isArray","Sequelize","logger","_require","database","username","password","db","sequelize","dialect","dialectOptions","decimalNumbers","logging","pool","max","min","idle","acquire","authenticate","info","catch","Certificate","Channel","Claim","File","Request","User","import","keys","forEach","modelName","associate","upsert","Model","values","condition","tableName","findOne","where","debug","update","selectAsset","show","requestList","assetKey","assetList","selectShowState","state","axios","_require$api","api","apiHost","apiPort","lbryApiUri","_require2","chooseGaLbrynetPublishLabel","sendGATimingEvent","handleLbrynetResponse","resolve","reject","result","JSON","stringify","publishClaim","publishParams","gaStartTime","Date","now","post","method","getClaim","uri","timeout","getClaimList","claimName","resolveUri","getDownloadDirectory","_ref3","download_directory","createChannel","channel_name","amount","createServeEventParams","headers","ip","originalUrl","eventCategory","eventAction","eventLabel","ipOverride","userAgentOverride","createPublishTimingEventParams","category","variable","label","startTime","endTime","userTimingCategory","userTimingVariableName","userTimingTime","userTimingLabel","sendGoogleAnalyticsEvent","visitorId","replace","ua","strictCidFormat","https","event","sendGoogleAnalyticsTiming","timing","siteName","sendGAServeEvent","channel_id","CHANNEL_UPDATE","_channel_action_types","_ActiveStatusBar","_ActiveStatusBar2","_InactiveStatusBar","_InactiveStatusBar2","ProgressBar","_this","bars","index","incrementer","createBars","bind","startProgressBar","updateProgressBar","stopProgressBar","size","isActive","setState","updateInterval","setInterval","clearInterval","map","bar","number","isRequired","_NavBar","_NavBar2","ErrorPage","className","MysqlConfig","configure","SlackConfig","slackWebHook","slackErrorChannel","slackInfoChannel","returnShortId","claimsArray","claimIndex","substring","shortIdLength","findIndex","element","possibleMatches","slice","filter","fs","wallet","parsePublishApiRequestBody","nsfw","license","thumbnail","exec","parsePublishApiRequestFiles","path","test","validateFileTypeAndSize","fileName","filePath","fileType","thumbnailFileName","thumbnailFilePath","thumbnailFileType","createBasicPublishParams","trim","file_path","bid","metadata","author","language","claim_address","lbryClaimAddress","createThumbnailPublishParams","deleteTemporaryFile","unlink","addGetResultsToFileData","fileInfo","getResult","file_name","download_path","createFileData","outpoint","height","address","contentType","handleErrorResponse","res","useObjectPropertiesIfNoKeys","_module$exports$retur","returnErrorMessageAndStatus","_module$exports$retur2","createErrorResponsePayload","code","newErrorObject","getOwnPropertyNames","success","returnPaginatedChannelClaims","getClaimId","channelClaimId","getClaimIdByChannel","getClaimIdByClaim","getLongClaimId","longClaimId","getLongChannelId","longChannelId","getClaimIdByLongChannelId","getChannelData","longChannelClaimId","getShortChannelIdFromLongChannelId","_ref4","shortChannelClaimId","getChannelClaims","getAllChannelClaims","_ref5","_ref6","channelClaimsArray","paginatedChannelViewData","getLocalFileRecord","dataValues","_server","_redux","_reducers","_reducers2","_reactRouterDom","_GAListener","_GAListener2","_app","_app2","_renderFullPage","_renderFullPage2","req","context","store","createStore","html","renderToString","Provider","StaticRouter","location","helmet","renderStatic","redirect","preloadedState","getState","send","_publish2","_channel2","_show","_show2","_site","_site2","combineReducers","LOGIN","CREATE","LOCAL_CHECK","UNAVAILABLE","ERROR","AVAILABLE","_reactGa","_reactGa2","config","googleApiKey","initialize","GAListener","sendPageView","listen","set","pathname","pageview","children","withRouter","_HomePage","_HomePage2","_AboutPage","_AboutPage2","_LoginPage","_LoginPage2","_ShowPage","_ShowPage2","_FourOhFourPage","_FourOhFourPage2","App","Switch","Route","exact","component","fileError","setFileError","CHANNEL","ASSET_LITE","ASSET_DETAILS","displayAsset","onFileRequest","toString","SpeechServer","mysqlConfig","siteConfig","slackConfig","PORT","speak","something","console","log","start","configureConfigFiles","configureLogging","configureApp","configureServer","startServer","mysqlAppConfig","slackAppConfig","app","express","enable","use","static","__dirname","bodyParser","urlencoded","extended","verbose","passport","serializeUser","serializeSpeechUser","deserializeUser","deserializeSpeechUser","localSignupStrategy","localLoginStrategy","cookieSession","maxAge","hbs","expressHandlebars","defaultLayout","handlebars","Handlebars","engine","populateLocalsDotUser","server","http","Server","sync","user","locals","userName","shortChannelId","configCategoryKey","configVariables","configVarKey","logLevel","winston","transports","Console","level","timestamp","colorize","prettyPrint","handleExceptions","humanReadableUnhandledException","warn","silly","loggerConfig","winstonSlackWebHook","SlackWebHook","add","webhookUrl","iconEmoji","PassportLocalStrategy","Strategy","lbryApi","usernameField","passwordField","userInfo","tx","userData","channelData","claim_id","certificateData","newUser","newChannel","newCertificate","setChannel","setUser","lbryConfig","returnUserAndChannelInfo","userInstance","getChannel","comparePassword","isMatch","logIn","logout","multipart","multipartMiddleware","uploadDir","claimNameIsAvailable","checkChannelAvailability","_require3","_require4","errorHandlers","_require5","_require6","authenticateUser","_require7","body","claimsList","resolveClaim","resolveResult","fileData","_ref7","_ref8","_ref9","_ref10","_ref10$","completed","_ref11","_ref12","resolvedUri","_ref13","channelPassword","_parsePublishApiReque","_parsePublishApiReque2","_ref14","_ref15","_ref15$","thumbnailPublishParams","lbryTx","_ref16","getShortClaimIdFromLongClaimId","_ref17","_ref18","claimInfo","_ref19","STRING","BOOLEAN","INTEGER","TEXT","DECIMAL","define","claimSequence","decodedClaim","depth","effectiveAmount","hasSignature","hex","nout","txid","validAtHeight","valueVersion","claimType","certificateVersion","keyType","publicKey","freezeTableName","belongsTo","foreignKey","allowNull","findAll","order","getLongChannelIdFromShortChannelId","_this2","$like","getLongChannelIdFromChannelName","_this3","validateLongChannelId","_this4","hasOne","determineFileExtensionFromContentType","determineThumbnail","storedThumbnail","prepareClaimData","certificateId","licenseUrl","preview","metadataVersion","source","sourceType","sourceVersion","streamVersion","raw","getLongClaimIdFromShortClaimId","getTopFreeClaimIdByClaimName","_this5","validateLongClaimId","_this6","_this7","claimArray","defaultValue","trendingEligible","hasMany","getRecentClaims","limit","action","ipAddress","bcrypt","compare","changePassword","newPassword","genSalt","saltError","salt","hash","hashError","hook","publishHelpers","publishResults","fileRecord","claimRecord","upsertCriteria","setClaim","setFile","claimAddress","authenticateChannelCredentials","userPassword","channelFindParams","claims","totalPages","determineTotalPages","paginationPage","getPageFromQuery","extractPageFromClaims","previousPage","determinePreviousPage","currentPage","nextPage","determineNextPage","totalResults","determineTotalClaims","parseInt","pageNumber","claimStartIndex","claimEndIndex","totalClaims","fullPages","Math","floor","handlePageRender","render","layout","_defineProperty","initialState","assign","publishInChannel","selectedChannel","_publish_channel_select_states","publishSubmit","channelList","_asset_display_states","_SEO","_SEO2","_PublishTool","_PublishTool2","HomePage","siteTitle","_require$site","_require$claim","determineOgThumbnailContentType","lastIndexOf","createBasicMetaTags","content","createChannelMetaTags","createAssetMetaTags","embedUrl","showUrl","fileExt","ogTitle","ogDescription","ogThumbnailContentType","ogThumbnail","createBasicCanonicalLink","createAssetCanonicalLink","_asset$claimData","createChannelCanonicalLink","_Logo","_Logo2","_NavBarChannelOptionsDropdown","_NavBarChannelOptionsDropdown2","_request","_request2","NavBar","checkForLoggedInUser","logoutUser","handleSelection","credentials","selectedOptions","NavLink","activeClassName","to","defaultSelection","VIEW","LOGOUT","Logo","version","x","y","viewBox","enableBackground","Link","transform","fontSize","fontFamily","fill","stroke","strokeWidth","strokeLinecap","NavBarChannelDropdown","onChange","_Dropzone","_Dropzone2","_PublishDetails","_PublishDetails2","_PublishStatus","_PublishStatus2","PublishTool","_file","_Preview","_Preview2","Dropzone","dragOver","mouseOver","dimPreview","handleDrop","handleDragOver","handleDragEnd","handleDragEnter","handleDragLeave","handleMouseEnter","handleMouseLeave","handleClick","handleFileInput","chooseFile","preventDefault","dt","dataTransfer","items","kind","droppedFile","getAsFile","remove","clearData","document","getElementById","click","fileList","validateFile","accept","encType","onDrop","onDragOver","onDragEnd","onDragEnter","onDragLeave","onMouseEnter","onMouseLeave","onClick","Preview","imgSource","setPreviewImageSource","newProps","setPreviewImageSourceFromFile","previewReader","FileReader","readAsDataURL","onloadend","src","alt","bool","_PublishTitleInput","_PublishTitleInput2","_PublishUrlInput","_PublishUrlInput2","_PublishThumbnailInput","_PublishThumbnailInput2","_PublishMetadataInputs","_PublishMetadataInputs2","_ChannelSelect","_ChannelSelect2","PublishDetails","onPublishSubmit","onMetadataChange","PublishTitleInput","handleInput","e","placeholder","loggedInChannelName","loggedInChannelShortId","urlError","onClaimChange","onUrlError","_PublishUrlMiddleDisplay","_PublishUrlMiddleDisplay2","PublishUrlInput","setClaimName","validateClaim","cleanseInput","input","fileNameWithoutEnding","cleanClaimName","_props2","UrlMiddle","dataURItoBlob","dataURI","byteString","atob","split","mimeString","ia","Uint8Array","charCodeAt","Blob","PublishThumbnailInput","videoSource","sliderMinRange","sliderMaxRange","sliderValue","handleVideoLoadedData","handleSliderChange","createThumbnail","setVideoSource","nextProps","dataUri","blob","URL","createObjectURL","duration","totalMinutes","totalSeconds","currentTime","video","canvas","width","videoWidth","videoHeight","getContext","drawImage","dataUrl","toDataURL","snapshot","_state","preload","muted","style","display","playsInline","onLoadedData","onSeeked","onToggleMetadataInputs","_ExpandingTextArea","_ExpandingTextArea2","PublishMetadataInputs","toggleShowInputs","handleSelect","checked","selectedOption","htmlFor","rows","maxLength","maxHeight","_objectWithoutProperties","indexOf","_extends","ExpandingTextarea","_Component","_handleChange","adjustTextarea","_ref$target","el","scrollHeight","rest","ref","func","channelError","onPublishInChannelChange","onChannelSelect","_ChannelLoginForm","_ChannelLoginForm2","_ChannelCreateForm","_ChannelCreateForm2","states","ChannelSelect","toggleAnonymousPublish","ChannelLoginForm","loginToChannel","Headers","Content-Type","_ProgressBar","_ProgressBar2","ChannelCreateForm","handleChannelInput","cleanseChannelInput","updateIsChannelAvailable","channelWithAtSymbol","isAvailable","checkIsPasswordProvided","checkIsChannelAvailable","makePublishChannelRequest","ActiveStatusBar","InactiveStatusBar","_publish_claim_states","publishStates","PublishStatus","LOAD_START","LOADING","PUBLISHING","SUCCESS","FAILED","AboutPage","LoginPage","_ErrorPage","_ErrorPage2","_ShowAssetLite","_ShowAssetLite2","_ShowAssetDetails","_ShowAssetDetails2","_ShowChannel","_ShowChannel2","ShowPage","match","_AssetDisplay","_AssetDisplay2","ShowLite","AssetDisplay","_props$asset$claimDat","_props$asset$claimDat2","controls","poster","_AssetTitle","_AssetTitle2","_AssetInfo","_AssetInfo2","ShowAssetDetails","AssetTitle","AssetInfo","copyToClipboard","elementToCopy","dataset","elementtocopy","select","execCommand","_props$asset","hidden","readOnly","spellCheck","data-elementtocopy","download","previousRequest","_ChannelClaimsDisplay","_ChannelClaimsDisplay2","ShowChannel","_AssetPreview","_AssetPreview2","ChannelClaimsDisplay","showNextResultsPage","showPreviousResultsPage","showNewPage","_props$channel","_props$channel$claims","AssetPreview","_ref$claimData","directSourceLink","showUrlLink","FourOhForPage","determineResponseType","flipClaimNameAndIdForBackwardsCompatibility","logRequestData","getClaimIdAndServeAsset","lbryUri","handleShowRender","hasFileExtension","parseModifier","responseType","parseClaim","isChannel","_lbryUri$parseIdentif","parseIdentifier","identifier","_flipClaimNameAndIdFo","_flipClaimNameAndIdFo2","clientAcceptsHtml","requestIsFromBrowser","clientWantsAsset","range","imageIsWanted","videoIsWanted","isValidClaimId","isValidShortId","isValidShortIdOrClaimId","serveAssetToClient","NO_FILE","sendFileOptions","X-Content-Type-Options","sendFile","fullClaimId","tempName","REGEXP_INVALID_CLAIM","REGEXP_INVALID_CHANNEL","REGEXP_ADDRESS","CHANNEL_CHAR","componentsRegex","RegExp","_componentsRegex$exec","_componentsRegex$exec2","proto","modifierSeperator","startsWith","nameBadChars","join","_componentsRegex$exec3","_componentsRegex$exec4","_componentsRegex$exec5","_componentsRegex$exec6","_reduxSaga","_reduxSaga2","_effects","_show_uri","returnSagaWithParams","saga","regeneratorRuntime","mark","_callee","wrap","_context","prev","stop","sagaMiddleware","middleware","applyMiddleware","run","parseAndUpdateIdentifierAndClaim","_lbryUri$parseClaim","_lbryUri2","t0","put","abrupt","sent","_show_asset","newAssetRequest","_marked","parseAndUpdateClaimOnly","_lbryUri$parseIdentif2","_lbryUri$parseClaim2","_context2","_show_channel","newChannelRequest","t1","_marked2","handleShowPageUri","_action$data","_context3","_marked3","watchHandleShowPageUri","_context4","takeLatest","_marked4","_lbryUri","_assetApi","getShortId","getClaimData","t2","watchNewAssetRequest","_ref$data","_channelApi","watchNewChannelRequest","getNewClaimsAndUpdateChannel","_action$data2","watchUpdateChannelClaims","extensionSeperator"],"mappings":"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uV,QACE1X,KAASqnB,EACTllB,QAAS,MAEX2lB,KACE9nB,KAASsnB,EAAK,QACdnlB,QAAS,MAEX1E,MACEuC,KAASmnB,EACThlB,QAAS,MAEX4lB,MACE/nB,KAASqnB,EACTllB,QAAS,MAEX6lB,MACEhoB,KAASmnB,EACThlB,QAAS,MAEX8lB,eACEjoB,KAASqnB,EACTllB,QAAS,MAEXsV,UACEzX,KAASmnB,EACThlB,QAAS,MAEXgmB,WACEnoB,KAASmnB,EACThlB,QAAS,MAEXsnB,eACEzpB,KAASmnB,EACThlB,QAAS,MAEXyU,QACE5W,KAASmnB,EACThlB,QAAS,MAEX/C,aACEY,KAASsnB,EAAK,QACdnlB,QAAS,MAEX0U,UACE7W,KAASmnB,EACThlB,QAAS,MAEXuT,SACE1V,KAASmnB,EACThlB,QAAS,MAEXunB,YACE1pB,KAASmnB,EACThlB,QAAS,MAEXsT,MACEzV,KAASonB,EACTjlB,QAAS,MAEXwnB,SACE3pB,KAASmnB,EACThlB,QAAS,MAEXwT,WACE3V,KAASmnB,EACThlB,QAAS,MAEXjD,OACEc,KAASmnB,EACThlB,QAAS,MAEXynB,iBACE5pB,KAASmnB,EACThlB,QAAS,MAEXyV,aACE5X,KAASmnB,EACThlB,QAAS,MAEX0nB,QACE7pB,KAASmnB,EACThlB,QAAS,MAEX2nB,YACE9pB,KAASmnB,EACThlB,QAAS,MAEX4nB,eACE/pB,KAASmnB,EACThlB,QAAS,MAEX6nB,eACEhqB,KAASmnB,EACThlB,QAAS,MAEX+lB,cACEloB,KAASmnB,EACThlB,QAAS,MAEXd,aACErB,KAAWmnB,EACXuB,WAAW,EACXvmB,QAAW,QAIbomB,iBAAiB,GA4LrB,OAxLAzb,GAAMQ,UAAY,SAAAxB,GAChBgB,EAAM0b,UAAU1c,EAAGiB,MACjB0b,YACEC,WAAW,MAKjB5b,EAAMga,+BAAiC,SAAUniB,EAASsL,GAAW,GAAA8C,GAAA5K,IAEnE,OADAsD,GAAOqC,MAAP,4CAAyDmC,EAAzD,IAAsEtL,GAC/D,GAAIwF,SAAQ,SAAC8E,EAASC,GAC3B6D,EACG4V,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","file":"index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 45);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react-redux\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"winston\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar speechConfig = {\n  analytics: {\n    googleId: 'UA-60403362-6' // google id for analytics tracking; leave `null` if not applicable\n  },\n  session: {\n    sessionKey: 'nans$#kfjanwe234rydns' // enter a secret key to be used for session encryption\n  },\n  files: {\n    uploadDirectory: '/home/lbry/Uploads' // enter file path to where uploads/publishes should be stored\n  },\n  site: {\n    title: 'dev1.Spee.ch',\n    name: 'dev1.Spee.ch',\n    host: 'https://dev1.spee.ch',\n    description: 'Open-source, decentralized image and video sharing.'\n  },\n  publish: {\n    primaryClaimAddress: 'bDZ2wPwtULUGxT7GXuNLpQhXmdPRUTUkcL',\n    additionalClaimAddresses: ['banpwixPosfVDWnGvXqU2af36Qpsd7buGd'],\n    thumbnailChannel: '@dev1thumbs', // create a channel to use for thumbnail images\n    thumbnailChannelId: 'aeb625ff6f66c3eeeb42885070f4e53876033626' // the channel_id (claim id) for the channel above\n  },\n  claim: {\n    defaultTitle: 'dev1 Spee.ch',\n    defaultThumbnail: 'https://spee.ch/assets/img/video_thumb_default.png',\n    defaultDescription: 'Open-source, decentralized image and video sharing.'\n  }\n};\n\nmodule.exports = speechConfig;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react-router-dom\");\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectFile = selectFile;\nexports.clearFile = clearFile;\nexports.updateMetadata = updateMetadata;\nexports.updateClaim = updateClaim;\nexports.setPublishInChannel = setPublishInChannel;\nexports.updatePublishStatus = updatePublishStatus;\nexports.updateError = updateError;\nexports.updateSelectedChannel = updateSelectedChannel;\nexports.toggleMetadataInputs = toggleMetadataInputs;\nexports.onNewThumbnail = onNewThumbnail;\nexports.startPublish = startPublish;\n\nvar _publish_action_types = __webpack_require__(33);\n\nvar actions = _interopRequireWildcard(_publish_action_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// export action creators\nfunction selectFile(file) {\n  return {\n    type: actions.FILE_SELECTED,\n    data: file\n  };\n};\n\nfunction clearFile() {\n  return {\n    type: actions.FILE_CLEAR\n  };\n};\n\nfunction updateMetadata(name, value) {\n  return {\n    type: actions.METADATA_UPDATE,\n    data: {\n      name: name,\n      value: value\n    }\n  };\n};\n\nfunction updateClaim(value) {\n  return {\n    type: actions.CLAIM_UPDATE,\n    data: value\n  };\n};\n\nfunction setPublishInChannel(channel) {\n  return {\n    type: actions.SET_PUBLISH_IN_CHANNEL,\n    channel: channel\n  };\n};\n\nfunction updatePublishStatus(status, message) {\n  return {\n    type: actions.PUBLISH_STATUS_UPDATE,\n    data: {\n      status: status,\n      message: message\n    }\n  };\n};\n\nfunction updateError(name, value) {\n  return {\n    type: actions.ERROR_UPDATE,\n    data: {\n      name: name,\n      value: value\n    }\n  };\n};\n\nfunction updateSelectedChannel(channelName) {\n  return {\n    type: actions.SELECTED_CHANNEL_UPDATE,\n    data: channelName\n  };\n};\n\nfunction toggleMetadataInputs(showMetadataInputs) {\n  return {\n    type: actions.TOGGLE_METADATA_INPUTS,\n    data: showMetadataInputs\n  };\n};\n\nfunction onNewThumbnail(file) {\n  return {\n    type: actions.THUMBNAIL_NEW,\n    data: file\n  };\n};\n\nfunction startPublish(history) {\n  return {\n    type: actions.PUBLISH_START,\n    data: { history: history }\n  };\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _channel = __webpack_require__(19);\n\nvar _view = __webpack_require__(92);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _publish = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var channel = _ref.channel;\n\n  return {\n    channelName: channel.loggedInChannel.name,\n    channelShortId: channel.loggedInChannel.shortId,\n    channelLongId: channel.loggedInChannel.longId\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onChannelLogin: function onChannelLogin(name, shortId, longId) {\n      dispatch((0, _channel.updateLoggedInChannel)(name, shortId, longId));\n      dispatch((0, _publish.updateSelectedChannel)(name));\n    },\n    onChannelLogout: function onChannelLogout() {\n      dispatch((0, _channel.updateLoggedInChannel)(null, null, null));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onHandleShowPageUri = onHandleShowPageUri;\nexports.onRequestError = onRequestError;\nexports.onNewChannelRequest = onNewChannelRequest;\nexports.onNewAssetRequest = onNewAssetRequest;\nexports.onRequestUpdate = onRequestUpdate;\nexports.addRequestToRequestList = addRequestToRequestList;\nexports.addAssetToAssetList = addAssetToAssetList;\nexports.addNewChannelToChannelList = addNewChannelToChannelList;\nexports.onUpdateChannelClaims = onUpdateChannelClaims;\nexports.updateChannelClaims = updateChannelClaims;\nexports.fileRequested = fileRequested;\nexports.updateFileAvailability = updateFileAvailability;\nexports.updateDisplayAssetError = updateDisplayAssetError;\n\nvar _show_action_types = __webpack_require__(12);\n\nvar actions = _interopRequireWildcard(_show_action_types);\n\nvar _show_request_types = __webpack_require__(42);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// basic request parsing\nfunction onHandleShowPageUri(params) {\n  return {\n    type: actions.HANDLE_SHOW_URI,\n    data: params\n  };\n};\n\nfunction onRequestError(error) {\n  return {\n    type: actions.REQUEST_ERROR,\n    data: error\n  };\n};\n\nfunction onNewChannelRequest(channelName, channelId) {\n  var requestType = _show_request_types.CHANNEL;\n  var requestId = 'cr#' + channelName + '#' + channelId;\n  return {\n    type: actions.CHANNEL_REQUEST_NEW,\n    data: { requestType: requestType, requestId: requestId, channelName: channelName, channelId: channelId }\n  };\n};\n\nfunction onNewAssetRequest(name, id, channelName, channelId, extension) {\n  var requestType = extension ? _show_request_types.ASSET_LITE : _show_request_types.ASSET_DETAILS;\n  var requestId = 'ar#' + name + '#' + id + '#' + channelName + '#' + channelId;\n  return {\n    type: actions.ASSET_REQUEST_NEW,\n    data: {\n      requestType: requestType,\n      requestId: requestId,\n      name: name,\n      modifier: {\n        id: id,\n        channel: {\n          name: channelName,\n          id: channelId\n        }\n      }\n    }\n  };\n};\n\nfunction onRequestUpdate(requestType, requestId) {\n  return {\n    type: actions.REQUEST_UPDATE,\n    data: {\n      requestType: requestType,\n      requestId: requestId\n    }\n  };\n};\n\nfunction addRequestToRequestList(id, error, key) {\n  return {\n    type: actions.REQUEST_LIST_ADD,\n    data: { id: id, error: error, key: key }\n  };\n};\n\n// asset actions\n\nfunction addAssetToAssetList(id, error, name, claimId, shortId, claimData) {\n  return {\n    type: actions.ASSET_ADD,\n    data: { id: id, error: error, name: name, claimId: claimId, shortId: shortId, claimData: claimData }\n  };\n}\n\n// channel actions\n\nfunction addNewChannelToChannelList(id, name, shortId, longId, claimsData) {\n  return {\n    type: actions.CHANNEL_ADD,\n    data: { id: id, name: name, shortId: shortId, longId: longId, claimsData: claimsData }\n  };\n};\n\nfunction onUpdateChannelClaims(channelKey, name, longId, page) {\n  return {\n    type: actions.CHANNEL_CLAIMS_UPDATE_ASYNC,\n    data: { channelKey: channelKey, name: name, longId: longId, page: page }\n  };\n};\n\nfunction updateChannelClaims(channelListId, claimsData) {\n  return {\n    type: actions.CHANNEL_CLAIMS_UPDATE_SUCCESS,\n    data: { channelListId: channelListId, claimsData: claimsData }\n  };\n};\n\n// display a file\n\nfunction fileRequested(name, claimId) {\n  return {\n    type: actions.FILE_REQUESTED,\n    data: { name: name, claimId: claimId }\n  };\n};\n\nfunction updateFileAvailability(status) {\n  return {\n    type: actions.FILE_AVAILABILITY_UPDATE,\n    data: status\n  };\n};\n\nfunction updateDisplayAssetError(error) {\n  return {\n    type: actions.DISPLAY_ASSET_ERROR,\n    data: error\n  };\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactHelmet = __webpack_require__(14);\n\nvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\nvar _propTypes = __webpack_require__(9);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _pageTitle = __webpack_require__(89);\n\nvar _metaTags = __webpack_require__(90);\n\nvar _canonicalLink = __webpack_require__(91);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SEO = function (_React$Component) {\n  _inherits(SEO, _React$Component);\n\n  function SEO() {\n    _classCallCheck(this, SEO);\n\n    return _possibleConstructorReturn(this, (SEO.__proto__ || Object.getPrototypeOf(SEO)).apply(this, arguments));\n  }\n\n  _createClass(SEO, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          pageTitle = _props.pageTitle,\n          asset = _props.asset,\n          channel = _props.channel,\n          pageUri = _props.pageUri;\n\n      pageTitle = (0, _pageTitle.createPageTitle)(pageTitle);\n      var metaTags = (0, _metaTags.createMetaTags)(asset, channel);\n      var canonicalLink = (0, _canonicalLink.createCanonicalLink)(asset, channel, pageUri);\n      return _react2.default.createElement(_reactHelmet2.default, {\n        title: pageTitle,\n        meta: metaTags,\n        link: [{ rel: 'canonical', href: canonicalLink }]\n      });\n    }\n  }]);\n\n  return SEO;\n}(_react2.default.Component);\n\n;\n\nSEO.propTypes = {\n  pageTitle: _propTypes2.default.string,\n  pageUri: _propTypes2.default.string,\n  channel: _propTypes2.default.object,\n  asset: _propTypes2.default.object\n};\n\nexports.default = SEO;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"prop-types\");\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.default = request;\n\n__webpack_require__(95);\n\n/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON(response) {\n  if (response.status === 204 || response.status === 205) {\n    return null;\n  }\n  return response.json();\n}\n\n/**\n * Parses the status returned by a network request\n *\n * @param  {object} response   A response from a network request\n * @param  {object} response   The parsed JSON from the network request\n *\n * @return {object | undefined} Returns object with status and statusText, or undefined\n */\nfunction checkStatus(response, jsonResponse) {\n  if (response.status >= 200 && response.status < 300) {\n    return jsonResponse;\n  }\n  var error = new Error(jsonResponse.message);\n  error.response = response;\n  throw error;\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {object}           The response data\n */\n\nfunction request(url, options) {\n  return fetch(url, options).then(function (response) {\n    return Promise.all([response, parseJSON(response)]);\n  }).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        response = _ref2[0],\n        jsonResponse = _ref2[1];\n\n    return checkStatus(response, jsonResponse);\n  });\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Sequelize = __webpack_require__(70);\nvar logger = __webpack_require__(2);\n\nvar _require = __webpack_require__(23),\n    database = _require.database,\n    username = _require.username,\n    password = _require.password;\n\nmodule.exports = function () {\n  var db = {};\n  // set sequelize options\n  var sequelize = new Sequelize(database, username, password, {\n    host: 'localhost',\n    dialect: 'mysql',\n    dialectOptions: { decimalNumbers: true }, // fix to ensure DECIMAL will not be stored as a string\n    logging: false,\n    pool: {\n      max: 5,\n      min: 0,\n      idle: 10000,\n      acquire: 10000\n    }\n  });\n\n  // establish mysql connection\n  sequelize.authenticate().then(function () {\n    logger.info('Sequelize has established mysql connection successfully.');\n  }).catch(function (err) {\n    logger.error('Sequelize was unable to connect to the database:', err);\n  });\n\n  // manually add each model to the db object\n  var Certificate = __webpack_require__(71);\n  var Channel = __webpack_require__(72);\n  var Claim = __webpack_require__(73);\n  var File = __webpack_require__(74);\n  var Request = __webpack_require__(75);\n  var User = __webpack_require__(76);\n  db['Certificate'] = sequelize.import('Certificate', Certificate);\n  db['Channel'] = sequelize.import('Channel', Channel);\n  db['Claim'] = sequelize.import('Claim', Claim);\n  db['File'] = sequelize.import('File', File);\n  db['Request'] = sequelize.import('Request', Request);\n  db['User'] = sequelize.import('User', User);\n\n  // run model.association for each model in the db object that has an association\n  Object.keys(db).forEach(function (modelName) {\n    if (db[modelName].associate) {\n      logger.info('Associating model:', modelName);\n      db[modelName].associate(db);\n    }\n  });\n\n  db.sequelize = sequelize;\n  db.Sequelize = Sequelize;\n\n  // add an 'upsert' method to the db object\n  db.upsert = function (Model, values, condition, tableName) {\n    return Model.findOne({\n      where: condition\n    }).then(function (obj) {\n      if (obj) {\n        // update\n        logger.debug('updating record in db.' + tableName);\n        return obj.update(values);\n      } else {\n        // insert\n        logger.debug('creating record in db.' + tableName);\n        return Model.create(values);\n      }\n    }).catch(function (error) {\n      logger.error(tableName + '.upsert error', error);\n      throw error;\n    });\n  };\n\n  return db;\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// request actions\nvar HANDLE_SHOW_URI = exports.HANDLE_SHOW_URI = 'HANDLE_SHOW_URI';\nvar REQUEST_ERROR = exports.REQUEST_ERROR = 'REQUEST_ERROR';\nvar REQUEST_UPDATE = exports.REQUEST_UPDATE = 'REQUEST_UPDATE';\nvar ASSET_REQUEST_NEW = exports.ASSET_REQUEST_NEW = 'ASSET_REQUEST_NEW';\nvar CHANNEL_REQUEST_NEW = exports.CHANNEL_REQUEST_NEW = 'CHANNEL_REQUEST_NEW';\nvar REQUEST_LIST_ADD = exports.REQUEST_LIST_ADD = 'REQUEST_LIST_ADD';\n\n// asset actions\nvar ASSET_ADD = exports.ASSET_ADD = 'ASSET_ADD';\n\n// channel actions\nvar CHANNEL_ADD = exports.CHANNEL_ADD = 'CHANNEL_ADD';\n\nvar CHANNEL_CLAIMS_UPDATE_ASYNC = exports.CHANNEL_CLAIMS_UPDATE_ASYNC = 'CHANNEL_CLAIMS_UPDATE_ASYNC';\nvar CHANNEL_CLAIMS_UPDATE_SUCCESS = exports.CHANNEL_CLAIMS_UPDATE_SUCCESS = 'CHANNEL_CLAIMS_UPDATE_SUCCESS';\n\n// asset/file display actions\nvar FILE_REQUESTED = exports.FILE_REQUESTED = 'FILE_REQUESTED';\nvar FILE_AVAILABILITY_UPDATE = exports.FILE_AVAILABILITY_UPDATE = 'FILE_AVAILABILITY_UPDATE';\nvar DISPLAY_ASSET_ERROR = exports.DISPLAY_ASSET_ERROR = 'DISPLAY_ASSET_ERROR';\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar selectAsset = exports.selectAsset = function selectAsset(show) {\n  var request = show.requestList[show.request.id];\n  var assetKey = request.key;\n  return show.assetList[assetKey];\n};\n\nvar selectShowState = exports.selectShowState = function selectShowState(state) {\n  return state.show;\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react-helmet\");\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"redux-saga/effects\");\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar axios = __webpack_require__(63);\nvar logger = __webpack_require__(2);\n\nvar _require = __webpack_require__(64),\n    _require$api = _require.api,\n    apiHost = _require$api.apiHost,\n    apiPort = _require$api.apiPort;\n\nvar lbryApiUri = 'http://' + apiHost + ':' + apiPort;\n\nvar _require2 = __webpack_require__(17),\n    chooseGaLbrynetPublishLabel = _require2.chooseGaLbrynetPublishLabel,\n    sendGATimingEvent = _require2.sendGATimingEvent;\n\nvar handleLbrynetResponse = function handleLbrynetResponse(_ref, resolve, reject) {\n  var data = _ref.data;\n\n  logger.debug('lbry api data:', data);\n  if (data.result) {\n    // check for an error\n    if (data.result.error) {\n      logger.debug('Lbrynet api error:', data.result.error);\n      reject(new Error(data.result.error));\n      return;\n    };\n    resolve(data.result);\n    return;\n  }\n  // fallback in case it just timed out\n  reject(JSON.stringify(data));\n};\n\nmodule.exports = {\n  publishClaim: function publishClaim(publishParams) {\n    logger.debug('lbryApi >> Publishing claim to \"' + publishParams.name + '\"');\n    var gaStartTime = Date.now();\n    return new Promise(function (resolve, reject) {\n      axios.post(lbryApiUri, {\n        method: 'publish',\n        params: publishParams\n      }).then(function (response) {\n        sendGATimingEvent('lbrynet', 'publish', chooseGaLbrynetPublishLabel(publishParams), gaStartTime, Date.now());\n        handleLbrynetResponse(response, resolve, reject);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getClaim: function getClaim(uri) {\n    logger.debug('lbryApi >> Getting Claim for \"' + uri + '\"');\n    var gaStartTime = Date.now();\n    return new Promise(function (resolve, reject) {\n      axios.post(lbryApiUri, {\n        method: 'get',\n        params: { uri: uri, timeout: 20 }\n      }).then(function (response) {\n        sendGATimingEvent('lbrynet', 'getClaim', 'GET', gaStartTime, Date.now());\n        handleLbrynetResponse(response, resolve, reject);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getClaimList: function getClaimList(claimName) {\n    logger.debug('lbryApi >> Getting claim_list for \"' + claimName + '\"');\n    var gaStartTime = Date.now();\n    return new Promise(function (resolve, reject) {\n      axios.post(lbryApiUri, {\n        method: 'claim_list',\n        params: { name: claimName }\n      }).then(function (response) {\n        sendGATimingEvent('lbrynet', 'getClaimList', 'CLAIM_LIST', gaStartTime, Date.now());\n        handleLbrynetResponse(response, resolve, reject);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  resolveUri: function resolveUri(uri) {\n    logger.debug('lbryApi >> Resolving URI for \"' + uri + '\"');\n    var gaStartTime = Date.now();\n    return new Promise(function (resolve, reject) {\n      axios.post(lbryApiUri, {\n        method: 'resolve',\n        params: { uri: uri }\n      }).then(function (_ref2) {\n        var data = _ref2.data;\n\n        sendGATimingEvent('lbrynet', 'resolveUri', 'RESOLVE', gaStartTime, Date.now());\n        if (data.result[uri].error) {\n          // check for errors\n          reject(data.result[uri].error);\n        } else {\n          // if no errors, resolve\n          resolve(data.result[uri]);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getDownloadDirectory: function getDownloadDirectory() {\n    logger.debug('lbryApi >> Retrieving the download directory path from lbry daemon...');\n    var gaStartTime = Date.now();\n    return new Promise(function (resolve, reject) {\n      axios.post(lbryApiUri, {\n        method: 'settings_get'\n      }).then(function (_ref3) {\n        var data = _ref3.data;\n\n        sendGATimingEvent('lbrynet', 'getDownloadDirectory', 'SETTINGS_GET', gaStartTime, Date.now());\n        if (data.result) {\n          resolve(data.result.download_directory);\n        } else {\n          return new Error('Successfully connected to lbry daemon, but unable to retrieve the download directory.');\n        }\n      }).catch(function (error) {\n        logger.error('Lbrynet Error:', error);\n        resolve('/home/lbry/Downloads/');\n      });\n    });\n  },\n  createChannel: function createChannel(name) {\n    logger.debug('lbryApi >> Creating channel for ' + name + '...');\n    var gaStartTime = Date.now();\n    return new Promise(function (resolve, reject) {\n      axios.post(lbryApiUri, {\n        method: 'channel_new',\n        params: {\n          channel_name: name,\n          amount: 0.1\n        }\n      }).then(function (response) {\n        sendGATimingEvent('lbrynet', 'createChannel', 'CHANNEL_NEW', gaStartTime, Date.now());\n        handleLbrynetResponse(response, resolve, reject);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  }\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\nvar ua = __webpack_require__(65);\n\nvar _require = __webpack_require__(3),\n    googleId = _require.analytics.googleId,\n    siteName = _require.site.name;\n\nfunction createServeEventParams(headers, ip, originalUrl) {\n  return {\n    eventCategory: 'client requests',\n    eventAction: 'serve request',\n    eventLabel: originalUrl,\n    ipOverride: ip,\n    userAgentOverride: headers['user-agent']\n  };\n};\n\nfunction createPublishTimingEventParams(category, variable, label, startTime, endTime) {\n  var duration = endTime - startTime;\n  return {\n    userTimingCategory: category,\n    userTimingVariableName: variable,\n    userTimingTime: duration,\n    userTimingLabel: label\n  };\n};\n\nfunction sendGoogleAnalyticsEvent(ip, params) {\n  var visitorId = ip.replace(/\\./g, '-');\n  var visitor = ua(googleId, visitorId, { strictCidFormat: false, https: true });\n  visitor.event(params, function (err) {\n    if (err) {\n      logger.error('Google Analytics Event Error >>', err);\n    }\n  });\n};\n\nfunction sendGoogleAnalyticsTiming(visitorId, params) {\n  var visitor = ua(googleId, visitorId, { strictCidFormat: false, https: true });\n  visitor.timing(params, function (err) {\n    if (err) {\n      logger.error('Google Analytics Event Error >>', err);\n    }\n    logger.debug('Timing event successfully sent to google analytics');\n  });\n};\n\nmodule.exports = {\n  sendGAServeEvent: function sendGAServeEvent(headers, ip, originalUrl) {\n    var params = createServeEventParams(headers, ip, originalUrl);\n    sendGoogleAnalyticsEvent(ip, params);\n  },\n  sendGATimingEvent: function sendGATimingEvent(category, variable, label, startTime, endTime) {\n    var params = createPublishTimingEventParams(category, variable, label, startTime, endTime);\n    sendGoogleAnalyticsTiming(siteName, params);\n  },\n  chooseGaLbrynetPublishLabel: function chooseGaLbrynetPublishLabel(_ref) {\n    var channelName = _ref.channel_name,\n        channelId = _ref.channel_id;\n\n    return channelName || channelId ? 'PUBLISH_IN_CHANNEL_CLAIM' : 'PUBLISH_ANONYMOUS_CLAIM';\n  }\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"redux\");\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateLoggedInChannel = updateLoggedInChannel;\n\nvar _channel_action_types = __webpack_require__(35);\n\nvar actions = _interopRequireWildcard(_channel_action_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// export action creators\n\nfunction updateLoggedInChannel(name, shortId, longId) {\n  return {\n    type: actions.CHANNEL_UPDATE,\n    data: {\n      name: name,\n      shortId: shortId,\n      longId: longId\n    }\n  };\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(9);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ActiveStatusBar = __webpack_require__(117);\n\nvar _ActiveStatusBar2 = _interopRequireDefault(_ActiveStatusBar);\n\nvar _InactiveStatusBar = __webpack_require__(118);\n\nvar _InactiveStatusBar2 = _interopRequireDefault(_InactiveStatusBar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ProgressBar = function (_React$Component) {\n  _inherits(ProgressBar, _React$Component);\n\n  function ProgressBar(props) {\n    _classCallCheck(this, ProgressBar);\n\n    var _this = _possibleConstructorReturn(this, (ProgressBar.__proto__ || Object.getPrototypeOf(ProgressBar)).call(this, props));\n\n    _this.state = {\n      bars: [],\n      index: 0,\n      incrementer: 1\n    };\n    _this.createBars = _this.createBars.bind(_this);\n    _this.startProgressBar = _this.startProgressBar.bind(_this);\n    _this.updateProgressBar = _this.updateProgressBar.bind(_this);\n    _this.stopProgressBar = _this.stopProgressBar.bind(_this);\n    return _this;\n  }\n\n  _createClass(ProgressBar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.createBars();\n      this.startProgressBar();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopProgressBar();\n    }\n  }, {\n    key: 'createBars',\n    value: function createBars() {\n      var bars = [];\n      for (var i = 0; i <= this.props.size; i++) {\n        bars.push({ isActive: false });\n      }\n      this.setState({ bars: bars });\n    }\n  }, {\n    key: 'startProgressBar',\n    value: function startProgressBar() {\n      this.updateInterval = setInterval(this.updateProgressBar.bind(this), 300);\n    }\n  }, {\n    key: 'updateProgressBar',\n    value: function updateProgressBar() {\n      var index = this.state.index;\n      var incrementer = this.state.incrementer;\n      var bars = this.state.bars;\n      // flip incrementer if necessary, to stay in bounds\n      if (index < 0 || index > this.props.size) {\n        incrementer = incrementer * -1;\n        index += incrementer;\n      }\n      // update the indexed bar\n      if (incrementer > 0) {\n        bars[index].isActive = true;\n      } else {\n        bars[index].isActive = false;\n      };\n      // increment index\n      index += incrementer;\n      // update state\n      this.setState({\n        bars: bars,\n        incrementer: incrementer,\n        index: index\n      });\n    }\n  }, {\n    key: 'stopProgressBar',\n    value: function stopProgressBar() {\n      clearInterval(this.updateInterval);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        this.state.bars.map(function (bar, index) {\n          return bar.isActive ? _react2.default.createElement(_ActiveStatusBar2.default, { key: index }) : _react2.default.createElement(_InactiveStatusBar2.default, { key: index });\n        })\n      );\n    }\n  }]);\n\n  return ProgressBar;\n}(_react2.default.Component);\n\n;\n\nProgressBar.propTypes = {\n  size: _propTypes2.default.number.isRequired\n};\n\nexports.default = ProgressBar;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(9);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ErrorPage = function (_React$Component) {\n  _inherits(ErrorPage, _React$Component);\n\n  function ErrorPage() {\n    _classCallCheck(this, ErrorPage);\n\n    return _possibleConstructorReturn(this, (ErrorPage.__proto__ || Object.getPrototypeOf(ErrorPage)).apply(this, arguments));\n  }\n\n  _createClass(ErrorPage, [{\n    key: 'render',\n    value: function render() {\n      var error = this.props.error;\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_NavBar2.default, null),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--padded' },\n          _react2.default.createElement(\n            'p',\n            null,\n            error\n          )\n        )\n      );\n    }\n  }]);\n\n  return ErrorPage;\n}(_react2.default.Component);\n\n;\n\nErrorPage.propTypes = {\n  error: _propTypes2.default.string.isRequired\n};\n\nexports.default = ErrorPage;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"passport\");\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction MysqlConfig() {\n  var _this = this;\n\n  this.database = 'default';\n  this.username = 'default';\n  this.password = 'default';\n  this.configure = function (_ref) {\n    var database = _ref.database,\n        username = _ref.username,\n        password = _ref.password;\n\n    if (database) _this.database = database;\n    if (username) _this.username = username;\n    if (password) _this.password = password;\n  };\n};\n\nmodule.exports = new MysqlConfig();\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction SlackConfig() {\n  var _this = this;\n\n  this.slackWebHook = 'default';\n  this.slackErrorChannel = 'default';\n  this.slackInfoChannel = 'default';\n  this.configure = function (_ref) {\n    var slackWebHook = _ref.slackWebHook,\n        slackErrorChannel = _ref.slackErrorChannel,\n        slackInfoChannel = _ref.slackInfoChannel;\n\n    if (slackWebHook) _this.slackWebHook = slackWebHook;\n    if (slackErrorChannel) _this.slackErrorChannel = slackErrorChannel;\n    if (slackInfoChannel) _this.slackInfoChannel = slackInfoChannel;\n  };\n};\n\nmodule.exports = new SlackConfig();\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"passport-local\");\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  returnShortId: function returnShortId(claimsArray, longId) {\n    var claimIndex = void 0;\n    var shortId = longId.substring(0, 1); // default short id is the first letter\n    var shortIdLength = 0;\n    // find the index of this claim id\n    claimIndex = claimsArray.findIndex(function (element) {\n      return element.claimId === longId;\n    });\n    if (claimIndex < 0) {\n      throw new Error('claim id not found in claims list');\n    }\n    // get an array of all claims with lower height\n    var possibleMatches = claimsArray.slice(0, claimIndex);\n    // remove certificates with the same prefixes until none are left.\n    while (possibleMatches.length > 0) {\n      shortIdLength += 1;\n      shortId = longId.substring(0, shortIdLength);\n      possibleMatches = possibleMatches.filter(function (element) {\n        return element.claimId && element.claimId.substring(0, shortIdLength) === shortId;\n      });\n    }\n    return shortId;\n  }\n};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\nvar fs = __webpack_require__(79);\n\nvar _require = __webpack_require__(3),\n    site = _require.site,\n    wallet = _require.wallet,\n    publish = _require.publish;\n\nmodule.exports = {\n  parsePublishApiRequestBody: function parsePublishApiRequestBody(_ref) {\n    var name = _ref.name,\n        nsfw = _ref.nsfw,\n        license = _ref.license,\n        title = _ref.title,\n        description = _ref.description,\n        thumbnail = _ref.thumbnail;\n\n    // validate name\n    if (!name) {\n      throw new Error('no name field found in request');\n    }\n    var invalidNameCharacters = /[^A-Za-z0-9,-]/.exec(name);\n    if (invalidNameCharacters) {\n      throw new Error('The claim name you provided is not allowed.  Only the following characters are allowed: A-Z, a-z, 0-9, and \"-\"');\n    }\n    // optional parameters\n    nsfw = nsfw === 'true';\n    license = license || null;\n    title = title || null;\n    description = description || null;\n    thumbnail = thumbnail || null;\n    // return results\n    return {\n      name: name,\n      nsfw: nsfw,\n      license: license,\n      title: title,\n      description: description,\n      thumbnail: thumbnail\n    };\n  },\n  parsePublishApiRequestFiles: function parsePublishApiRequestFiles(_ref2) {\n    var file = _ref2.file,\n        thumbnail = _ref2.thumbnail;\n\n    // make sure a file was provided\n    if (!file) {\n      throw new Error('no file with key of [file] found in request');\n    }\n    if (!file.path) {\n      throw new Error('no file path found');\n    }\n    if (!file.type) {\n      throw new Error('no file type found');\n    }\n    if (!file.size) {\n      throw new Error('no file type found');\n    }\n    // validate the file name\n    if (/'/.test(file.name)) {\n      throw new Error('apostrophes are not allowed in the file name');\n    }\n    // validate the file\n    module.exports.validateFileTypeAndSize(file);\n    // return results\n    return {\n      fileName: file.name,\n      filePath: file.path,\n      fileType: file.type,\n      thumbnailFileName: thumbnail ? thumbnail.name : null,\n      thumbnailFilePath: thumbnail ? thumbnail.path : null,\n      thumbnailFileType: thumbnail ? thumbnail.type : null\n    };\n  },\n  validateFileTypeAndSize: function validateFileTypeAndSize(file) {\n    // check file type and size\n    switch (file.type) {\n      case 'image/jpeg':\n      case 'image/jpg':\n      case 'image/png':\n        if (file.size > 10000000) {\n          logger.debug('publish > file validation > .jpeg/.jpg/.png was too big');\n          throw new Error('Sorry, images are limited to 10 megabytes.');\n        }\n        break;\n      case 'image/gif':\n        if (file.size > 50000000) {\n          logger.debug('publish > file validation > .gif was too big');\n          throw new Error('Sorry, .gifs are limited to 50 megabytes.');\n        }\n        break;\n      case 'video/mp4':\n        if (file.size > 50000000) {\n          logger.debug('publish > file validation > .mp4 was too big');\n          throw new Error('Sorry, videos are limited to 50 megabytes.');\n        }\n        break;\n      default:\n        logger.debug('publish > file validation > unrecognized file type');\n        throw new Error('The ' + file.type + ' content type is not supported.  Only, .jpeg, .png, .gif, and .mp4 files are currently supported.');\n    }\n    return file;\n  },\n  createBasicPublishParams: function createBasicPublishParams(filePath, name, title, description, license, nsfw, thumbnail) {\n    logger.debug('Creating Publish Parameters');\n    // provide defaults for title\n    if (title === null || title.trim() === '') {\n      title = name;\n    }\n    // provide default for description\n    if (description === null || description.trim() === '') {\n      description = '';\n    }\n    // provide default for license\n    if (license === null || license.trim() === '') {\n      license = ' '; // default to empty string\n    }\n    // create the publish params\n    var publishParams = {\n      name: name,\n      file_path: filePath,\n      bid: 0.01,\n      metadata: {\n        description: description,\n        title: title,\n        author: site.title,\n        language: 'en',\n        license: license,\n        nsfw: nsfw\n      },\n      claim_address: wallet.lbryClaimAddress\n    };\n    // add thumbnail to channel if video\n    if (thumbnail) {\n      publishParams['metadata']['thumbnail'] = thumbnail;\n    }\n    return publishParams;\n  },\n  createThumbnailPublishParams: function createThumbnailPublishParams(thumbnailFilePath, claimName, license, nsfw) {\n    if (!thumbnailFilePath) {\n      return;\n    }\n    logger.debug('Creating Thumbnail Publish Parameters');\n    // create the publish params\n    return {\n      name: claimName + '-thumb',\n      file_path: thumbnailFilePath,\n      bid: 0.01,\n      metadata: {\n        title: claimName + ' thumbnail',\n        description: 'a thumbnail for ' + claimName,\n        author: site.title,\n        language: 'en',\n        license: license,\n        nsfw: nsfw\n      },\n      claim_address: wallet.lbryClaimAddress,\n      channel_name: publish.thumbnailChannel,\n      channel_id: publish.thumbnailChannelId\n    };\n  },\n  deleteTemporaryFile: function deleteTemporaryFile(filePath) {\n    fs.unlink(filePath, function (err) {\n      if (err) {\n        logger.error('error deleting temporary file ' + filePath);\n        throw err;\n      }\n      logger.debug('successfully deleted ' + filePath);\n    });\n  },\n  addGetResultsToFileData: function addGetResultsToFileData(fileInfo, getResult) {\n    fileInfo.fileName = getResult.file_name;\n    fileInfo.filePath = getResult.download_path;\n    return fileInfo;\n  },\n  createFileData: function createFileData(_ref3) {\n    var name = _ref3.name,\n        claimId = _ref3.claimId,\n        outpoint = _ref3.outpoint,\n        height = _ref3.height,\n        address = _ref3.address,\n        nsfw = _ref3.nsfw,\n        contentType = _ref3.contentType;\n\n    return {\n      name: name,\n      claimId: claimId,\n      outpoint: outpoint,\n      height: height,\n      address: address,\n      fileName: '',\n      filePath: '',\n      fileType: contentType,\n      nsfw: nsfw\n    };\n  }\n};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar logger = __webpack_require__(2);\n\nmodule.exports = {\n  handleErrorResponse: function handleErrorResponse(originalUrl, ip, error, res) {\n    logger.error('Error on ' + originalUrl, module.exports.useObjectPropertiesIfNoKeys(error));\n\n    var _module$exports$retur = module.exports.returnErrorMessageAndStatus(error),\n        _module$exports$retur2 = _slicedToArray(_module$exports$retur, 2),\n        status = _module$exports$retur2[0],\n        message = _module$exports$retur2[1];\n\n    res.status(status).json(module.exports.createErrorResponsePayload(status, message));\n  },\n  returnErrorMessageAndStatus: function returnErrorMessageAndStatus(error) {\n    var status = void 0,\n        message = void 0;\n    // check for daemon being turned off\n    if (error.code === 'ECONNREFUSED') {\n      status = 503;\n      message = 'Connection refused.  The daemon may not be running.';\n      // fallback for everything else\n    } else {\n      status = 400;\n      if (error.message) {\n        message = error.message;\n      } else {\n        message = error;\n      };\n    };\n    return [status, message];\n  },\n  useObjectPropertiesIfNoKeys: function useObjectPropertiesIfNoKeys(err) {\n    if (Object.keys(err).length === 0) {\n      var newErrorObject = {};\n      Object.getOwnPropertyNames(err).forEach(function (key) {\n        newErrorObject[key] = err[key];\n      });\n      return newErrorObject;\n    }\n    return err;\n  },\n  createErrorResponsePayload: function createErrorResponsePayload(status, message) {\n    return {\n      status: status,\n      success: false,\n      message: message\n    };\n  }\n};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar db = __webpack_require__(11);\nvar logger = __webpack_require__(2);\n\nvar _require = __webpack_require__(81),\n    returnPaginatedChannelClaims = _require.returnPaginatedChannelClaims;\n\nvar NO_CHANNEL = 'NO_CHANNEL';\nvar NO_CLAIM = 'NO_CLAIM';\nvar NO_FILE = 'NO_FILE';\n\nmodule.exports = {\n  getClaimId: function getClaimId(channelName, channelClaimId, name, claimId) {\n    if (channelName) {\n      return module.exports.getClaimIdByChannel(channelName, channelClaimId, name);\n    } else {\n      return module.exports.getClaimIdByClaim(name, claimId);\n    }\n  },\n  getClaimIdByClaim: function getClaimIdByClaim(claimName, claimId) {\n    logger.debug('getClaimIdByClaim(' + claimName + ', ' + claimId + ')');\n    return new Promise(function (resolve, reject) {\n      db.Claim.getLongClaimId(claimName, claimId).then(function (longClaimId) {\n        if (!longClaimId) {\n          resolve(NO_CLAIM);\n        }\n        resolve(longClaimId);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getClaimIdByChannel: function getClaimIdByChannel(channelName, channelClaimId, claimName) {\n    logger.debug('getClaimIdByChannel(' + channelName + ', ' + channelClaimId + ', ' + claimName + ')');\n    return new Promise(function (resolve, reject) {\n      db.Certificate.getLongChannelId(channelName, channelClaimId) // 1. get the long channel id\n      .then(function (longChannelId) {\n        if (!longChannelId) {\n          return [null, null];\n        }\n        return Promise.all([longChannelId, db.Claim.getClaimIdByLongChannelId(longChannelId, claimName)]); // 2. get the long claim id\n      }).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            longChannelId = _ref2[0],\n            longClaimId = _ref2[1];\n\n        if (!longChannelId) {\n          return resolve(NO_CHANNEL);\n        }\n        if (!longClaimId) {\n          return resolve(NO_CLAIM);\n        }\n        resolve(longClaimId);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getChannelData: function getChannelData(channelName, channelClaimId, page) {\n    return new Promise(function (resolve, reject) {\n      // 1. get the long channel Id (make sure channel exists)\n      db.Certificate.getLongChannelId(channelName, channelClaimId).then(function (longChannelClaimId) {\n        if (!longChannelClaimId) {\n          return [null, null, null];\n        }\n        // 2. get the short ID and all claims for that channel\n        return Promise.all([longChannelClaimId, db.Certificate.getShortChannelIdFromLongChannelId(longChannelClaimId, channelName)]);\n      }).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            longChannelClaimId = _ref4[0],\n            shortChannelClaimId = _ref4[1];\n\n        if (!longChannelClaimId) {\n          return resolve(NO_CHANNEL);\n        }\n        // 3. return all the channel information\n        resolve({\n          channelName: channelName,\n          longChannelClaimId: longChannelClaimId,\n          shortChannelClaimId: shortChannelClaimId\n        });\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getChannelClaims: function getChannelClaims(channelName, channelClaimId, page) {\n    return new Promise(function (resolve, reject) {\n      // 1. get the long channel Id (make sure channel exists)\n      db.Certificate.getLongChannelId(channelName, channelClaimId).then(function (longChannelClaimId) {\n        if (!longChannelClaimId) {\n          return [null, null, null];\n        }\n        // 2. get the short ID and all claims for that channel\n        return Promise.all([longChannelClaimId, db.Claim.getAllChannelClaims(longChannelClaimId)]);\n      }).then(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            longChannelClaimId = _ref6[0],\n            channelClaimsArray = _ref6[1];\n\n        if (!longChannelClaimId) {\n          return resolve(NO_CHANNEL);\n        }\n        // 3. format the data for the view, including pagination\n        var paginatedChannelViewData = returnPaginatedChannelClaims(channelName, longChannelClaimId, channelClaimsArray, page);\n        // 4. return all the channel information and contents\n        resolve(paginatedChannelViewData);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  },\n  getLocalFileRecord: function getLocalFileRecord(claimId, name) {\n    return db.File.findOne({ where: { claimId: claimId, name: name } }).then(function (file) {\n      if (!file) {\n        return NO_FILE;\n      }\n      return file.dataValues;\n    });\n  }\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = __webpack_require__(31);\n\nvar _redux = __webpack_require__(18);\n\nvar _reducers = __webpack_require__(32);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _GAListener = __webpack_require__(37);\n\nvar _GAListener2 = _interopRequireDefault(_GAListener);\n\nvar _app = __webpack_require__(38);\n\nvar _app2 = _interopRequireDefault(_app);\n\nvar _renderFullPage = __webpack_require__(44);\n\nvar _renderFullPage2 = _interopRequireDefault(_renderFullPage);\n\nvar _reactHelmet = __webpack_require__(14);\n\nvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function (req, res) {\n  var context = {};\n\n  // create a new Redux store instance\n  var store = (0, _redux.createStore)(_reducers2.default);\n\n  // render component to a string\n  var html = (0, _server.renderToString)(_react2.default.createElement(\n    _reactRedux.Provider,\n    { store: store },\n    _react2.default.createElement(\n      _reactRouterDom.StaticRouter,\n      { location: req.url, context: context },\n      _react2.default.createElement(\n        _GAListener2.default,\n        null,\n        _react2.default.createElement(_app2.default, null)\n      )\n    )\n  ));\n\n  // get head tags from helmet\n  var helmet = _reactHelmet2.default.renderStatic();\n\n  // check for a redirect\n  if (context.url) {\n    // Somewhere a `<Redirect>` was rendered\n    return res.redirect(301, context.url);\n  } else {}\n  // we're good, send the response\n\n\n  // get the initial state from our Redux store\n  var preloadedState = store.getState();\n\n  // send the rendered page back to the client\n  res.send((0, _renderFullPage2.default)(helmet, html, preloadedState));\n};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react-dom/server\");\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _redux = __webpack_require__(18);\n\nvar _publish = __webpack_require__(83);\n\nvar _publish2 = _interopRequireDefault(_publish);\n\nvar _channel = __webpack_require__(84);\n\nvar _channel2 = _interopRequireDefault(_channel);\n\nvar _show = __webpack_require__(85);\n\nvar _show2 = _interopRequireDefault(_show);\n\nvar _site = __webpack_require__(86);\n\nvar _site2 = _interopRequireDefault(_site);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _redux.combineReducers)({\n  channel: _channel2.default,\n  publish: _publish2.default,\n  show: _show2.default,\n  site: _site2.default\n});\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar FILE_SELECTED = exports.FILE_SELECTED = 'FILE_SELECTED';\nvar FILE_CLEAR = exports.FILE_CLEAR = 'FILE_CLEAR';\nvar METADATA_UPDATE = exports.METADATA_UPDATE = 'METADATA_UPDATE';\nvar CLAIM_UPDATE = exports.CLAIM_UPDATE = 'CLAIM_UPDATE';\nvar SET_PUBLISH_IN_CHANNEL = exports.SET_PUBLISH_IN_CHANNEL = 'SET_PUBLISH_IN_CHANNEL';\nvar PUBLISH_STATUS_UPDATE = exports.PUBLISH_STATUS_UPDATE = 'PUBLISH_STATUS_UPDATE';\nvar ERROR_UPDATE = exports.ERROR_UPDATE = 'ERROR_UPDATE';\nvar SELECTED_CHANNEL_UPDATE = exports.SELECTED_CHANNEL_UPDATE = 'SELECTED_CHANNEL_UPDATE';\nvar TOGGLE_METADATA_INPUTS = exports.TOGGLE_METADATA_INPUTS = 'TOGGLE_METADATA_INPUTS';\nvar THUMBNAIL_NEW = exports.THUMBNAIL_NEW = 'THUMBNAIL_NEW';\nvar PUBLISH_START = exports.PUBLISH_START = 'PUBLISH_START';\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar LOGIN = exports.LOGIN = 'Existing';\nvar CREATE = exports.CREATE = 'New';\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar CHANNEL_UPDATE = exports.CHANNEL_UPDATE = 'CHANNEL_UPDATE';\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar LOCAL_CHECK = exports.LOCAL_CHECK = 'LOCAL_CHECK';\nvar UNAVAILABLE = exports.UNAVAILABLE = 'UNAVAILABLE';\nvar ERROR = exports.ERROR = 'ERROR';\nvar AVAILABLE = exports.AVAILABLE = 'AVAILABLE';\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactGa = __webpack_require__(87);\n\nvar _reactGa2 = _interopRequireDefault(_reactGa);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = __webpack_require__(3);\nvar googleApiKey = config.analytics.googleId;\n\n_reactGa2.default.initialize(googleApiKey);\n\nvar GAListener = function (_React$Component) {\n  _inherits(GAListener, _React$Component);\n\n  function GAListener() {\n    _classCallCheck(this, GAListener);\n\n    return _possibleConstructorReturn(this, (GAListener.__proto__ || Object.getPrototypeOf(GAListener)).apply(this, arguments));\n  }\n\n  _createClass(GAListener, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.sendPageView(this.props.history.location);\n      this.props.history.listen(this.sendPageView);\n    }\n  }, {\n    key: 'sendPageView',\n    value: function sendPageView(location) {\n      _reactGa2.default.set({ page: location.pathname });\n      _reactGa2.default.pageview(location.pathname);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return GAListener;\n}(_react2.default.Component);\n\nexports.default = (0, _reactRouterDom.withRouter)(GAListener);\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _HomePage = __webpack_require__(88);\n\nvar _HomePage2 = _interopRequireDefault(_HomePage);\n\nvar _AboutPage = __webpack_require__(122);\n\nvar _AboutPage2 = _interopRequireDefault(_AboutPage);\n\nvar _LoginPage = __webpack_require__(123);\n\nvar _LoginPage2 = _interopRequireDefault(_LoginPage);\n\nvar _ShowPage = __webpack_require__(125);\n\nvar _ShowPage2 = _interopRequireDefault(_ShowPage);\n\nvar _FourOhFourPage = __webpack_require__(141);\n\nvar _FourOhFourPage2 = _interopRequireDefault(_FourOhFourPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar App = function App() {\n  return _react2.default.createElement(\n    _reactRouterDom.Switch,\n    null,\n    _react2.default.createElement(_reactRouterDom.Route, { exact: true, path: '/', component: _HomePage2.default }),\n    _react2.default.createElement(_reactRouterDom.Route, { exact: true, path: '/about', component: _AboutPage2.default }),\n    _react2.default.createElement(_reactRouterDom.Route, { exact: true, path: '/login', component: _LoginPage2.default }),\n    _react2.default.createElement(_reactRouterDom.Route, { exact: true, path: '/:identifier/:claim', component: _ShowPage2.default }),\n    _react2.default.createElement(_reactRouterDom.Route, { exact: true, path: '/:claim', component: _ShowPage2.default }),\n    _react2.default.createElement(_reactRouterDom.Route, { component: _FourOhFourPage2.default })\n  );\n};\n\nexports.default = App;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(98);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var publish = _ref.publish;\n\n  return {\n    file: publish.file,\n    thumbnail: publish.thumbnail,\n    fileError: publish.error.file\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    selectFile: function selectFile(file) {\n      dispatch((0, _publish.selectFile)(file));\n    },\n    setFileError: function setFileError(value) {\n      dispatch((0, _publish.clearFile)());\n      dispatch((0, _publish.updateError)('file', value));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _channel = __webpack_require__(19);\n\nvar _view = __webpack_require__(115);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _publish = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onChannelLogin: function onChannelLogin(name, shortId, longId) {\n      dispatch((0, _channel.updateLoggedInChannel)(name, shortId, longId));\n      dispatch((0, _publish.updateSelectedChannel)(name));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _channel = __webpack_require__(19);\n\nvar _view = __webpack_require__(116);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _publish = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onChannelLogin: function onChannelLogin(name, shortId, longId) {\n      dispatch((0, _channel.updateLoggedInChannel)(name, shortId, longId));\n      dispatch((0, _publish.updateSelectedChannel)(name));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(null, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar CHANNEL = exports.CHANNEL = 'CHANNEL';\nvar ASSET_LITE = exports.ASSET_LITE = 'ASSET_LITE';\nvar ASSET_DETAILS = exports.ASSET_DETAILS = 'ASSET_DETAILS';\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(129);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _show = __webpack_require__(7);\n\nvar _show2 = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  // select error and status\n  var error = show.displayAsset.error;\n  var status = show.displayAsset.status;\n  // select asset\n  var asset = (0, _show2.selectAsset)(show);\n  //  return props\n  return {\n    error: error,\n    status: status,\n    asset: asset\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFileRequest: function onFileRequest(name, claimId) {\n      dispatch((0, _show.fileRequested)(name, claimId));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (helmet, html, preloadedState) {\n    // take the html and preloadedState and return the full page\n    return '\\n    <!DOCTYPE html>\\n    <html lang=\"en\" prefix=\"og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#\">\\n        <head>\\n            <meta charset=\"UTF-8\">\\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no\">\\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\\n            <!--helmet-->\\n            ' + helmet.title.toString() + '\\n            ' + helmet.meta.toString() + '\\n            ' + helmet.link.toString() + '\\n            <!--style sheets-->\\n            <link rel=\"stylesheet\" href=\"/assets/css/reset.css\" type=\"text/css\">\\n            <link rel=\"stylesheet\" href=\"/assets/css/general.css\" type=\"text/css\">\\n            <link rel=\"stylesheet\" href=\"/assets/css/mediaQueries.css\" type=\"text/css\">\\n            <!--google font-->\\n            <link href=\"https://fonts.googleapis.com/css?family=Roboto:300\" rel=\"stylesheet\">\\n        </head>\\n        <body id=\"main-body\">\\n            <div class=\"row row--tall flex-container--column\">\\n                <div id=\"react-app\" class=\"row row--tall flex-container--column\">' + html + '</div>\\n            </div>\\n            <script>\\n                window.__PRELOADED_STATE__ = ' + JSON.stringify(preloadedState).replace(/</g, '\\\\<') + '\\n            </script>\\n            <script src=\"/bundle/bundle.js\"></script>\\n        </body>\\n    </html>\\n  ';\n};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(46);\n__webpack_require__(47);\nmodule.exports = __webpack_require__(48);\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"babel-polyfill\");\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"whatwg-fetch\");\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// app dependencies\nvar express = __webpack_require__(49);\nvar bodyParser = __webpack_require__(50);\nvar expressHandlebars = __webpack_require__(51);\nvar Handlebars = __webpack_require__(52);\nvar helmet = __webpack_require__(53);\nvar passport = __webpack_require__(22);\n\nvar _require = __webpack_require__(54),\n    populateLocalsDotUser = _require.populateLocalsDotUser,\n    serializeSpeechUser = _require.serializeSpeechUser,\n    deserializeSpeechUser = _require.deserializeSpeechUser;\n\nvar cookieSession = __webpack_require__(55);\nvar http = __webpack_require__(56);\n// logging dependencies\nvar logger = __webpack_require__(2);\n\nfunction SpeechServer(_ref) {\n  var _this = this;\n\n  var mysqlConfig = _ref.mysqlConfig,\n      siteConfig = _ref.siteConfig,\n      slackConfig = _ref.slackConfig;\n\n  this.PORT = 3000;\n  this.speak = function (something) {\n    console.log(something);\n  };\n  this.start = function () {\n    _this.configureConfigFiles();\n    _this.configureLogging();\n    _this.configureApp();\n    _this.configureServer();\n    _this.startServer();\n  };\n  this.configureConfigFiles = function () {\n    var mysqlAppConfig = __webpack_require__(23);\n    mysqlAppConfig.configure(mysqlConfig);\n    var slackAppConfig = __webpack_require__(24);\n    slackAppConfig.configure(slackConfig);\n    // print the config variables\n    __webpack_require__(57)({\n      mysqlAppConfig: mysqlAppConfig,\n      slackAppConfig: slackAppConfig\n    });\n  };\n  this.configureLogging = function () {\n    __webpack_require__(58)(logger);\n    __webpack_require__(60)(logger);\n  };\n  this.configureApp = function () {\n    var app = express(); // create an Express application\n\n    // trust the proxy to get ip address for us\n    app.enable('trust proxy');\n\n    // add middleware\n    app.use(helmet()); // set HTTP headers to protect against well-known web vulnerabilties\n    app.use(express.static(__dirname + '/public')); // 'express.static' to serve static files from public directory\n    app.use(bodyParser.json()); // 'body parser' for parsing application/json\n    app.use(bodyParser.urlencoded({ extended: true })); // 'body parser' for parsing application/x-www-form-urlencoded\n    app.use(function (req, res, next) {\n      // custom logging middleware to log all incoming http requests\n      logger.verbose('Request on ' + req.originalUrl + ' from ' + req.ip);\n      next();\n    });\n\n    // configure passport\n    passport.serializeUser(serializeSpeechUser);\n    passport.deserializeUser(deserializeSpeechUser);\n    var localSignupStrategy = __webpack_require__(62);\n    var localLoginStrategy = __webpack_require__(66);\n    passport.use('local-signup', localSignupStrategy);\n    passport.use('local-login', localLoginStrategy);\n    // initialize passport\n    app.use(cookieSession({\n      name: 'session',\n      keys: [siteConfig.session.sessionKey],\n      maxAge: 24 * 60 * 60 * 1000 // i.e. 24 hours\n    }));\n    app.use(passport.initialize());\n    app.use(passport.session());\n\n    // configure handlebars & register it with express app\n    var hbs = expressHandlebars.create({\n      defaultLayout: 'embed',\n      handlebars: Handlebars\n    });\n    app.engine('handlebars', hbs.engine);\n    app.set('view engine', 'handlebars');\n\n    // middleware to pass user info back to client (for handlebars access), if user is logged in\n    app.use(populateLocalsDotUser); // note: I don't think I need this any more?\n\n    // set the routes on the app\n    __webpack_require__(67)(app);\n    __webpack_require__(68)(app);\n    __webpack_require__(82)(app);\n    __webpack_require__(142)(app);\n    __webpack_require__(153)(app);\n\n    _this.app = app;\n  };\n  this.configureServer = function () {\n    _this.server = http.Server(_this.app);\n  };\n  this.startServer = function () {\n    var db = __webpack_require__(11);\n    // sync sequelize\n    db.sequelize.sync()\n    // start the server\n    .then(function () {\n      _this.server.listen(_this.PORT, function () {\n        logger.info('Server is listening on PORT ' + _this.PORT);\n      });\n    }).catch(function (error) {\n      logger.error('Startup Error:', error);\n    });\n  };\n};\n\nmodule.exports = SpeechServer;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"express\");\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"body-parser\");\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"express-handlebars\");\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"handlebars\");\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"helmet\");\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\n\nmodule.exports = {\n  populateLocalsDotUser: function populateLocalsDotUser(req, res, next) {\n    if (req.user) {\n      logger.debug('populating res.locals.user');\n      res.locals.user = {\n        id: req.user.id,\n        userName: req.user.userName,\n        channelName: req.user.channelName,\n        channelClaimId: req.user.channelClaimId,\n        shortChannelId: req.user.shortChannelId\n      };\n    }\n    next();\n  },\n  serializeSpeechUser: function serializeSpeechUser(user, done) {\n    // returns user data to be serialized into session\n    logger.debug('serializing user');\n    done(null, user);\n  },\n  deserializeSpeechUser: function deserializeSpeechUser(user, done) {\n    // deserializes session and populates additional info to req.user\n    logger.debug('deserializing user');\n    done(null, user);\n  }\n};\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"cookie-session\");\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"http\");\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\n\nmodule.exports = function (config) {\n  // get the config file\n  for (var configCategoryKey in config) {\n    if (config.hasOwnProperty(configCategoryKey)) {\n      // get the final variables for each config category\n      var configVariables = config[configCategoryKey];\n      for (var configVarKey in configVariables) {\n        if (configVariables.hasOwnProperty(configVarKey)) {\n          // print each variable\n          logger.debug('CONFIG CHECK: ' + configCategoryKey + '.' + configVarKey + ' === ' + configVariables[configVarKey]);\n        }\n      }\n    }\n  }\n};\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _require = __webpack_require__(59),\n    logLevel = _require.logLevel;\n\nmodule.exports = function (winston) {\n  // configure\n  winston.configure({\n    transports: [new winston.transports.Console({\n      level: logLevel,\n      timestamp: false,\n      colorize: true,\n      prettyPrint: true,\n      handleExceptions: true,\n      humanReadableUnhandledException: true\n    })]\n  });\n  // test all the log levels\n  winston.error('Level 0');\n  winston.warn('Level 1');\n  winston.info('Level 2');\n  winston.verbose('Level 3');\n  winston.debug('Level 4');\n  winston.silly('Level 5');\n};\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar loggerConfig = {\n  logLevel: 'debug' // options: silly, debug, verbose, info\n};\n\nmodule.exports = loggerConfig;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar winstonSlackWebHook = __webpack_require__(61).SlackWebHook;\nvar slackConfig = __webpack_require__(24);\n\nmodule.exports = function (winston) {\n  var slackWebHook = slackConfig.slackWebHook,\n      slackErrorChannel = slackConfig.slackErrorChannel,\n      slackInfoChannel = slackConfig.slackInfoChannel;\n\n  if (slackWebHook) {\n    // add a transport for errors to slack\n    if (slackErrorChannel) {\n      winston.add(winstonSlackWebHook, {\n        name: 'slack-errors-transport',\n        level: 'warn',\n        webhookUrl: slackWebHook,\n        channel: slackErrorChannel,\n        username: 'spee.ch',\n        iconEmoji: ':face_with_head_bandage:'\n      });\n    };\n    if (slackInfoChannel) {\n      winston.add(winstonSlackWebHook, {\n        name: 'slack-info-transport',\n        level: 'info',\n        webhookUrl: slackWebHook,\n        channel: slackInfoChannel,\n        username: 'spee.ch',\n        iconEmoji: ':nerd_face:'\n      });\n    };\n    // send test message\n    winston.error('Slack \"error\" logging is online.');\n    winston.info('Slack \"info\" logging is online.');\n  } else {\n    winston.warn('Slack logging is not enabled because no slackWebHook config var provided.');\n  }\n};\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"winston-slack-webhook\");\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar PassportLocalStrategy = __webpack_require__(25).Strategy;\nvar lbryApi = __webpack_require__(16);\nvar logger = __webpack_require__(2);\n\nmodule.exports = function (db) {\n  return new PassportLocalStrategy({\n    usernameField: 'username',\n    passwordField: 'password'\n  }, function (username, password, done) {\n    logger.verbose('new channel signup request. user: ' + username + ' pass: ' + password + ' .');\n    var userInfo = {};\n    // server-side validaton of inputs (username, password)\n\n    // create the channel and retrieve the metadata\n    return lbryApi.createChannel('@' + username).then(function (tx) {\n      // create user record\n      var userData = {\n        userName: username,\n        password: password\n      };\n      logger.verbose('userData >', userData);\n      // create user record\n      var channelData = {\n        channelName: '@' + username,\n        channelClaimId: tx.claim_id\n      };\n      logger.verbose('channelData >', channelData);\n      // create certificate record\n      var certificateData = {\n        claimId: tx.claim_id,\n        name: '@' + username\n        // address,\n      };\n      logger.verbose('certificateData >', certificateData);\n      // save user and certificate to db\n      return Promise.all([db.User.create(userData), db.Channel.create(channelData), db.Certificate.create(certificateData)]);\n    }).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 3),\n          newUser = _ref2[0],\n          newChannel = _ref2[1],\n          newCertificate = _ref2[2];\n\n      logger.verbose('user and certificate successfully created');\n      // store the relevant newUser info to be passed back for req.User\n      userInfo['id'] = newUser.id;\n      userInfo['userName'] = newUser.userName;\n      userInfo['channelName'] = newChannel.channelName;\n      userInfo['channelClaimId'] = newChannel.channelClaimId;\n      // associate the instances\n      return Promise.all([newCertificate.setChannel(newChannel), newChannel.setUser(newUser)]);\n    }).then(function () {\n      logger.verbose('user and certificate successfully associated');\n      return db.Certificate.getShortChannelIdFromLongChannelId(userInfo.channelClaimId, userInfo.channelName);\n    }).then(function (shortChannelId) {\n      userInfo['shortChannelId'] = shortChannelId;\n      return done(null, userInfo);\n    }).catch(function (error) {\n      logger.error('signup error', error);\n      return done(error);\n    });\n  });\n};\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"axios\");\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar lbryConfig = {\n  api: {\n    apiHost: 'localhost',\n    apiPort: '5279'\n  }\n};\n\nmodule.exports = lbryConfig;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"universal-analytics\");\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar PassportLocalStrategy = __webpack_require__(25).Strategy;\nvar logger = __webpack_require__(2);\n\nmodule.exports = function (db) {\n  var returnUserAndChannelInfo = function returnUserAndChannelInfo(userInstance) {\n    return new Promise(function (resolve, reject) {\n      var userInfo = {};\n      userInfo['id'] = userInstance.id;\n      userInfo['userName'] = userInstance.userName;\n      userInstance.getChannel().then(function (_ref) {\n        var channelName = _ref.channelName,\n            channelClaimId = _ref.channelClaimId;\n\n        userInfo['channelName'] = channelName;\n        userInfo['channelClaimId'] = channelClaimId;\n        return db.Certificate.getShortChannelIdFromLongChannelId(channelClaimId, channelName);\n      }).then(function (shortChannelId) {\n        userInfo['shortChannelId'] = shortChannelId;\n        resolve(userInfo);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  return new PassportLocalStrategy({\n    usernameField: 'username',\n    passwordField: 'password'\n  }, function (username, password, done) {\n    return db.User.findOne({\n      where: { userName: username }\n    }).then(function (user) {\n      if (!user) {\n        logger.debug('no user found');\n        return done(null, false, { message: 'Incorrect username or password' });\n      }\n      return user.comparePassword(password).then(function (isMatch) {\n        if (!isMatch) {\n          logger.debug('incorrect password');\n          return done(null, false, { message: 'Incorrect username or password' });\n        }\n        logger.debug('Password was a match, returning User');\n        return returnUserAndChannelInfo(user).then(function (userInfo) {\n          return done(null, userInfo);\n        }).catch(function (error) {\n          return error;\n        });\n      }).catch(function (error) {\n        return error;\n      });\n    }).catch(function (error) {\n      return done(error);\n    });\n  });\n};\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\nvar passport = __webpack_require__(22);\n\nmodule.exports = function (app) {\n  // route for sign up\n  app.post('/signup', passport.authenticate('local-signup'), function (req, res) {\n    logger.verbose('successful signup for ' + req.user.channelName);\n    res.status(200).json({\n      success: true,\n      channelName: req.user.channelName,\n      channelClaimId: req.user.channelClaimId,\n      shortChannelId: req.user.shortChannelId\n    });\n  });\n  // route for log in\n  app.post('/login', function (req, res, next) {\n    passport.authenticate('local-login', function (err, user, info) {\n      logger.debug('info:', info);\n      if (err) {\n        return next(err);\n      }\n      if (!user) {\n        return res.status(400).json({\n          success: false,\n          message: info.message\n        });\n      }\n      logger.debug('successful login');\n      req.logIn(user, function (err) {\n        if (err) {\n          return next(err);\n        }\n        return res.status(200).json({\n          success: true,\n          channelName: req.user.channelName,\n          channelClaimId: req.user.channelClaimId,\n          shortChannelId: req.user.shortChannelId\n        });\n      });\n    })(req, res, next);\n  });\n  // route to log out\n  app.get('/logout', function (req, res) {\n    req.logout();\n    res.status(200).json({ success: true, message: 'you successfully logged out' });\n  });\n  // see if user is authenticated, and return credentials if so\n  app.get('/user', function (req, res) {\n    if (req.user) {\n      res.status(200).json({ success: true, data: req.user });\n    } else {\n      res.status(401).json({ success: false, message: 'user is not logged in' });\n    }\n  });\n};\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar logger = __webpack_require__(2);\nvar multipart = __webpack_require__(69);\n\nvar _require = __webpack_require__(3),\n    files = _require.files,\n    site = _require.site;\n\nvar multipartMiddleware = multipart({ uploadDir: files.uploadDirectory });\nvar db = __webpack_require__(11);\n\nvar _require2 = __webpack_require__(78),\n    claimNameIsAvailable = _require2.claimNameIsAvailable,\n    checkChannelAvailability = _require2.checkChannelAvailability,\n    publish = _require2.publish;\n\nvar _require3 = __webpack_require__(16),\n    getClaimList = _require3.getClaimList,\n    resolveUri = _require3.resolveUri,\n    getClaim = _require3.getClaim;\n\nvar _require4 = __webpack_require__(27),\n    addGetResultsToFileData = _require4.addGetResultsToFileData,\n    createBasicPublishParams = _require4.createBasicPublishParams,\n    createThumbnailPublishParams = _require4.createThumbnailPublishParams,\n    parsePublishApiRequestBody = _require4.parsePublishApiRequestBody,\n    parsePublishApiRequestFiles = _require4.parsePublishApiRequestFiles,\n    createFileData = _require4.createFileData;\n\nvar errorHandlers = __webpack_require__(28);\n\nvar _require5 = __webpack_require__(17),\n    sendGATimingEvent = _require5.sendGATimingEvent;\n\nvar _require6 = __webpack_require__(80),\n    authenticateUser = _require6.authenticateUser;\n\nvar _require7 = __webpack_require__(29),\n    getChannelData = _require7.getChannelData,\n    getChannelClaims = _require7.getChannelClaims,\n    getClaimId = _require7.getClaimId;\n\nvar NO_CHANNEL = 'NO_CHANNEL';\nvar NO_CLAIM = 'NO_CLAIM';\n\nmodule.exports = function (app) {\n  // route to check whether site has published to a channel\n  app.get('/api/channel/availability/:name', function (_ref, res) {\n    var ip = _ref.ip,\n        originalUrl = _ref.originalUrl,\n        params = _ref.params;\n\n    checkChannelAvailability(params.name).then(function (result) {\n      if (result === true) {\n        res.status(200).json(true);\n      } else {\n        res.status(200).json(false);\n      }\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to get a short channel id from long channel Id\n  app.get('/api/channel/short-id/:longId/:name', function (_ref2, res) {\n    var ip = _ref2.ip,\n        originalUrl = _ref2.originalUrl,\n        params = _ref2.params;\n\n    db.Certificate.getShortChannelIdFromLongChannelId(params.longId, params.name).then(function (shortId) {\n      res.status(200).json(shortId);\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  app.get('/api/channel/data/:channelName/:channelClaimId', function (_ref3, res) {\n    var ip = _ref3.ip,\n        originalUrl = _ref3.originalUrl,\n        body = _ref3.body,\n        params = _ref3.params;\n\n    var channelName = params.channelName;\n    var channelClaimId = params.channelClaimId;\n    if (channelClaimId === 'none') channelClaimId = null;\n    getChannelData(channelName, channelClaimId, 0).then(function (data) {\n      if (data === NO_CHANNEL) {\n        return res.status(404).json({ success: false, message: 'No matching channel was found' });\n      }\n      res.status(200).json({ success: true, data: data });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  app.get('/api/channel/claims/:channelName/:channelClaimId/:page', function (_ref4, res) {\n    var ip = _ref4.ip,\n        originalUrl = _ref4.originalUrl,\n        body = _ref4.body,\n        params = _ref4.params;\n\n    var channelName = params.channelName;\n    var channelClaimId = params.channelClaimId;\n    if (channelClaimId === 'none') channelClaimId = null;\n    var page = params.page;\n    getChannelClaims(channelName, channelClaimId, page).then(function (data) {\n      if (data === NO_CHANNEL) {\n        return res.status(404).json({ success: false, message: 'No matching channel was found' });\n      }\n      res.status(200).json({ success: true, data: data });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to run a claim_list request on the daemon\n  app.get('/api/claim/list/:name', function (_ref5, res) {\n    var ip = _ref5.ip,\n        originalUrl = _ref5.originalUrl,\n        params = _ref5.params;\n\n    getClaimList(params.name).then(function (claimsList) {\n      res.status(200).json(claimsList);\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to get an asset\n  app.get('/api/claim/get/:name/:claimId', function (_ref6, res) {\n    var ip = _ref6.ip,\n        originalUrl = _ref6.originalUrl,\n        params = _ref6.params;\n\n    var name = params.name;\n    var claimId = params.claimId;\n    // resolve the claim\n    db.Claim.resolveClaim(name, claimId).then(function (resolveResult) {\n      // make sure a claim actually exists at that uri\n      if (!resolveResult) {\n        throw new Error('No matching uri found in Claim table');\n      }\n      var fileData = createFileData(resolveResult);\n      // get the claim\n      return Promise.all([fileData, getClaim(name + '#' + claimId)]);\n    }).then(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          fileData = _ref8[0],\n          getResult = _ref8[1];\n\n      fileData = addGetResultsToFileData(fileData, getResult);\n      return Promise.all([db.upsert(db.File, fileData, { name: name, claimId: claimId }, 'File'), getResult]);\n    }).then(function (_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 2),\n          fileRecord = _ref10[0],\n          _ref10$ = _ref10[1],\n          message = _ref10$.message,\n          completed = _ref10$.completed;\n\n      res.status(200).json({ success: true, message: message, completed: completed });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to check whether this site published to a claim\n  app.get('/api/claim/availability/:name', function (_ref11, res) {\n    var ip = _ref11.ip,\n        originalUrl = _ref11.originalUrl,\n        params = _ref11.params;\n\n    claimNameIsAvailable(params.name).then(function (result) {\n      res.status(200).json(result);\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to run a resolve request on the daemon\n  app.get('/api/claim/resolve/:name/:claimId', function (_ref12, res) {\n    var headers = _ref12.headers,\n        ip = _ref12.ip,\n        originalUrl = _ref12.originalUrl,\n        params = _ref12.params;\n\n    resolveUri(params.name + '#' + params.claimId).then(function (resolvedUri) {\n      res.status(200).json(resolvedUri);\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to run a publish request on the daemon\n  app.post('/api/claim/publish', multipartMiddleware, function (_ref13, res) {\n    var body = _ref13.body,\n        files = _ref13.files,\n        headers = _ref13.headers,\n        ip = _ref13.ip,\n        originalUrl = _ref13.originalUrl,\n        user = _ref13.user;\n\n    logger.debug('api/claim/publish req.body:', body);\n    logger.debug('api/claim/publish req.files:', files);\n    // define variables\n    var channelName = void 0,\n        channelId = void 0,\n        channelPassword = void 0,\n        description = void 0,\n        fileName = void 0,\n        filePath = void 0,\n        fileType = void 0,\n        gaStartTime = void 0,\n        license = void 0,\n        name = void 0,\n        nsfw = void 0,\n        thumbnail = void 0,\n        thumbnailFileName = void 0,\n        thumbnailFilePath = void 0,\n        thumbnailFileType = void 0,\n        title = void 0;\n    // record the start time of the request\n    gaStartTime = Date.now();\n    // validate the body and files of the request\n    try {\n      var _parsePublishApiReque = parsePublishApiRequestBody(body);\n      // validateApiPublishRequest(body, files);\n\n\n      name = _parsePublishApiReque.name;\n      nsfw = _parsePublishApiReque.nsfw;\n      license = _parsePublishApiReque.license;\n      title = _parsePublishApiReque.title;\n      description = _parsePublishApiReque.description;\n      thumbnail = _parsePublishApiReque.thumbnail;\n\n      var _parsePublishApiReque2 = parsePublishApiRequestFiles(files);\n\n      fileName = _parsePublishApiReque2.fileName;\n      filePath = _parsePublishApiReque2.filePath;\n      fileType = _parsePublishApiReque2.fileType;\n      thumbnailFileName = _parsePublishApiReque2.thumbnailFileName;\n      thumbnailFilePath = _parsePublishApiReque2.thumbnailFilePath;\n      thumbnailFileType = _parsePublishApiReque2.thumbnailFileType;\n      channelName = body.channelName;\n      channelId = body.channelId;\n      channelPassword = body.channelPassword;\n    } catch (error) {\n      return res.status(400).json({ success: false, message: error.message });\n    }\n    // check channel authorization\n    Promise.all([authenticateUser(channelName, channelId, channelPassword, user), claimNameIsAvailable(name), createBasicPublishParams(filePath, name, title, description, license, nsfw, thumbnail), createThumbnailPublishParams(thumbnailFilePath, name, license, nsfw)]).then(function (_ref14) {\n      var _ref15 = _slicedToArray(_ref14, 4),\n          _ref15$ = _ref15[0],\n          channelName = _ref15$.channelName,\n          channelClaimId = _ref15$.channelClaimId,\n          validatedClaimName = _ref15[1],\n          publishParams = _ref15[2],\n          thumbnailPublishParams = _ref15[3];\n\n      // add channel details to the publish params\n      if (channelName && channelClaimId) {\n        publishParams['channel_name'] = channelName;\n        publishParams['channel_id'] = channelClaimId;\n      }\n      // publish the thumbnail\n      if (thumbnailPublishParams) {\n        publish(thumbnailPublishParams, thumbnailFileName, thumbnailFileType);\n      }\n      // publish the asset\n      return publish(publishParams, fileName, fileType);\n    }).then(function (result) {\n      res.status(200).json({\n        success: true,\n        message: 'publish completed successfully',\n        data: {\n          name: name,\n          claimId: result.claim_id,\n          url: site.host + '/' + result.claim_id + '/' + name,\n          lbryTx: result\n        }\n      });\n      // record the publish end time and send to google analytics\n      sendGATimingEvent('end-to-end', 'publish', fileType, gaStartTime, Date.now());\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to get a short claim id from long claim Id\n  app.get('/api/claim/short-id/:longId/:name', function (_ref16, res) {\n    var ip = _ref16.ip,\n        originalUrl = _ref16.originalUrl,\n        body = _ref16.body,\n        params = _ref16.params;\n\n    db.Claim.getShortClaimIdFromLongClaimId(params.longId, params.name).then(function (shortId) {\n      res.status(200).json({ success: true, data: shortId });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  app.post('/api/claim/long-id', function (_ref17, res) {\n    var ip = _ref17.ip,\n        originalUrl = _ref17.originalUrl,\n        body = _ref17.body,\n        params = _ref17.params;\n\n    logger.debug('body:', body);\n    var channelName = body.channelName;\n    var channelClaimId = body.channelClaimId;\n    var claimName = body.claimName;\n    var claimId = body.claimId;\n    getClaimId(channelName, channelClaimId, claimName, claimId).then(function (result) {\n      if (result === NO_CHANNEL) {\n        return res.status(404).json({ success: false, message: 'No matching channel could be found' });\n      }\n      if (result === NO_CLAIM) {\n        return res.status(404).json({ success: false, message: 'No matching claim id could be found' });\n      }\n      res.status(200).json({ success: true, data: result });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  app.get('/api/claim/data/:claimName/:claimId', function (_ref18, res) {\n    var ip = _ref18.ip,\n        originalUrl = _ref18.originalUrl,\n        body = _ref18.body,\n        params = _ref18.params;\n\n    var claimName = params.claimName;\n    var claimId = params.claimId;\n    if (claimId === 'none') claimId = null;\n    db.Claim.resolveClaim(claimName, claimId).then(function (claimInfo) {\n      if (!claimInfo) {\n        return res.status(404).json({ success: false, message: 'No claim could be found' });\n      }\n      res.status(200).json({ success: true, data: claimInfo });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n  // route to see if asset is available locally\n  app.get('/api/file/availability/:name/:claimId', function (_ref19, res) {\n    var ip = _ref19.ip,\n        originalUrl = _ref19.originalUrl,\n        params = _ref19.params;\n\n    var name = params.name;\n    var claimId = params.claimId;\n    db.File.findOne({ where: { name: name, claimId: claimId } }).then(function (result) {\n      if (result) {\n        return res.status(200).json({ success: true, data: true });\n      }\n      res.status(200).json({ success: true, data: false });\n    }).catch(function (error) {\n      errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n    });\n  });\n};\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"connect-multiparty\");\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"sequelize\");\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\n\nvar _require = __webpack_require__(26),\n    returnShortId = _require.returnShortId;\n\nmodule.exports = function (sequelize, _ref) {\n  var STRING = _ref.STRING,\n      BOOLEAN = _ref.BOOLEAN,\n      INTEGER = _ref.INTEGER,\n      TEXT = _ref.TEXT,\n      DECIMAL = _ref.DECIMAL;\n\n  var Certificate = sequelize.define('Certificate', {\n    address: {\n      type: STRING,\n      default: null\n    },\n    amount: {\n      type: DECIMAL(19, 8),\n      default: null\n    },\n    claimId: {\n      type: STRING,\n      default: null\n    },\n    claimSequence: {\n      type: INTEGER,\n      default: null\n    },\n    decodedClaim: {\n      type: BOOLEAN,\n      default: null\n    },\n    depth: {\n      type: INTEGER,\n      default: null\n    },\n    effectiveAmount: {\n      type: DECIMAL(19, 8),\n      default: null\n    },\n    hasSignature: {\n      type: BOOLEAN,\n      default: null\n    },\n    height: {\n      type: INTEGER,\n      default: null\n    },\n    hex: {\n      type: TEXT('long'),\n      default: null\n    },\n    name: {\n      type: STRING,\n      default: null\n    },\n    nout: {\n      type: INTEGER,\n      default: null\n    },\n    txid: {\n      type: STRING,\n      default: null\n    },\n    validAtHeight: {\n      type: INTEGER,\n      default: null\n    },\n    outpoint: {\n      type: STRING,\n      default: null\n    },\n    valueVersion: {\n      type: STRING,\n      default: null\n    },\n    claimType: {\n      type: STRING,\n      default: null\n    },\n    certificateVersion: {\n      type: STRING,\n      default: null\n    },\n    keyType: {\n      type: STRING,\n      default: null\n    },\n    publicKey: {\n      type: TEXT('long'),\n      default: null\n    }\n  }, {\n    freezeTableName: true\n  });\n\n  Certificate.associate = function (db) {\n    Certificate.belongsTo(db.Channel, {\n      foreignKey: {\n        allowNull: true\n      }\n    });\n  };\n\n  Certificate.getShortChannelIdFromLongChannelId = function (longChannelId, channelName) {\n    var _this = this;\n\n    logger.debug('getShortChannelIdFromLongChannelId ' + channelName + ':' + longChannelId);\n    return new Promise(function (resolve, reject) {\n      _this.findAll({\n        where: { name: channelName },\n        order: [['height', 'ASC']]\n      }).then(function (result) {\n        switch (result.length) {\n          case 0:\n            throw new Error('No channel(s) found with that channel name');\n          default:\n            return resolve(returnShortId(result, longChannelId));\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Certificate.getLongChannelIdFromShortChannelId = function (channelName, channelClaimId) {\n    var _this2 = this;\n\n    logger.debug('getLongChannelIdFromShortChannelId(' + channelName + ', ' + channelClaimId + ')');\n    return new Promise(function (resolve, reject) {\n      _this2.findAll({\n        where: {\n          name: channelName,\n          claimId: {\n            $like: channelClaimId + '%'\n          }\n        },\n        order: [['height', 'ASC']]\n      }).then(function (result) {\n        switch (result.length) {\n          case 0:\n            return resolve(null);\n          default:\n            // note results must be sorted\n            return resolve(result[0].claimId);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Certificate.getLongChannelIdFromChannelName = function (channelName) {\n    var _this3 = this;\n\n    logger.debug('getLongChannelIdFromChannelName(' + channelName + ')');\n    return new Promise(function (resolve, reject) {\n      _this3.findAll({\n        where: { name: channelName },\n        order: [['effectiveAmount', 'DESC'], ['height', 'ASC']]\n      }).then(function (result) {\n        switch (result.length) {\n          case 0:\n            return resolve(null);\n          default:\n            return resolve(result[0].claimId);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Certificate.validateLongChannelId = function (name, claimId) {\n    var _this4 = this;\n\n    logger.debug('validateLongChannelId(' + name + ', ' + claimId + ')');\n    return new Promise(function (resolve, reject) {\n      _this4.findOne({\n        where: { name: name, claimId: claimId }\n      }).then(function (result) {\n        if (!result) {\n          return resolve(null);\n        };\n        resolve(claimId);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Certificate.getLongChannelId = function (channelName, channelClaimId) {\n    logger.debug('getLongChannelId(' + channelName + ', ' + channelClaimId + ')');\n    if (channelClaimId && channelClaimId.length === 40) {\n      // if a full channel id is provided\n      return this.validateLongChannelId(channelName, channelClaimId);\n    } else if (channelClaimId && channelClaimId.length < 40) {\n      // if a short channel id is provided\n      return this.getLongChannelIdFromShortChannelId(channelName, channelClaimId);\n    } else {\n      return this.getLongChannelIdFromChannelName(channelName); // if no channel id provided\n    }\n  };\n\n  return Certificate;\n};\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (sequelize, _ref) {\n  var STRING = _ref.STRING;\n\n  var Channel = sequelize.define('Channel', {\n    channelName: {\n      type: STRING,\n      allowNull: false\n    },\n    channelClaimId: {\n      type: STRING,\n      allowNull: false\n    }\n  }, {\n    freezeTableName: true\n  });\n\n  Channel.associate = function (db) {\n    Channel.belongsTo(db.User);\n    Channel.hasOne(db.Certificate);\n  };\n\n  return Channel;\n};\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\n\nvar _require = __webpack_require__(26),\n    returnShortId = _require.returnShortId;\n\nvar _require2 = __webpack_require__(3),\n    claim = _require2.claim,\n    site = _require2.site;\n\nvar defaultThumbnail = claim.defaultThumbnail;\n\n\nfunction determineFileExtensionFromContentType(contentType) {\n  switch (contentType) {\n    case 'image/jpeg':\n    case 'image/jpg':\n      return 'jpeg';\n    case 'image/png':\n      return 'png';\n    case 'image/gif':\n      return 'gif';\n    case 'video/mp4':\n      return 'mp4';\n    default:\n      logger.debug('setting unknown file type as file extension jpeg');\n      return 'jpeg';\n  }\n};\n\nfunction determineThumbnail(storedThumbnail, defaultThumbnail) {\n  if (storedThumbnail === '') {\n    return defaultThumbnail;\n  }\n  return storedThumbnail;\n};\n\nfunction prepareClaimData(claim) {\n  // logger.debug('preparing claim data based on resolved data:', claim);\n  claim['thumbnail'] = determineThumbnail(claim.thumbnail, defaultThumbnail);\n  claim['fileExt'] = determineFileExtensionFromContentType(claim.contentType);\n  claim['host'] = site.host;\n  return claim;\n};\n\nmodule.exports = function (sequelize, _ref) {\n  var STRING = _ref.STRING,\n      BOOLEAN = _ref.BOOLEAN,\n      INTEGER = _ref.INTEGER,\n      TEXT = _ref.TEXT,\n      DECIMAL = _ref.DECIMAL;\n\n  var Claim = sequelize.define('Claim', {\n    address: {\n      type: STRING,\n      default: null\n    },\n    amount: {\n      type: DECIMAL(19, 8),\n      default: null\n    },\n    claimId: {\n      type: STRING,\n      default: null\n    },\n    claimSequence: {\n      type: INTEGER,\n      default: null\n    },\n    decodedClaim: {\n      type: BOOLEAN,\n      default: null\n    },\n    depth: {\n      type: INTEGER,\n      default: null\n    },\n    effectiveAmount: {\n      type: DECIMAL(19, 8),\n      default: null\n    },\n    hasSignature: {\n      type: BOOLEAN,\n      default: null\n    },\n    height: {\n      type: INTEGER,\n      default: null\n    },\n    hex: {\n      type: TEXT('long'),\n      default: null\n    },\n    name: {\n      type: STRING,\n      default: null\n    },\n    nout: {\n      type: INTEGER,\n      default: null\n    },\n    txid: {\n      type: STRING,\n      default: null\n    },\n    validAtHeight: {\n      type: INTEGER,\n      default: null\n    },\n    outpoint: {\n      type: STRING,\n      default: null\n    },\n    claimType: {\n      type: STRING,\n      default: null\n    },\n    certificateId: {\n      type: STRING,\n      default: null\n    },\n    author: {\n      type: STRING,\n      default: null\n    },\n    description: {\n      type: TEXT('long'),\n      default: null\n    },\n    language: {\n      type: STRING,\n      default: null\n    },\n    license: {\n      type: STRING,\n      default: null\n    },\n    licenseUrl: {\n      type: STRING,\n      default: null\n    },\n    nsfw: {\n      type: BOOLEAN,\n      default: null\n    },\n    preview: {\n      type: STRING,\n      default: null\n    },\n    thumbnail: {\n      type: STRING,\n      default: null\n    },\n    title: {\n      type: STRING,\n      default: null\n    },\n    metadataVersion: {\n      type: STRING,\n      default: null\n    },\n    contentType: {\n      type: STRING,\n      default: null\n    },\n    source: {\n      type: STRING,\n      default: null\n    },\n    sourceType: {\n      type: STRING,\n      default: null\n    },\n    sourceVersion: {\n      type: STRING,\n      default: null\n    },\n    streamVersion: {\n      type: STRING,\n      default: null\n    },\n    valueVersion: {\n      type: STRING,\n      default: null\n    },\n    channelName: {\n      type: STRING,\n      allowNull: true,\n      default: null\n    }\n  }, {\n    freezeTableName: true\n  });\n\n  Claim.associate = function (db) {\n    Claim.belongsTo(db.File, {\n      foreignKey: {\n        allowNull: true\n      }\n    });\n  };\n\n  Claim.getShortClaimIdFromLongClaimId = function (claimId, claimName) {\n    var _this = this;\n\n    logger.debug('Claim.getShortClaimIdFromLongClaimId for ' + claimName + '#' + claimId);\n    return new Promise(function (resolve, reject) {\n      _this.findAll({\n        where: { name: claimName },\n        order: [['height', 'ASC']]\n      }).then(function (result) {\n        switch (result.length) {\n          case 0:\n            throw new Error('No claim(s) found with that claim name');\n          default:\n            resolve(returnShortId(result, claimId));\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Claim.getAllChannelClaims = function (channelClaimId) {\n    var _this2 = this;\n\n    logger.debug('Claim.getAllChannelClaims for ' + channelClaimId);\n    return new Promise(function (resolve, reject) {\n      _this2.findAll({\n        where: { certificateId: channelClaimId },\n        order: [['height', 'ASC']],\n        raw: true // returns an array of only data, not an array of instances\n      }).then(function (channelClaimsArray) {\n        // logger.debug('channelclaimsarray length:', channelClaimsArray.length);\n        switch (channelClaimsArray.length) {\n          case 0:\n            return resolve(null);\n          default:\n            channelClaimsArray.forEach(function (claim) {\n              claim['fileExt'] = determineFileExtensionFromContentType(claim.contentType);\n              claim['thumbnail'] = determineThumbnail(claim.thumbnail, defaultThumbnail);\n              return claim;\n            });\n            return resolve(channelClaimsArray);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Claim.getClaimIdByLongChannelId = function (channelClaimId, claimName) {\n    var _this3 = this;\n\n    logger.debug('finding claim id for claim ' + claimName + ' from channel ' + channelClaimId);\n    return new Promise(function (resolve, reject) {\n      _this3.findAll({\n        where: { name: claimName, certificateId: channelClaimId },\n        order: [['id', 'ASC']]\n      }).then(function (result) {\n        switch (result.length) {\n          case 0:\n            return resolve(null);\n          case 1:\n            return resolve(result[0].claimId);\n          default:\n            logger.error(result.length + ' records found for \"' + claimName + '\" in channel \"' + channelClaimId + '\"');\n            return resolve(result[0].claimId);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Claim.getLongClaimIdFromShortClaimId = function (name, shortId) {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this4.findAll({\n        where: {\n          name: name,\n          claimId: {\n            $like: shortId + '%'\n          } },\n        order: [['height', 'ASC']]\n      }).then(function (result) {\n        switch (result.length) {\n          case 0:\n            return resolve(null);\n          default:\n            // note results must be sorted\n            return resolve(result[0].claimId);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Claim.getTopFreeClaimIdByClaimName = function (name) {\n    var _this5 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this5.findAll({\n        where: { name: name },\n        order: [['effectiveAmount', 'DESC'], ['height', 'ASC']] // note: maybe height and effective amount need to switch?\n      }).then(function (result) {\n        logger.debug('length of result', result.length);\n        switch (result.length) {\n          case 0:\n            return resolve(null);\n          default:\n            return resolve(result[0].dataValues.claimId);\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Claim.validateLongClaimId = function (name, claimId) {\n    var _this6 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this6.findOne({\n        where: { name: name, claimId: claimId }\n      }).then(function (result) {\n        if (!result) {\n          return resolve(null);\n        };\n        resolve(claimId);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  Claim.getLongClaimId = function (claimName, claimId) {\n    logger.debug('getLongClaimId(' + claimName + ', ' + claimId + ')');\n    if (claimId && claimId.length === 40) {\n      // if a full claim id is provided\n      return this.validateLongClaimId(claimName, claimId);\n    } else if (claimId && claimId.length < 40) {\n      return this.getLongClaimIdFromShortClaimId(claimName, claimId); // if a short claim id is provided\n    } else {\n      return this.getTopFreeClaimIdByClaimName(claimName); // if no claim id is provided\n    }\n  };\n\n  Claim.resolveClaim = function (name, claimId) {\n    var _this7 = this;\n\n    logger.debug('Claim.resolveClaim: ' + name + ' ' + claimId);\n    return new Promise(function (resolve, reject) {\n      _this7.findAll({\n        where: { name: name, claimId: claimId }\n      }).then(function (claimArray) {\n        logger.debug('claims found on resolve:', claimArray.length);\n        switch (claimArray.length) {\n          case 0:\n            return resolve(null);\n          case 1:\n            return resolve(prepareClaimData(claimArray[0].dataValues));\n          default:\n            logger.error('more than one entry matches that name (' + name + ') and claimID (' + claimId + ')');\n            return resolve(prepareClaimData(claimArray[0].dataValues));\n        }\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  };\n\n  return Claim;\n};\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (sequelize, _ref) {\n  var STRING = _ref.STRING,\n      BOOLEAN = _ref.BOOLEAN,\n      INTEGER = _ref.INTEGER;\n\n  var File = sequelize.define('File', {\n    name: {\n      type: STRING,\n      allowNull: false\n    },\n    claimId: {\n      type: STRING,\n      allowNull: false\n    },\n    address: {\n      type: STRING,\n      allowNull: false\n    },\n    outpoint: {\n      type: STRING,\n      allowNull: false\n    },\n    height: {\n      type: INTEGER,\n      allowNull: false,\n      default: 0\n    },\n    fileName: {\n      type: STRING,\n      allowNull: false\n    },\n    filePath: {\n      type: STRING,\n      allowNull: false\n    },\n    fileType: {\n      type: STRING\n    },\n    nsfw: {\n      type: BOOLEAN,\n      allowNull: false,\n      defaultValue: false\n    },\n    trendingEligible: {\n      type: BOOLEAN,\n      allowNull: false,\n      defaultValue: true\n    }\n  }, {\n    freezeTableName: true\n  });\n\n  File.associate = function (db) {\n    File.hasMany(db.Request);\n    File.hasOne(db.Claim);\n  };\n\n  File.getRecentClaims = function () {\n    return this.findAll({\n      where: { nsfw: false, trendingEligible: true },\n      order: [['createdAt', 'DESC']],\n      limit: 25\n    });\n  };\n\n  return File;\n};\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (sequelize, _ref) {\n  var STRING = _ref.STRING,\n      BOOLEAN = _ref.BOOLEAN,\n      TEXT = _ref.TEXT;\n\n  var Request = sequelize.define('Request', {\n    action: {\n      type: STRING,\n      allowNull: false\n    },\n    url: {\n      type: STRING,\n      allowNull: false\n    },\n    ipAddress: {\n      type: STRING,\n      allowNull: true\n    },\n    result: {\n      type: TEXT('long'),\n      allowNull: true,\n      default: null\n    }\n  }, {\n    freezeTableName: true\n  });\n\n  Request.associate = function (db) {\n    Request.belongsTo(db.File, {\n      foreignKey: {\n        allowNull: true\n      }\n    });\n  };\n\n  return Request;\n};\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bcrypt = __webpack_require__(77);\nvar logger = __webpack_require__(2);\n\nmodule.exports = function (sequelize, _ref) {\n  var STRING = _ref.STRING;\n\n  var User = sequelize.define('User', {\n    userName: {\n      type: STRING,\n      allowNull: false\n    },\n    password: {\n      type: STRING,\n      allowNull: false\n    }\n  }, {\n    freezeTableName: true\n  });\n\n  User.associate = function (db) {\n    User.hasOne(db.Channel);\n  };\n\n  User.prototype.comparePassword = function (password) {\n    return bcrypt.compare(password, this.password);\n  };\n\n  User.prototype.changePassword = function (newPassword) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      // generate a salt string to use for hashing\n      bcrypt.genSalt(function (saltError, salt) {\n        if (saltError) {\n          logger.error('salt error', saltError);\n          reject(saltError);\n          return;\n        }\n        // generate a hashed version of the user's password\n        bcrypt.hash(newPassword, salt, function (hashError, hash) {\n          // if there is an error with the hash generation return the error\n          if (hashError) {\n            logger.error('hash error', hashError);\n            reject(hashError);\n            return;\n          }\n          // replace the current password with the new hash\n          _this.update({ password: hash }).then(function () {\n            resolve();\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      });\n    });\n  };\n\n  // pre-save hook method to hash the user's password before the user's info is saved to the db.\n  User.hook('beforeCreate', function (user, options) {\n    logger.debug('User.beforeCreate hook...');\n    return new Promise(function (resolve, reject) {\n      // generate a salt string to use for hashing\n      bcrypt.genSalt(function (saltError, salt) {\n        if (saltError) {\n          logger.error('salt error', saltError);\n          reject(saltError);\n          return;\n        }\n        // generate a hashed version of the user's password\n        bcrypt.hash(user.password, salt, function (hashError, hash) {\n          // if there is an error with the hash generation return the error\n          if (hashError) {\n            logger.error('hash error', hashError);\n            reject(hashError);\n            return;\n          }\n          // replace the password string with the hash password value\n          user.password = hash;\n          resolve();\n        });\n      });\n    });\n  });\n\n  return User;\n};\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"bcrypt\");\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar logger = __webpack_require__(2);\nvar db = __webpack_require__(11);\nvar lbryApi = __webpack_require__(16);\nvar publishHelpers = __webpack_require__(27);\nvar config = __webpack_require__(3);\n\nmodule.exports = {\n  publish: function publish(publishParams, fileName, fileType) {\n    return new Promise(function (resolve, reject) {\n      var publishResults = void 0,\n          certificateId = void 0,\n          channelName = void 0;\n      // publish the file\n      return lbryApi.publishClaim(publishParams).then(function (tx) {\n        logger.info('Successfully published ' + publishParams.name + ' ' + fileName, tx);\n        publishResults = tx;\n        // get the channel information\n        if (publishParams.channel_name) {\n          logger.debug('this claim was published in channel: ' + publishParams.channel_name);\n          return db.Channel.findOne({ where: { channelName: publishParams.channel_name } });\n        } else {\n          logger.debug('this claim was not published in a channel');\n          return null;\n        }\n      }).then(function (channel) {\n        // set channel information\n        certificateId = null;\n        channelName = null;\n        if (channel) {\n          certificateId = channel.channelClaimId;\n          channelName = channel.channelName;\n        }\n        logger.debug('certificateId: ' + certificateId);\n      }).then(function () {\n        // create the File record\n        var fileRecord = {\n          name: publishParams.name,\n          claimId: publishResults.claim_id,\n          title: publishParams.metadata.title,\n          description: publishParams.metadata.description,\n          address: publishParams.claim_address,\n          outpoint: publishResults.txid + ':' + publishResults.nout,\n          height: 0,\n          fileName: fileName,\n          filePath: publishParams.file_path,\n          fileType: fileType,\n          nsfw: publishParams.metadata.nsfw\n        };\n        // create the Claim record\n        var claimRecord = {\n          name: publishParams.name,\n          claimId: publishResults.claim_id,\n          title: publishParams.metadata.title,\n          description: publishParams.metadata.description,\n          address: publishParams.claim_address,\n          thumbnail: publishParams.metadata.thumbnail,\n          outpoint: publishResults.txid + ':' + publishResults.nout,\n          height: 0,\n          contentType: fileType,\n          nsfw: publishParams.metadata.nsfw,\n          amount: publishParams.bid,\n          certificateId: certificateId,\n          channelName: channelName\n        };\n        // upsert criteria\n        var upsertCriteria = {\n          name: publishParams.name,\n          claimId: publishResults.claim_id\n        };\n        // upsert the records\n        return Promise.all([db.upsert(db.File, fileRecord, upsertCriteria, 'File'), db.upsert(db.Claim, claimRecord, upsertCriteria, 'Claim')]);\n      }).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            file = _ref2[0],\n            claim = _ref2[1];\n\n        logger.debug('File and Claim records successfully created');\n        return Promise.all([file.setClaim(claim), claim.setFile(file)]);\n      }).then(function () {\n        logger.debug('File and Claim records successfully associated');\n        resolve(publishResults); // resolve the promise with the result from lbryApi.publishClaim;\n      }).catch(function (error) {\n        logger.error('PUBLISH ERROR', error);\n        publishHelpers.deleteTemporaryFile(publishParams.file_path); // delete the local file\n        reject(error);\n      });\n    });\n  },\n  claimNameIsAvailable: function claimNameIsAvailable(name) {\n    // find any records where the name is used\n    return db.File.findAll({ where: { name: name } }).then(function (result) {\n      if (result.length >= 1) {\n        var claimAddress = config.wallet.lbryClaimAddress;\n        // filter out any results that were not published from spee.ch's wallet address\n        var filteredResult = result.filter(function (claim) {\n          return claim.address === claimAddress;\n        });\n        // return based on whether any non-spee.ch claims were left\n        if (filteredResult.length >= 1) {\n          throw new Error('That claim is already in use');\n        };\n        return name;\n      };\n      return name;\n    });\n  },\n  checkChannelAvailability: function checkChannelAvailability(name) {\n    return new Promise(function (resolve, reject) {\n      // find any records where the name is used\n      db.Channel.findAll({ where: { channelName: name } }).then(function (result) {\n        if (result.length >= 1) {\n          return resolve(false);\n        }\n        resolve(true);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  }\n};\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"fs\");\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar db = __webpack_require__(11);\nvar logger = __webpack_require__(2);\n\nmodule.exports = {\n  authenticateUser: function authenticateUser(channelName, channelId, channelPassword, user) {\n    // case: no channelName or channel Id are provided (anonymous), regardless of whether user token is provided\n    if (!channelName && !channelId) {\n      return {\n        channelName: null,\n        channelClaimId: null\n      };\n    }\n    // case: channelName or channel Id are provided with user token\n    if (user) {\n      if (channelName && channelName !== user.channelName) {\n        throw new Error('the provided channel name does not match user credentials');\n      }\n      if (channelId && channelId !== user.channelClaimId) {\n        throw new Error('the provided channel id does not match user credentials');\n      }\n      return {\n        channelName: user.channelName,\n        channelClaimId: user.channelClaimId\n      };\n    }\n    // case: channelName or channel Id are provided with password instead of user token\n    if (!channelPassword) throw new Error('no channel password provided');\n    return module.exports.authenticateChannelCredentials(channelName, channelId, channelPassword);\n  },\n  authenticateChannelCredentials: function authenticateChannelCredentials(channelName, channelId, userPassword) {\n    return new Promise(function (resolve, reject) {\n      // hoisted variables\n      var channelData = void 0;\n      // build the params for finding the channel\n      var channelFindParams = {};\n      if (channelName) channelFindParams['channelName'] = channelName;\n      if (channelId) channelFindParams['channelClaimId'] = channelId;\n      // find the channel\n      db.Channel.findOne({\n        where: channelFindParams\n      }).then(function (channel) {\n        if (!channel) {\n          logger.debug('no channel found');\n          throw new Error('Authentication failed, you do not have access to that channel');\n        }\n        channelData = channel.get();\n        logger.debug('channel data:', channelData);\n        return db.User.findOne({\n          where: { userName: channelData.channelName.substring(1) }\n        });\n      }).then(function (user) {\n        if (!user) {\n          logger.debug('no user found');\n          throw new Error('Authentication failed, you do not have access to that channel');\n        }\n        return user.comparePassword(userPassword);\n      }).then(function (isMatch) {\n        if (!isMatch) {\n          logger.debug('incorrect password');\n          throw new Error('Authentication failed, you do not have access to that channel');\n        }\n        logger.debug('...password was a match...');\n        resolve(channelData);\n      }).catch(function (error) {\n        reject(error);\n      });\n    });\n  }\n};\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CLAIMS_PER_PAGE = 12;\n\nmodule.exports = {\n  returnPaginatedChannelClaims: function returnPaginatedChannelClaims(channelName, longChannelClaimId, claims, page) {\n    var totalPages = module.exports.determineTotalPages(claims);\n    var paginationPage = module.exports.getPageFromQuery(page);\n    var viewData = {\n      channelName: channelName,\n      longChannelClaimId: longChannelClaimId,\n      claims: module.exports.extractPageFromClaims(claims, paginationPage),\n      previousPage: module.exports.determinePreviousPage(paginationPage),\n      currentPage: paginationPage,\n      nextPage: module.exports.determineNextPage(totalPages, paginationPage),\n      totalPages: totalPages,\n      totalResults: module.exports.determineTotalClaims(claims)\n    };\n    return viewData;\n  },\n  getPageFromQuery: function getPageFromQuery(page) {\n    if (page) {\n      return parseInt(page);\n    }\n    return 1;\n  },\n  extractPageFromClaims: function extractPageFromClaims(claims, pageNumber) {\n    if (!claims) {\n      return []; // if no claims, return this default\n    }\n    // logger.debug('claims is array?', Array.isArray(claims));\n    // logger.debug(`pageNumber ${pageNumber} is number?`, Number.isInteger(pageNumber));\n    var claimStartIndex = (pageNumber - 1) * CLAIMS_PER_PAGE;\n    var claimEndIndex = claimStartIndex + CLAIMS_PER_PAGE;\n    var pageOfClaims = claims.slice(claimStartIndex, claimEndIndex);\n    return pageOfClaims;\n  },\n  determineTotalPages: function determineTotalPages(claims) {\n    if (!claims) {\n      return 0;\n    } else {\n      var totalClaims = claims.length;\n      if (totalClaims < CLAIMS_PER_PAGE) {\n        return 1;\n      }\n      var fullPages = Math.floor(totalClaims / CLAIMS_PER_PAGE);\n      var remainder = totalClaims % CLAIMS_PER_PAGE;\n      if (remainder === 0) {\n        return fullPages;\n      }\n      return fullPages + 1;\n    }\n  },\n  determinePreviousPage: function determinePreviousPage(currentPage) {\n    if (currentPage === 1) {\n      return null;\n    }\n    return currentPage - 1;\n  },\n  determineNextPage: function determineNextPage(totalPages, currentPage) {\n    if (currentPage === totalPages) {\n      return null;\n    }\n    return currentPage + 1;\n  },\n  determineTotalClaims: function determineTotalClaims(claims) {\n    if (!claims) {\n      return 0;\n    }\n    return claims.length;\n  }\n};\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _require = __webpack_require__(3),\n    site = _require.site;\n\nvar handlePageRender = __webpack_require__(30);\n\nmodule.exports = function (app) {\n  // route for the home page\n  app.get('/', function (req, res) {\n    handlePageRender(req, res);\n  });\n  // route to display login page\n  app.get('/login', function (req, res) {\n    handlePageRender(req, res);\n  });\n  // route to show 'about' page\n  app.get('/about', function (req, res) {\n    handlePageRender(req, res);\n  });\n  // route to display a list of the trending images\n  app.get('/trending', function (req, res) {\n    res.status(301).redirect('/popular');\n  });\n  app.get('/popular', function (req, res) {\n    handlePageRender(req, res);\n  });\n  // route to display a list of the trending images\n  app.get('/new', function (req, res) {\n    handlePageRender(req, res);\n  });\n  // route to send embedable video player (for twitter)\n  app.get('/embed/:claimId/:name', function (_ref, res) {\n    var params = _ref.params;\n\n    var claimId = params.claimId;\n    var name = params.name;\n    var host = site.host;\n    // get and render the content\n    res.status(200).render('embed', { layout: 'embed', host: host, claimId: claimId, name: name });\n  });\n};\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case actions.FILE_SELECTED:\n      return Object.assign({}, initialState, { // note: clears to initial state\n        file: action.data\n      });\n    case actions.FILE_CLEAR:\n      return initialState;\n    case actions.METADATA_UPDATE:\n      return Object.assign({}, state, {\n        metadata: Object.assign({}, state.metadata, _defineProperty({}, action.data.name, action.data.value))\n      });\n    case actions.CLAIM_UPDATE:\n      return Object.assign({}, state, {\n        claim: action.data\n      });\n    case actions.SET_PUBLISH_IN_CHANNEL:\n      return Object.assign({}, state, {\n        publishInChannel: action.channel\n      });\n    case actions.PUBLISH_STATUS_UPDATE:\n      return Object.assign({}, state, {\n        status: action.data\n      });\n    case actions.ERROR_UPDATE:\n      return Object.assign({}, state, {\n        error: Object.assign({}, state.error, _defineProperty({}, action.data.name, action.data.value))\n      });\n    case actions.SELECTED_CHANNEL_UPDATE:\n      return Object.assign({}, state, {\n        selectedChannel: action.data\n      });\n    case actions.TOGGLE_METADATA_INPUTS:\n      return Object.assign({}, state, {\n        showMetadataInputs: action.data\n      });\n    case actions.THUMBNAIL_NEW:\n      return Object.assign({}, state, {\n        thumbnail: action.data\n      });\n    default:\n      return state;\n  }\n};\n\nvar _publish_action_types = __webpack_require__(33);\n\nvar actions = _interopRequireWildcard(_publish_action_types);\n\nvar _publish_channel_select_states = __webpack_require__(34);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = __webpack_require__(3),\n    publish = _require.publish;\n\nvar initialState = {\n  publishInChannel: false,\n  selectedChannel: _publish_channel_select_states.LOGIN,\n  showMetadataInputs: false,\n  status: {\n    status: null,\n    message: null\n  },\n  error: {\n    file: null,\n    url: null,\n    channel: null,\n    publishSubmit: null\n  },\n  file: null,\n  claim: '',\n  metadata: {\n    title: '',\n    description: '',\n    license: '',\n    nsfw: false\n  },\n  thumbnailChannel: publish.thumbnailChannel,\n  thumbnailChannelId: publish.thumbnailChannelId,\n  thumbnail: null\n};\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case actions.CHANNEL_UPDATE:\n      return Object.assign({}, state, {\n        loggedInChannel: action.data\n      });\n    default:\n      return state;\n  }\n};\n\nvar _channel_action_types = __webpack_require__(35);\n\nvar actions = _interopRequireWildcard(_channel_action_types);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar initialState = {\n  loggedInChannel: {\n    name: null,\n    shortId: null,\n    longId: null\n  }\n};\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    // handle request\n    case actions.REQUEST_ERROR:\n      return Object.assign({}, state, {\n        request: Object.assign({}, state.request, {\n          error: action.data\n        })\n      });\n    case actions.REQUEST_UPDATE:\n      return Object.assign({}, state, {\n        request: Object.assign({}, state.request, {\n          type: action.data.requestType,\n          id: action.data.requestId\n        })\n      });\n    // store requests\n    case actions.REQUEST_LIST_ADD:\n      return Object.assign({}, state, {\n        requestList: Object.assign({}, state.requestList, _defineProperty({}, action.data.id, {\n          error: action.data.error,\n          key: action.data.key\n        }))\n      });\n    // asset data\n    case actions.ASSET_ADD:\n      return Object.assign({}, state, {\n        assetList: Object.assign({}, state.assetList, _defineProperty({}, action.data.id, {\n          error: action.data.error,\n          name: action.data.name,\n          claimId: action.data.claimId,\n          shortId: action.data.shortId,\n          claimData: action.data.claimData\n        }))\n      });\n    // channel data\n    case actions.CHANNEL_ADD:\n      return Object.assign({}, state, {\n        channelList: Object.assign({}, state.channelList, _defineProperty({}, action.data.id, {\n          name: action.data.name,\n          longId: action.data.longId,\n          shortId: action.data.shortId,\n          claimsData: action.data.claimsData\n        }))\n      });\n    case actions.CHANNEL_CLAIMS_UPDATE_SUCCESS:\n      return Object.assign({}, state, {\n        channelList: Object.assign({}, state.channelList, _defineProperty({}, action.data.channelListId, Object.assign({}, state.channelList[action.data.channelListId], {\n          claimsData: action.data.claimsData\n        })))\n      });\n    // display an asset\n    case actions.FILE_AVAILABILITY_UPDATE:\n      return Object.assign({}, state, {\n        displayAsset: Object.assign({}, state.displayAsset, {\n          status: action.data\n        })\n      });\n    case actions.DISPLAY_ASSET_ERROR:\n      return Object.assign({}, state, {\n        displayAsset: Object.assign({}, state.displayAsset, {\n          error: action.data,\n          status: _asset_display_states.ERROR\n        })\n      });\n    default:\n      return state;\n  }\n};\n\nvar _show_action_types = __webpack_require__(12);\n\nvar actions = _interopRequireWildcard(_show_action_types);\n\nvar _asset_display_states = __webpack_require__(36);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar initialState = {\n  request: {\n    error: null,\n    type: null,\n    id: null\n  },\n  requestList: {},\n  channelList: {},\n  assetList: {},\n  displayAsset: {\n    error: null,\n    status: _asset_display_states.LOCAL_CHECK\n  }\n};\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nvar _require = __webpack_require__(3),\n    site = _require.site;\n\nvar initialState = {\n  host: site.host\n};\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react-ga\");\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SEO = __webpack_require__(8);\n\nvar _SEO2 = _interopRequireDefault(_SEO);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nvar _PublishTool = __webpack_require__(96);\n\nvar _PublishTool2 = _interopRequireDefault(_PublishTool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HomePage = function (_React$Component) {\n  _inherits(HomePage, _React$Component);\n\n  function HomePage() {\n    _classCallCheck(this, HomePage);\n\n    return _possibleConstructorReturn(this, (HomePage.__proto__ || Object.getPrototypeOf(HomePage)).apply(this, arguments));\n  }\n\n  _createClass(HomePage, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--tall flex-container--column' },\n        _react2.default.createElement(_SEO2.default, null),\n        _react2.default.createElement(_NavBar2.default, null),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--tall row--padded flex-container--column' },\n          _react2.default.createElement(_PublishTool2.default, null)\n        )\n      );\n    }\n  }]);\n\n  return HomePage;\n}(_react2.default.Component);\n\n;\n\nexports.default = HomePage;\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = __webpack_require__(3),\n    siteTitle = _require.site.title;\n\nvar createPageTitle = exports.createPageTitle = function createPageTitle(pageTitle) {\n  if (!pageTitle) {\n    return '' + siteTitle;\n  }\n  return siteTitle + ' - ' + pageTitle;\n};\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = __webpack_require__(3),\n    _require$site = _require.site,\n    title = _require$site.title,\n    host = _require$site.host,\n    description = _require$site.description,\n    _require$claim = _require.claim,\n    defaultThumbnail = _require$claim.defaultThumbnail,\n    defaultDescription = _require$claim.defaultDescription;\n\nvar determineOgThumbnailContentType = function determineOgThumbnailContentType(thumbnail) {\n  if (thumbnail) {\n    var fileExt = thumbnail.substring(thumbnail.lastIndexOf('.'));\n    switch (fileExt) {\n      case 'jpeg':\n      case 'jpg':\n        return 'image/jpeg';\n      case 'png':\n        return 'image/png';\n      case 'gif':\n        return 'image/gif';\n      case 'mp4':\n        return 'video/mp4';\n      default:\n        return 'image/jpeg';\n    }\n  }\n  return '';\n};\n\nvar createBasicMetaTags = function createBasicMetaTags() {\n  return [{ property: 'og:title', content: title }, { property: 'og:url', content: host }, { property: 'og:site_name', content: title }, { property: 'og:description', content: description }, { property: 'twitter:site', content: '@spee_ch' }, { property: 'twitter:card', content: 'summary' }];\n};\n\nvar createChannelMetaTags = function createChannelMetaTags(channel) {\n  var name = channel.name,\n      longId = channel.longId;\n\n  return [{ property: 'og:title', content: name + ' on ' + title }, { property: 'og:url', content: host + '/' + name + ':' + longId }, { property: 'og:site_name', content: title }, { property: 'og:description', content: name + ', a channel on ' + title }, { property: 'twitter:site', content: '@spee_ch' }, { property: 'twitter:card', content: 'summary' }];\n};\n\nvar createAssetMetaTags = function createAssetMetaTags(asset) {\n  var claimData = asset.claimData;\n  var contentType = claimData.contentType;\n\n  var embedUrl = host + '/' + claimData.claimId + '/' + claimData.name;\n  var showUrl = host + '/' + claimData.claimId + '/' + claimData.name;\n  var source = host + '/' + claimData.claimId + '/' + claimData.name + '.' + claimData.fileExt;\n  var ogTitle = claimData.title || claimData.name;\n  var ogDescription = claimData.description || defaultDescription;\n  var ogThumbnailContentType = determineOgThumbnailContentType(claimData.thumbnail);\n  var ogThumbnail = claimData.thumbnail || defaultThumbnail;\n  var metaTags = [{ property: 'og:title', content: ogTitle }, { property: 'og:url', content: showUrl }, { property: 'og:site_name', content: title }, { property: 'og:description', content: ogDescription }, { property: 'og:image:width', content: 600 }, { property: 'og:image:height', content: 315 }, { property: 'twitter:site', content: '@spee_ch' }];\n  if (contentType === 'video/mp4' || contentType === 'video/webm') {\n    metaTags.push({ property: 'og:video', content: source });\n    metaTags.push({ property: 'og:video:secure_url', content: source });\n    metaTags.push({ property: 'og:video:type', content: contentType });\n    metaTags.push({ property: 'og:image', content: ogThumbnail });\n    metaTags.push({ property: 'og:image:type', content: ogThumbnailContentType });\n    metaTags.push({ property: 'og:type', content: 'video' });\n    metaTags.push({ property: 'twitter:card', content: 'player' });\n    metaTags.push({ property: 'twitter:player', content: embedUrl });\n    metaTags.push({ property: 'twitter:player:width', content: 600 });\n    metaTags.push({ property: 'twitter:text:player_width', content: 600 });\n    metaTags.push({ property: 'twitter:player:height', content: 337 });\n    metaTags.push({ property: 'twitter:player:stream', content: source });\n    metaTags.push({ property: 'twitter:player:stream:content_type', content: contentType });\n  } else {\n    metaTags.push({ property: 'og:image', content: source });\n    metaTags.push({ property: 'og:image:type', content: contentType });\n    metaTags.push({ property: 'og:type', content: 'article' });\n    metaTags.push({ property: 'twitter:card', content: 'summary_large_image' });\n  }\n  return metaTags;\n};\n\nvar createMetaTags = exports.createMetaTags = function createMetaTags(asset, channel) {\n  if (asset) {\n    return createAssetMetaTags(asset);\n  };\n  if (channel) {\n    return createChannelMetaTags(channel);\n  };\n  return createBasicMetaTags();\n};\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = __webpack_require__(3),\n    host = _require.site.host;\n\nvar createBasicCanonicalLink = function createBasicCanonicalLink(page) {\n  if (!page) {\n    return '' + host;\n  };\n  return host + '/' + page;\n};\n\nvar createAssetCanonicalLink = function createAssetCanonicalLink(asset) {\n  var channelName = void 0,\n      certificateId = void 0,\n      name = void 0,\n      claimId = void 0;\n  if (asset.claimData) {\n    var _asset$claimData = asset.claimData;\n    channelName = _asset$claimData.channelName;\n    certificateId = _asset$claimData.certificateId;\n    name = _asset$claimData.name;\n    claimId = _asset$claimData.claimId;\n  };\n  if (channelName) {\n    return host + '/' + channelName + ':' + certificateId + '/' + name;\n  };\n  return host + '/' + claimId + '/' + name;\n};\n\nvar createChannelCanonicalLink = function createChannelCanonicalLink(channel) {\n  var name = channel.name,\n      longId = channel.longId;\n\n  return host + '/' + name + ':' + longId;\n};\n\nvar createCanonicalLink = exports.createCanonicalLink = function createCanonicalLink(asset, channel, page) {\n  if (asset) {\n    return createAssetCanonicalLink(asset);\n  }\n  if (channel) {\n    return createChannelCanonicalLink(channel);\n  }\n  if (page) {\n    return createBasicCanonicalLink(page);\n  }\n  return createBasicCanonicalLink();\n};\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _Logo = __webpack_require__(93);\n\nvar _Logo2 = _interopRequireDefault(_Logo);\n\nvar _NavBarChannelOptionsDropdown = __webpack_require__(94);\n\nvar _NavBarChannelOptionsDropdown2 = _interopRequireDefault(_NavBarChannelOptionsDropdown);\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar VIEW = 'VIEW';\nvar LOGOUT = 'LOGOUT';\n\nvar NavBar = function (_React$Component) {\n  _inherits(NavBar, _React$Component);\n\n  function NavBar(props) {\n    _classCallCheck(this, NavBar);\n\n    var _this = _possibleConstructorReturn(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).call(this, props));\n\n    _this.checkForLoggedInUser = _this.checkForLoggedInUser.bind(_this);\n    _this.logoutUser = _this.logoutUser.bind(_this);\n    _this.handleSelection = _this.handleSelection.bind(_this);\n    return _this;\n  }\n\n  _createClass(NavBar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // check to see if the user is already logged in\n      this.checkForLoggedInUser();\n    }\n  }, {\n    key: 'checkForLoggedInUser',\n    value: function checkForLoggedInUser() {\n      var _this2 = this;\n\n      var params = { credentials: 'include' };\n      (0, _request2.default)('/user', params).then(function (_ref) {\n        var data = _ref.data;\n\n        _this2.props.onChannelLogin(data.channelName, data.shortChannelId, data.channelClaimId);\n      }).catch(function (error) {\n        console.log('/user error:', error.message);\n      });\n    }\n  }, {\n    key: 'logoutUser',\n    value: function logoutUser() {\n      var _this3 = this;\n\n      var params = { credentials: 'include' };\n      (0, _request2.default)('/logout', params).then(function () {\n        _this3.props.onChannelLogout();\n      }).catch(function (error) {\n        console.log('/logout error', error.message);\n      });\n    }\n  }, {\n    key: 'handleSelection',\n    value: function handleSelection(event) {\n      var value = event.target.selectedOptions[0].value;\n      switch (value) {\n        case LOGOUT:\n          this.logoutUser();\n          break;\n        case VIEW:\n          // redirect to channel page\n          this.props.history.push('/' + this.props.channelName + ':' + this.props.channelLongId);\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--wide nav-bar' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--padded row--short flex-container--row flex-container--space-between-center' },\n          _react2.default.createElement(_Logo2.default, null),\n          _react2.default.createElement(\n            'div',\n            { className: 'nav-bar--center' },\n            _react2.default.createElement(\n              'span',\n              { className: 'nav-bar-tagline' },\n              'Open-source, decentralized image and video sharing.'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'nav-bar--right' },\n            _react2.default.createElement(\n              _reactRouterDom.NavLink,\n              { className: 'nav-bar-link link--nav', activeClassName: 'link--nav-active', to: '/', exact: true },\n              'Publish'\n            ),\n            _react2.default.createElement(\n              _reactRouterDom.NavLink,\n              { className: 'nav-bar-link link--nav', activeClassName: 'link--nav-active', to: '/about' },\n              'About'\n            ),\n            this.props.channelName ? _react2.default.createElement(_NavBarChannelOptionsDropdown2.default, {\n              channelName: this.props.channelName,\n              handleSelection: this.handleSelection,\n              defaultSelection: this.props.channelName,\n              VIEW: VIEW,\n              LOGOUT: LOGOUT\n            }) : _react2.default.createElement(\n              _reactRouterDom.NavLink,\n              { id: 'nav-bar-login-link', className: 'nav-bar-link link--nav', activeClassName: 'link--nav-active', to: '/login' },\n              'Channel'\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return NavBar;\n}(_react2.default.Component);\n\nexports.default = (0, _reactRouterDom.withRouter)(NavBar);\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Logo() {\n  return _react2.default.createElement(\n    'svg',\n    { version: '1.1', id: 'Layer_1', x: '0px', y: '0px', height: '24px', viewBox: '0 0 80 31', enableBackground: 'new 0 0 80 31', className: 'nav-bar-logo' },\n    _react2.default.createElement(\n      _reactRouterDom.Link,\n      { to: '/' },\n      _react2.default.createElement(\n        'title',\n        null,\n        'Logo'\n      ),\n      _react2.default.createElement(\n        'desc',\n        null,\n        'Spee.ch logo'\n      ),\n      _react2.default.createElement(\n        'g',\n        { id: 'About' },\n        _react2.default.createElement(\n          'g',\n          { id: 'Publish-Form-V2-_x28_filled_x29_', transform: 'translate(-42.000000, -23.000000)' },\n          _react2.default.createElement(\n            'g',\n            { id: 'Group-17', transform: 'translate(42.000000, 22.000000)' },\n            _react2.default.createElement(\n              'text',\n              { transform: 'matrix(1 0 0 1 0 20)', fontSize: '25', fontFamily: 'Roboto' },\n              'Spee<h'\n            ),\n            _react2.default.createElement(\n              'g',\n              { id: 'Group-16', transform: 'translate(0.000000, 30.000000)' },\n              _react2.default.createElement('path', { id: 'Line-8', fill: 'none', stroke: '#09F911', strokeWidth: '1', strokeLinecap: 'square', d: 'M0.5,1.5h15' }),\n              _react2.default.createElement('path', { id: 'Line-8-Copy', fill: 'none', stroke: '#029D74', strokeWidth: '1', strokeLinecap: 'square', d: 'M16.5,1.5h15' }),\n              _react2.default.createElement('path', { id: 'Line-8-Copy-2', fill: 'none', stroke: '#E35BD8', strokeWidth: '1', strokeLinecap: 'square', d: 'M32.5,1.5h15' }),\n              _react2.default.createElement('path', { id: 'Line-8-Copy-3', fill: 'none', stroke: '#4156C5', strokeWidth: '1', strokeLinecap: 'square', d: 'M48.5,1.5h15' }),\n              _react2.default.createElement('path', { id: 'Line-8-Copy-4', fill: 'none', stroke: '#635688', strokeWidth: '1', strokeLinecap: 'square', d: 'M64.5,1.5h15' })\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nexports.default = Logo;\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction NavBarChannelDropdown(_ref) {\n  var channelName = _ref.channelName,\n      handleSelection = _ref.handleSelection,\n      defaultSelection = _ref.defaultSelection,\n      VIEW = _ref.VIEW,\n      LOGOUT = _ref.LOGOUT;\n\n  return _react2.default.createElement(\n    'select',\n    { type: 'text', id: 'nav-bar-channel-select', className: 'select select--arrow link--nav', onChange: handleSelection, value: defaultSelection },\n    _react2.default.createElement(\n      'option',\n      { id: 'nav-bar-channel-select-channel-option' },\n      channelName\n    ),\n    _react2.default.createElement(\n      'option',\n      { value: VIEW },\n      'View'\n    ),\n    _react2.default.createElement(\n      'option',\n      { value: LOGOUT },\n      'Logout'\n    )\n  );\n};\n\nexports.default = NavBarChannelDropdown;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"cross-fetch/polyfill\");\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(97);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var publish = _ref.publish;\n\n  return {\n    file: publish.file,\n    status: publish.status.status\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Dropzone = __webpack_require__(39);\n\nvar _Dropzone2 = _interopRequireDefault(_Dropzone);\n\nvar _PublishDetails = __webpack_require__(101);\n\nvar _PublishDetails2 = _interopRequireDefault(_PublishDetails);\n\nvar _PublishStatus = __webpack_require__(119);\n\nvar _PublishStatus2 = _interopRequireDefault(_PublishStatus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PublishTool = function (_React$Component) {\n  _inherits(PublishTool, _React$Component);\n\n  function PublishTool() {\n    _classCallCheck(this, PublishTool);\n\n    return _possibleConstructorReturn(this, (PublishTool.__proto__ || Object.getPrototypeOf(PublishTool)).apply(this, arguments));\n  }\n\n  _createClass(PublishTool, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.file) {\n        if (this.props.status) {\n          return _react2.default.createElement(_PublishStatus2.default, null);\n        } else {\n          return _react2.default.createElement(_PublishDetails2.default, null);\n        }\n      } else {\n        return _react2.default.createElement(_Dropzone2.default, null);\n      }\n    }\n  }]);\n\n  return PublishTool;\n}(_react2.default.Component);\n\n;\n\nexports.default = PublishTool;\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _file = __webpack_require__(99);\n\nvar _Preview = __webpack_require__(100);\n\nvar _Preview2 = _interopRequireDefault(_Preview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Dropzone = function (_React$Component) {\n  _inherits(Dropzone, _React$Component);\n\n  function Dropzone(props) {\n    _classCallCheck(this, Dropzone);\n\n    var _this = _possibleConstructorReturn(this, (Dropzone.__proto__ || Object.getPrototypeOf(Dropzone)).call(this, props));\n\n    _this.state = {\n      dragOver: false,\n      mouseOver: false,\n      dimPreview: false\n    };\n    _this.handleDrop = _this.handleDrop.bind(_this);\n    _this.handleDragOver = _this.handleDragOver.bind(_this);\n    _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n    _this.handleDragEnter = _this.handleDragEnter.bind(_this);\n    _this.handleDragLeave = _this.handleDragLeave.bind(_this);\n    _this.handleMouseEnter = _this.handleMouseEnter.bind(_this);\n    _this.handleMouseLeave = _this.handleMouseLeave.bind(_this);\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleFileInput = _this.handleFileInput.bind(_this);\n    _this.chooseFile = _this.chooseFile.bind(_this);\n    return _this;\n  }\n\n  _createClass(Dropzone, [{\n    key: 'handleDrop',\n    value: function handleDrop(event) {\n      event.preventDefault();\n      this.setState({ dragOver: false });\n      // if dropped items aren't files, reject them\n      var dt = event.dataTransfer;\n      if (dt.items) {\n        if (dt.items[0].kind === 'file') {\n          var droppedFile = dt.items[0].getAsFile();\n          this.chooseFile(droppedFile);\n        }\n      }\n    }\n  }, {\n    key: 'handleDragOver',\n    value: function handleDragOver(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: 'handleDragEnd',\n    value: function handleDragEnd(event) {\n      var dt = event.dataTransfer;\n      if (dt.items) {\n        for (var i = 0; i < dt.items.length; i++) {\n          dt.items.remove(i);\n        }\n      } else {\n        event.dataTransfer.clearData();\n      }\n    }\n  }, {\n    key: 'handleDragEnter',\n    value: function handleDragEnter() {\n      this.setState({ dragOver: true, dimPreview: true });\n    }\n  }, {\n    key: 'handleDragLeave',\n    value: function handleDragLeave() {\n      this.setState({ dragOver: false, dimPreview: false });\n    }\n  }, {\n    key: 'handleMouseEnter',\n    value: function handleMouseEnter() {\n      this.setState({ mouseOver: true, dimPreview: true });\n    }\n  }, {\n    key: 'handleMouseLeave',\n    value: function handleMouseLeave() {\n      this.setState({ mouseOver: false, dimPreview: false });\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(event) {\n      event.preventDefault();\n      document.getElementById('file_input').click();\n    }\n  }, {\n    key: 'handleFileInput',\n    value: function handleFileInput(event) {\n      event.preventDefault();\n      var fileList = event.target.files;\n      this.chooseFile(fileList[0]);\n    }\n  }, {\n    key: 'chooseFile',\n    value: function chooseFile(file) {\n      if (file) {\n        try {\n          (0, _file.validateFile)(file); // validate the file's name, type, and size\n        } catch (error) {\n          return this.props.setFileError(error.message);\n        }\n        // stage it so it will be ready when the publish button is clicked\n        this.props.selectFile(file);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--tall flex-container--column' },\n        _react2.default.createElement(\n          'form',\n          null,\n          _react2.default.createElement('input', { className: 'input-file', type: 'file', id: 'file_input', name: 'file_input', accept: 'video/*,image/*', onChange: this.handleFileInput, encType: 'multipart/form-data' })\n        ),\n        _react2.default.createElement(\n          'div',\n          { id: 'preview-dropzone', className: 'row row--padded row--tall dropzone' + (this.state.dragOver ? ' dropzone--drag-over' : ''), onDrop: this.handleDrop, onDragOver: this.handleDragOver, onDragEnd: this.handleDragEnd, onDragEnter: this.handleDragEnter, onDragLeave: this.handleDragLeave, onMouseEnter: this.handleMouseEnter, onMouseLeave: this.handleMouseLeave, onClick: this.handleClick },\n          this.props.file ? _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement(_Preview2.default, {\n              dimPreview: this.state.dimPreview,\n              file: this.props.file,\n              thumbnail: this.props.thumbnail\n            }),\n            _react2.default.createElement(\n              'div',\n              { id: 'dropzone-text-holder', className: 'flex-container--column flex-container--center-center' },\n              this.state.dragOver ? _react2.default.createElement(\n                'div',\n                { id: 'dropzone-dragover' },\n                _react2.default.createElement(\n                  'p',\n                  { className: 'blue' },\n                  'Drop it.'\n                )\n              ) : null,\n              this.state.mouseOver ? _react2.default.createElement(\n                'div',\n                { id: 'dropzone-instructions' },\n                _react2.default.createElement(\n                  'p',\n                  { className: 'info-message-placeholder info-message--failure', id: 'input-error-file-selection' },\n                  this.props.fileError\n                ),\n                _react2.default.createElement(\n                  'p',\n                  null,\n                  'Drag & drop image or video here to publish'\n                ),\n                _react2.default.createElement(\n                  'p',\n                  { className: 'fine-print' },\n                  'OR'\n                ),\n                _react2.default.createElement(\n                  'p',\n                  { className: 'blue--underlined' },\n                  'CHOOSE FILE'\n                )\n              ) : null\n            )\n          ) : _react2.default.createElement(\n            'div',\n            { id: 'dropzone-text-holder', className: 'flex-container--column flex-container--center-center' },\n            this.state.dragOver ? _react2.default.createElement(\n              'div',\n              { id: 'dropzone-dragover' },\n              _react2.default.createElement(\n                'p',\n                { className: 'blue' },\n                'Drop it.'\n              )\n            ) : _react2.default.createElement(\n              'div',\n              { id: 'dropzone-instructions' },\n              _react2.default.createElement(\n                'p',\n                { className: 'info-message-placeholder info-message--failure', id: 'input-error-file-selection' },\n                this.props.fileError\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                'Drag & drop image or video here to publish'\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'fine-print' },\n                'OR'\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'blue--underlined' },\n                'CHOOSE FILE'\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return Dropzone;\n}(_react2.default.Component);\n\n;\n\nexports.default = Dropzone;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  validateFile: function validateFile(file) {\n    if (!file) {\n      throw new Error('no file provided');\n    }\n    if (/'/.test(file.name)) {\n      throw new Error('apostrophes are not allowed in the file name');\n    }\n    // validate size and type\n    switch (file.type) {\n      case 'image/jpeg':\n      case 'image/jpg':\n      case 'image/png':\n        if (file.size > 10000000) {\n          throw new Error('Sorry, images are limited to 10 megabytes.');\n        }\n        break;\n      case 'image/gif':\n        if (file.size > 50000000) {\n          throw new Error('Sorry, GIFs are limited to 50 megabytes.');\n        }\n        break;\n      case 'video/mp4':\n        if (file.size > 50000000) {\n          throw new Error('Sorry, videos are limited to 50 megabytes.');\n        }\n        break;\n      default:\n        throw new Error(file.type + ' is not a supported file type. Only, .jpeg, .png, .gif, and .mp4 files are currently supported.');\n    }\n  }\n};\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(9);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Preview = function (_React$Component) {\n  _inherits(Preview, _React$Component);\n\n  function Preview(props) {\n    _classCallCheck(this, Preview);\n\n    var _this = _possibleConstructorReturn(this, (Preview.__proto__ || Object.getPrototypeOf(Preview)).call(this, props));\n\n    _this.state = {\n      imgSource: '',\n      defaultThumbnail: '/assets/img/video_thumb_default.png'\n    };\n    return _this;\n  }\n\n  _createClass(Preview, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setPreviewImageSource(this.props.file);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.file !== this.props.file) {\n        this.setPreviewImageSource(newProps.file);\n      }\n      if (newProps.thumbnail !== this.props.thumbnail) {\n        if (newProps.thumbnail) {\n          this.setPreviewImageSourceFromFile(newProps.thumbnail);\n        } else {\n          this.setState({ imgSource: this.state.defaultThumbnail });\n        }\n      }\n    }\n  }, {\n    key: 'setPreviewImageSourceFromFile',\n    value: function setPreviewImageSourceFromFile(file) {\n      var _this2 = this;\n\n      var previewReader = new FileReader();\n      previewReader.readAsDataURL(file);\n      previewReader.onloadend = function () {\n        _this2.setState({ imgSource: previewReader.result });\n      };\n    }\n  }, {\n    key: 'setPreviewImageSource',\n    value: function setPreviewImageSource(file) {\n      if (file.type !== 'video/mp4') {\n        this.setPreviewImageSourceFromFile(file);\n      } else {\n        if (this.props.thumbnail) {\n          this.setPreviewImageSourceFromFile(this.props.thumbnail);\n        }\n        this.setState({ imgSource: this.state.defaultThumbnail });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('img', {\n        id: 'dropzone-preview',\n        src: this.state.imgSource,\n        className: this.props.dimPreview ? 'dim' : '',\n        alt: 'publish preview'\n      });\n    }\n  }]);\n\n  return Preview;\n}(_react2.default.Component);\n\n;\n\nPreview.propTypes = {\n  dimPreview: _propTypes2.default.bool.isRequired,\n  file: _propTypes2.default.object.isRequired,\n  thumbnail: _propTypes2.default.object\n};\n\nexports.default = Preview;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(102);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var channel = _ref.channel,\n      publish = _ref.publish;\n\n  return {\n    file: publish.file\n  };\n};\n\nvar mapDispatchToProps = {\n  clearFile: _publish.clearFile,\n  startPublish: _publish.startPublish\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _Dropzone = __webpack_require__(39);\n\nvar _Dropzone2 = _interopRequireDefault(_Dropzone);\n\nvar _PublishTitleInput = __webpack_require__(103);\n\nvar _PublishTitleInput2 = _interopRequireDefault(_PublishTitleInput);\n\nvar _PublishUrlInput = __webpack_require__(105);\n\nvar _PublishUrlInput2 = _interopRequireDefault(_PublishUrlInput);\n\nvar _PublishThumbnailInput = __webpack_require__(108);\n\nvar _PublishThumbnailInput2 = _interopRequireDefault(_PublishThumbnailInput);\n\nvar _PublishMetadataInputs = __webpack_require__(110);\n\nvar _PublishMetadataInputs2 = _interopRequireDefault(_PublishMetadataInputs);\n\nvar _ChannelSelect = __webpack_require__(113);\n\nvar _ChannelSelect2 = _interopRequireDefault(_ChannelSelect);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PublishDetails = function (_React$Component) {\n  _inherits(PublishDetails, _React$Component);\n\n  function PublishDetails(props) {\n    _classCallCheck(this, PublishDetails);\n\n    var _this = _possibleConstructorReturn(this, (PublishDetails.__proto__ || Object.getPrototypeOf(PublishDetails)).call(this, props));\n\n    _this.onPublishSubmit = _this.onPublishSubmit.bind(_this);\n    return _this;\n  }\n\n  _createClass(PublishDetails, [{\n    key: 'onPublishSubmit',\n    value: function onPublishSubmit() {\n      this.props.startPublish(this.props.history);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--no-bottom' },\n        _react2.default.createElement(\n          'div',\n          { className: 'column column--10' },\n          _react2.default.createElement(_PublishTitleInput2.default, null)\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'column column--5 column--sml-10' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--padded' },\n            _react2.default.createElement(_Dropzone2.default, null)\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'column column--5 column--sml-10 align-content-top' },\n          _react2.default.createElement(\n            'div',\n            { id: 'publish-active-area', className: 'row row--padded' },\n            _react2.default.createElement(\n              'div',\n              { className: 'row row--padded row--no-top row--wide' },\n              _react2.default.createElement(_PublishUrlInput2.default, null)\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'row row--padded row--no-top row--wide' },\n              _react2.default.createElement(_ChannelSelect2.default, null)\n            ),\n            this.props.file.type === 'video/mp4' && _react2.default.createElement(\n              'div',\n              { className: 'row row--padded row--no-top row--wide ' },\n              _react2.default.createElement(_PublishThumbnailInput2.default, null)\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'row row--padded row--no-top row--no-bottom row--wide' },\n              _react2.default.createElement(_PublishMetadataInputs2.default, null)\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'row row--wide align-content-center' },\n              _react2.default.createElement(\n                'button',\n                { id: 'publish-submit', className: 'button--primary button--large', onClick: this.onPublishSubmit },\n                'Publish'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'row row--padded row--no-bottom align-content-center' },\n              _react2.default.createElement(\n                'button',\n                { className: 'button--cancel', onClick: this.props.clearFile },\n                'Cancel'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'row row--short align-content-center' },\n              _react2.default.createElement(\n                'p',\n                { className: 'fine-print' },\n                'By clicking \\'Publish\\', you affirm that you have the rights to publish this content to the LBRY network, and that you understand the properties of publishing it to a decentralized, user-controlled network. ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://lbry.io/learn' },\n                  'Read more.'\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return PublishDetails;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _reactRouterDom.withRouter)(PublishDetails);\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(104);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var publish = _ref.publish;\n\n  return {\n    title: publish.metadata.title\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onMetadataChange: function onMetadataChange(name, value) {\n      dispatch((0, _publish.updateMetadata)(name, value));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PublishTitleInput = function (_React$Component) {\n  _inherits(PublishTitleInput, _React$Component);\n\n  function PublishTitleInput(props) {\n    _classCallCheck(this, PublishTitleInput);\n\n    var _this = _possibleConstructorReturn(this, (PublishTitleInput.__proto__ || Object.getPrototypeOf(PublishTitleInput)).call(this, props));\n\n    _this.handleInput = _this.handleInput.bind(_this);\n    return _this;\n  }\n\n  _createClass(PublishTitleInput, [{\n    key: 'handleInput',\n    value: function handleInput(e) {\n      var name = e.target.name;\n      var value = e.target.value;\n      this.props.onMetadataChange(name, value);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('input', { type: 'text', id: 'publish-title', className: 'input-text text--large input-text--full-width', name: 'title', placeholder: 'Give your post a title...', onChange: this.handleInput, value: this.props.title });\n    }\n  }]);\n\n  return PublishTitleInput;\n}(_react2.default.Component);\n\nexports.default = PublishTitleInput;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _publish = __webpack_require__(5);\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(106);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var channel = _ref.channel,\n      publish = _ref.publish;\n\n  return {\n    loggedInChannelName: channel.loggedInChannel.name,\n    loggedInChannelShortId: channel.loggedInChannel.shortId,\n    fileName: publish.file.name,\n    publishInChannel: publish.publishInChannel,\n    selectedChannel: publish.selectedChannel,\n    claim: publish.claim,\n    urlError: publish.error.url\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onClaimChange: function onClaimChange(value) {\n      dispatch((0, _publish.updateClaim)(value));\n      dispatch((0, _publish.updateError)('publishSubmit', null));\n    },\n    onUrlError: function onUrlError(value) {\n      dispatch((0, _publish.updateError)('url', value));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _PublishUrlMiddleDisplay = __webpack_require__(107);\n\nvar _PublishUrlMiddleDisplay2 = _interopRequireDefault(_PublishUrlMiddleDisplay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PublishUrlInput = function (_React$Component) {\n  _inherits(PublishUrlInput, _React$Component);\n\n  function PublishUrlInput(props) {\n    _classCallCheck(this, PublishUrlInput);\n\n    var _this = _possibleConstructorReturn(this, (PublishUrlInput.__proto__ || Object.getPrototypeOf(PublishUrlInput)).call(this, props));\n\n    _this.handleInput = _this.handleInput.bind(_this);\n    return _this;\n  }\n\n  _createClass(PublishUrlInput, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          claim = _props.claim,\n          fileName = _props.fileName;\n\n      if (!claim) {\n        this.setClaimName(fileName);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var claim = _ref.claim,\n          fileName = _ref.fileName;\n\n      // if a new file was chosen, update the claim name\n      if (fileName !== this.props.fileName) {\n        return this.setClaimName(fileName);\n      }\n      // if the claim has updated, check its availability\n      if (claim !== this.props.claim) {\n        this.validateClaim(claim);\n      }\n    }\n  }, {\n    key: 'handleInput',\n    value: function handleInput(event) {\n      var value = event.target.value;\n      value = this.cleanseInput(value);\n      // update the state\n      this.props.onClaimChange(value);\n    }\n  }, {\n    key: 'cleanseInput',\n    value: function cleanseInput(input) {\n      input = input.replace(/\\s+/g, '-'); // replace spaces with dashes\n      input = input.replace(/[^A-Za-z0-9-]/g, ''); // remove all characters that are not A-Z, a-z, 0-9, or '-'\n      return input;\n    }\n  }, {\n    key: 'setClaimName',\n    value: function setClaimName(fileName) {\n      var fileNameWithoutEnding = fileName.substring(0, fileName.lastIndexOf('.'));\n      var cleanClaimName = this.cleanseInput(fileNameWithoutEnding);\n      this.props.onClaimChange(cleanClaimName);\n    }\n  }, {\n    key: 'validateClaim',\n    value: function validateClaim(claim) {\n      var _this2 = this;\n\n      if (!claim) {\n        return this.props.onUrlError('Enter a url above');\n      }\n      (0, _request2.default)('/api/claim/availability/' + claim).then(function () {\n        _this2.props.onUrlError(null);\n      }).catch(function (error) {\n        _this2.props.onUrlError(error.message);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          claim = _props2.claim,\n          loggedInChannelName = _props2.loggedInChannelName,\n          loggedInChannelShortId = _props2.loggedInChannelShortId,\n          publishInChannel = _props2.publishInChannel,\n          selectedChannel = _props2.selectedChannel,\n          urlError = _props2.urlError;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'column column--10 column--sml-10' },\n        _react2.default.createElement(\n          'div',\n          { className: 'input-text--primary span--relative' },\n          _react2.default.createElement(\n            'span',\n            { className: 'url-text--secondary' },\n            'spee.ch / '\n          ),\n          _react2.default.createElement(_PublishUrlMiddleDisplay2.default, {\n            publishInChannel: publishInChannel,\n            selectedChannel: selectedChannel,\n            loggedInChannelName: loggedInChannelName,\n            loggedInChannelShortId: loggedInChannelShortId\n          }),\n          _react2.default.createElement('input', { type: 'text', id: 'claim-name-input', className: 'input-text', name: 'claim', placeholder: 'your-url-here', onChange: this.handleInput, value: claim }),\n          claim && !urlError && _react2.default.createElement(\n            'span',\n            { id: 'input-success-claim-name', className: 'info-message--success span--absolute' },\n            '\\u2713'\n          ),\n          urlError && _react2.default.createElement(\n            'span',\n            { id: 'input-success-channel-name', className: 'info-message--failure span--absolute' },\n            '\\u2716'\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          null,\n          urlError ? _react2.default.createElement(\n            'p',\n            { id: 'input-error-claim-name', className: 'info-message--failure' },\n            urlError\n          ) : _react2.default.createElement(\n            'p',\n            { className: 'info-message' },\n            'Choose a custom url'\n          )\n        )\n      );\n    }\n  }]);\n\n  return PublishUrlInput;\n}(_react2.default.Component);\n\nexports.default = PublishUrlInput;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(9);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction UrlMiddle(_ref) {\n  var publishInChannel = _ref.publishInChannel,\n      selectedChannel = _ref.selectedChannel,\n      loggedInChannelName = _ref.loggedInChannelName,\n      loggedInChannelShortId = _ref.loggedInChannelShortId;\n\n  if (publishInChannel) {\n    if (selectedChannel === loggedInChannelName) {\n      return _react2.default.createElement(\n        'span',\n        { id: 'url-channel', className: 'url-text--secondary' },\n        loggedInChannelName,\n        ':',\n        loggedInChannelShortId,\n        ' /'\n      );\n    }\n    return _react2.default.createElement(\n      'span',\n      { id: 'url-channel-placeholder', className: 'url-text--secondary tooltip' },\n      '@channel',\n      _react2.default.createElement(\n        'span',\n        {\n          className: 'tooltip-text' },\n        'Select a channel below'\n      ),\n      ' /'\n    );\n  }\n  return _react2.default.createElement(\n    'span',\n    { id: 'url-no-channel-placeholder', className: 'url-text--secondary tooltip' },\n    'xyz',\n    _react2.default.createElement(\n      'span',\n      { className: 'tooltip-text' },\n      'This will be a random id'\n    ),\n    ' /'\n  );\n}\n\nUrlMiddle.propTypes = {\n  publishInChannel: _propTypes2.default.bool.isRequired,\n  loggedInChannelName: _propTypes2.default.string,\n  loggedInChannelShortId: _propTypes2.default.string\n};\n\nexports.default = UrlMiddle;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(109);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var file = _ref.publish.file;\n\n  return {\n    file: file\n  };\n};\n\nvar mapDispatchToProps = {\n  onNewThumbnail: _publish.onNewThumbnail\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction dataURItoBlob(dataURI) {\n  // convert base64/URLEncoded data component to raw binary data held in a string\n  var byteString = atob(dataURI.split(',')[1]);\n  // separate out the mime component\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n  // write the bytes of the string to a typed array\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type: mimeString });\n}\n\nvar PublishThumbnailInput = function (_React$Component) {\n  _inherits(PublishThumbnailInput, _React$Component);\n\n  function PublishThumbnailInput(props) {\n    _classCallCheck(this, PublishThumbnailInput);\n\n    var _this = _possibleConstructorReturn(this, (PublishThumbnailInput.__proto__ || Object.getPrototypeOf(PublishThumbnailInput)).call(this, props));\n\n    _this.state = {\n      videoSource: null,\n      error: null,\n      sliderMinRange: 1,\n      sliderMaxRange: null,\n      sliderValue: null\n    };\n    _this.handleVideoLoadedData = _this.handleVideoLoadedData.bind(_this);\n    _this.handleSliderChange = _this.handleSliderChange.bind(_this);\n    _this.createThumbnail = _this.createThumbnail.bind(_this);\n    return _this;\n  }\n\n  _createClass(PublishThumbnailInput, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var file = this.props.file;\n\n      this.setVideoSource(file);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // if file changes\n      if (nextProps.file && nextProps.file !== this.props.file) {\n        var file = nextProps.file;\n\n        this.setVideoSource(file);\n      };\n    }\n  }, {\n    key: 'setVideoSource',\n    value: function setVideoSource(file) {\n      var _this2 = this;\n\n      var previewReader = new FileReader();\n      previewReader.readAsDataURL(file);\n      previewReader.onloadend = function () {\n        var dataUri = previewReader.result;\n        var blob = dataURItoBlob(dataUri);\n        var videoSource = URL.createObjectURL(blob);\n        _this2.setState({ videoSource: videoSource });\n      };\n    }\n  }, {\n    key: 'handleVideoLoadedData',\n    value: function handleVideoLoadedData(event) {\n      var duration = event.target.duration;\n      var totalMinutes = Math.floor(duration / 60);\n      var totalSeconds = Math.floor(duration % 60);\n      // set the slider\n      this.setState({\n        sliderMaxRange: duration * 100,\n        sliderValue: duration * 100 / 2,\n        totalMinutes: totalMinutes,\n        totalSeconds: totalSeconds\n      });\n      // update the current time of the video\n      var video = document.getElementById('video-thumb-player');\n      video.currentTime = duration / 2;\n    }\n  }, {\n    key: 'handleSliderChange',\n    value: function handleSliderChange(event) {\n      var value = parseInt(event.target.value);\n      // update the slider value\n      this.setState({\n        sliderValue: value\n      });\n      // update the current time of the video\n      var video = document.getElementById('video-thumb-player');\n      video.currentTime = value / 100;\n    }\n  }, {\n    key: 'createThumbnail',\n    value: function createThumbnail() {\n      // take a snapshot\n      var video = document.getElementById('video-thumb-player');\n      var canvas = document.createElement('canvas');\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\n      var dataUrl = canvas.toDataURL();\n      var blob = dataURItoBlob(dataUrl);\n      var snapshot = new File([blob], 'thumbnail.png', {\n        type: 'image/png'\n      });\n      // set the thumbnail in redux store\n      if (snapshot) {\n        this.props.onNewThumbnail(snapshot);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          error = _state.error,\n          videoSource = _state.videoSource,\n          sliderMinRange = _state.sliderMinRange,\n          sliderMaxRange = _state.sliderMaxRange,\n          sliderValue = _state.sliderValue,\n          totalMinutes = _state.totalMinutes,\n          totalSeconds = _state.totalSeconds;\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'label',\n          { className: 'label' },\n          'Thumbnail:'\n        ),\n        _react2.default.createElement('video', {\n          id: 'video-thumb-player',\n          preload: 'metadata',\n          muted: true,\n          style: { display: 'none' },\n          playsInline: true,\n          onLoadedData: this.handleVideoLoadedData,\n          src: videoSource,\n          onSeeked: this.createThumbnail\n        }),\n        sliderValue ? _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'div',\n            { className: 'flex-container--row flex-container--space-between-center', style: { width: '100%' } },\n            _react2.default.createElement(\n              'span',\n              { className: 'info-message' },\n              '0\\'00\"'\n            ),\n            _react2.default.createElement(\n              'span',\n              { className: 'info-message' },\n              totalMinutes,\n              '\\'',\n              totalSeconds,\n              '\"'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            null,\n            _react2.default.createElement('input', {\n              type: 'range',\n              min: sliderMinRange,\n              max: sliderMaxRange,\n              value: sliderValue,\n              className: 'slider',\n              onChange: this.handleSliderChange\n            })\n          )\n        ) : _react2.default.createElement(\n          'p',\n          { className: 'info-message' },\n          'loading... '\n        ),\n        error ? _react2.default.createElement(\n          'p',\n          { className: 'info-message--failure' },\n          error\n        ) : _react2.default.createElement(\n          'p',\n          { className: 'info-message' },\n          'Use slider to set thumbnail'\n        )\n      );\n    }\n  }]);\n\n  return PublishThumbnailInput;\n}(_react2.default.Component);\n\nexports.default = PublishThumbnailInput;\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(111);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var publish = _ref.publish;\n\n  return {\n    showMetadataInputs: publish.showMetadataInputs,\n    description: publish.metadata.description,\n    license: publish.metadata.license,\n    nsfw: publish.metadata.nsfw\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onMetadataChange: function onMetadataChange(name, value) {\n      dispatch((0, _publish.updateMetadata)(name, value));\n    },\n    onToggleMetadataInputs: function onToggleMetadataInputs(value) {\n      dispatch((0, _publish.toggleMetadataInputs)(value));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ExpandingTextArea = __webpack_require__(112);\n\nvar _ExpandingTextArea2 = _interopRequireDefault(_ExpandingTextArea);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PublishMetadataInputs = function (_React$Component) {\n  _inherits(PublishMetadataInputs, _React$Component);\n\n  function PublishMetadataInputs(props) {\n    _classCallCheck(this, PublishMetadataInputs);\n\n    var _this = _possibleConstructorReturn(this, (PublishMetadataInputs.__proto__ || Object.getPrototypeOf(PublishMetadataInputs)).call(this, props));\n\n    _this.toggleShowInputs = _this.toggleShowInputs.bind(_this);\n    _this.handleInput = _this.handleInput.bind(_this);\n    _this.handleSelect = _this.handleSelect.bind(_this);\n    return _this;\n  }\n\n  _createClass(PublishMetadataInputs, [{\n    key: 'toggleShowInputs',\n    value: function toggleShowInputs() {\n      this.props.onToggleMetadataInputs(!this.props.showMetadataInputs);\n    }\n  }, {\n    key: 'handleInput',\n    value: function handleInput(event) {\n      var target = event.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n      this.props.onMetadataChange(name, value);\n    }\n  }, {\n    key: 'handleSelect',\n    value: function handleSelect(event) {\n      var name = event.target.name;\n      var selectedOption = event.target.selectedOptions[0].value;\n      this.props.onMetadataChange(name, selectedOption);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { id: 'publish-details', className: 'row row--padded row--no-top row--wide' },\n        this.props.showMetadataInputs && _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--no-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--3 column--med-10 align-content-top' },\n              _react2.default.createElement(\n                'label',\n                { htmlFor: 'publish-license', className: 'label' },\n                'Description:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--7 column--sml-10' },\n              _react2.default.createElement(_ExpandingTextArea2.default, {\n                id: 'publish-description',\n                className: 'textarea textarea--primary textarea--full-width',\n                rows: 1,\n                maxLength: 2000,\n                style: { maxHeight: 200 },\n                name: 'description',\n                placeholder: 'Optional description',\n                value: this.props.description,\n                onChange: this.handleInput })\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--no-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--3 column--med-10' },\n              _react2.default.createElement(\n                'label',\n                { htmlFor: 'publish-license', className: 'label' },\n                'License:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--7 column--sml-10' },\n              _react2.default.createElement(\n                'select',\n                { type: 'text', name: 'license', id: 'publish-license', className: 'select select--primary', onChange: this.handleSelect },\n                _react2.default.createElement(\n                  'option',\n                  { value: ' ' },\n                  'Unspecified'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: 'Public Domain' },\n                  'Public Domain'\n                ),\n                _react2.default.createElement(\n                  'option',\n                  { value: 'Creative Commons' },\n                  'Creative Commons'\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--no-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--3' },\n              _react2.default.createElement(\n                'label',\n                { htmlFor: 'publish-nsfw', className: 'label' },\n                'Mature:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--7' },\n              _react2.default.createElement('input', { className: 'input-checkbox', type: 'checkbox', id: 'publish-nsfw', name: 'nsfw', value: this.props.nsfw, onChange: this.handleInput })\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'button',\n          { className: 'button--secondary', onClick: this.toggleShowInputs },\n          this.props.showMetadataInputs ? 'less' : 'more'\n        )\n      );\n    }\n  }]);\n\n  return PublishMetadataInputs;\n}(_react2.default.Component);\n\nexports.default = PublishMetadataInputs;\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(9);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ExpandingTextarea = function (_Component) {\n  _inherits(ExpandingTextarea, _Component);\n\n  function ExpandingTextarea(props) {\n    _classCallCheck(this, ExpandingTextarea);\n\n    var _this = _possibleConstructorReturn(this, (ExpandingTextarea.__proto__ || Object.getPrototypeOf(ExpandingTextarea)).call(this, props));\n\n    _this._handleChange = _this._handleChange.bind(_this);\n    return _this;\n  }\n\n  _createClass(ExpandingTextarea, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.adjustTextarea({});\n    }\n  }, {\n    key: '_handleChange',\n    value: function _handleChange(event) {\n      var onChange = this.props.onChange;\n\n      if (onChange) onChange(event);\n      this.adjustTextarea(event);\n    }\n  }, {\n    key: 'adjustTextarea',\n    value: function adjustTextarea(_ref) {\n      var _ref$target = _ref.target,\n          target = _ref$target === undefined ? this.el : _ref$target;\n\n      target.style.height = 0;\n      target.style.height = target.scrollHeight + 'px';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var rest = _objectWithoutProperties(this.props, []);\n\n      return _react2.default.createElement('textarea', _extends({}, rest, {\n        ref: function ref(x) {\n          return _this2.el = x;\n        },\n        onChange: this._handleChange\n      }));\n    }\n  }]);\n\n  return ExpandingTextarea;\n}(_react.Component);\n\nExpandingTextarea.propTypes = {\n  onChange: _propTypes2.default.func\n};\n\nexports.default = ExpandingTextarea;\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(114);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var channel = _ref.channel,\n      publish = _ref.publish;\n\n  return {\n    loggedInChannelName: channel.loggedInChannel.name,\n    publishInChannel: publish.publishInChannel,\n    selectedChannel: publish.selectedChannel,\n    channelError: publish.error.channel\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onPublishInChannelChange: function onPublishInChannelChange(value) {\n      dispatch((0, _publish.updateError)('channel', null));\n      dispatch((0, _publish.setPublishInChannel)(value));\n    },\n    onChannelSelect: function onChannelSelect(value) {\n      dispatch((0, _publish.updateError)('channel', null));\n      dispatch((0, _publish.updateSelectedChannel)(value));\n    }\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ChannelLoginForm = __webpack_require__(40);\n\nvar _ChannelLoginForm2 = _interopRequireDefault(_ChannelLoginForm);\n\nvar _ChannelCreateForm = __webpack_require__(41);\n\nvar _ChannelCreateForm2 = _interopRequireDefault(_ChannelCreateForm);\n\nvar _publish_channel_select_states = __webpack_require__(34);\n\nvar states = _interopRequireWildcard(_publish_channel_select_states);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChannelSelect = function (_React$Component) {\n  _inherits(ChannelSelect, _React$Component);\n\n  function ChannelSelect(props) {\n    _classCallCheck(this, ChannelSelect);\n\n    var _this = _possibleConstructorReturn(this, (ChannelSelect.__proto__ || Object.getPrototypeOf(ChannelSelect)).call(this, props));\n\n    _this.toggleAnonymousPublish = _this.toggleAnonymousPublish.bind(_this);\n    _this.handleSelection = _this.handleSelection.bind(_this);\n    return _this;\n  }\n\n  _createClass(ChannelSelect, [{\n    key: 'toggleAnonymousPublish',\n    value: function toggleAnonymousPublish(event) {\n      var value = event.target.value;\n      if (value === 'anonymous') {\n        this.props.onPublishInChannelChange(false);\n      } else {\n        this.props.onPublishInChannelChange(true);\n      }\n    }\n  }, {\n    key: 'handleSelection',\n    value: function handleSelection(event) {\n      var selectedOption = event.target.selectedOptions[0].value;\n      this.props.onChannelSelect(selectedOption);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'form',\n          null,\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--3 column--med-10' },\n            _react2.default.createElement('input', { type: 'radio', name: 'anonymous-or-channel', id: 'anonymous-radio', className: 'input-radio', value: 'anonymous', checked: !this.props.publishInChannel, onChange: this.toggleAnonymousPublish }),\n            _react2.default.createElement(\n              'label',\n              { className: 'label label--pointer', htmlFor: 'anonymous-radio' },\n              'Anonymous'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--7 column--med-10' },\n            _react2.default.createElement('input', { type: 'radio', name: 'anonymous-or-channel', id: 'channel-radio', className: 'input-radio', value: 'in a channel', checked: this.props.publishInChannel, onChange: this.toggleAnonymousPublish }),\n            _react2.default.createElement(\n              'label',\n              { className: 'label label--pointer', htmlFor: 'channel-radio' },\n              'In a channel'\n            )\n          ),\n          this.props.channelError ? _react2.default.createElement(\n            'p',\n            { className: 'info-message--failure' },\n            this.props.channelError\n          ) : _react2.default.createElement(\n            'p',\n            { className: 'info-message' },\n            'Publish anonymously or in a channel'\n          )\n        ),\n        this.props.publishInChannel && _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--3' },\n            _react2.default.createElement(\n              'label',\n              { className: 'label', htmlFor: 'channel-name-select' },\n              'Channel:'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--7' },\n            _react2.default.createElement(\n              'select',\n              { type: 'text', id: 'channel-name-select', className: 'select select--arrow', value: this.props.selectedChannel, onChange: this.handleSelection },\n              this.props.loggedInChannelName && _react2.default.createElement(\n                'option',\n                { value: this.props.loggedInChannelName, id: 'publish-channel-select-channel-option' },\n                this.props.loggedInChannelName\n              ),\n              _react2.default.createElement(\n                'option',\n                { value: states.LOGIN },\n                'Existing'\n              ),\n              _react2.default.createElement(\n                'option',\n                { value: states.CREATE },\n                'New'\n              )\n            )\n          ),\n          this.props.selectedChannel === states.LOGIN && _react2.default.createElement(_ChannelLoginForm2.default, null),\n          this.props.selectedChannel === states.CREATE && _react2.default.createElement(_ChannelCreateForm2.default, null)\n        )\n      );\n    }\n  }]);\n\n  return ChannelSelect;\n}(_react2.default.Component);\n\nexports.default = ChannelSelect;\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChannelLoginForm = function (_React$Component) {\n  _inherits(ChannelLoginForm, _React$Component);\n\n  function ChannelLoginForm(props) {\n    _classCallCheck(this, ChannelLoginForm);\n\n    var _this = _possibleConstructorReturn(this, (ChannelLoginForm.__proto__ || Object.getPrototypeOf(ChannelLoginForm)).call(this, props));\n\n    _this.state = {\n      error: null,\n      name: '',\n      password: ''\n    };\n    _this.handleInput = _this.handleInput.bind(_this);\n    _this.loginToChannel = _this.loginToChannel.bind(_this);\n    return _this;\n  }\n\n  _createClass(ChannelLoginForm, [{\n    key: 'handleInput',\n    value: function handleInput(event) {\n      var name = event.target.name;\n      var value = event.target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: 'loginToChannel',\n    value: function loginToChannel(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var params = {\n        method: 'POST',\n        body: JSON.stringify({ username: this.state.name, password: this.state.password }),\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        }),\n        credentials: 'include'\n      };\n      (0, _request2.default)('login', params).then(function (_ref) {\n        var success = _ref.success,\n            channelName = _ref.channelName,\n            shortChannelId = _ref.shortChannelId,\n            channelClaimId = _ref.channelClaimId,\n            message = _ref.message;\n\n        if (success) {\n          _this2.props.onChannelLogin(channelName, shortChannelId, channelClaimId);\n        } else {\n          _this2.setState({ 'error': message });\n        };\n      }).catch(function (error) {\n        if (error.message) {\n          _this2.setState({ 'error': error.message });\n        } else {\n          _this2.setState({ 'error': error });\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'form',\n        { id: 'channel-login-form' },\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--wide row--short' },\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--3 column--sml-10' },\n            _react2.default.createElement(\n              'label',\n              { className: 'label', htmlFor: 'channel-login-name-input' },\n              'Name:'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--6 column--sml-10' },\n            _react2.default.createElement(\n              'div',\n              { className: 'input-text--primary flex-container--row flex-container--left-bottom' },\n              _react2.default.createElement(\n                'span',\n                null,\n                '@'\n              ),\n              _react2.default.createElement('input', { type: 'text', id: 'channel-login-name-input', className: 'input-text', name: 'name', placeholder: 'Your Channel Name', value: this.state.channelName, onChange: this.handleInput })\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--wide row--short' },\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--3 column--sml-10' },\n            _react2.default.createElement(\n              'label',\n              { className: 'label', htmlFor: 'channel-login-password-input' },\n              'Password:'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--6 column--sml-10' },\n            _react2.default.createElement(\n              'div',\n              { className: 'input-text--primary' },\n              _react2.default.createElement('input', { type: 'password', id: 'channel-login-password-input', name: 'password', className: 'input-text', placeholder: '', value: this.state.channelPassword, onChange: this.handleInput })\n            )\n          )\n        ),\n        this.state.error ? _react2.default.createElement(\n          'p',\n          { className: 'info-message--failure' },\n          this.state.error\n        ) : _react2.default.createElement(\n          'p',\n          { className: 'info-message' },\n          'Enter the name and password for your channel'\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--wide' },\n          _react2.default.createElement(\n            'button',\n            { className: 'button--primary', onClick: this.loginToChannel },\n            'Authenticate'\n          )\n        )\n      );\n    }\n  }]);\n\n  return ChannelLoginForm;\n}(_react2.default.Component);\n\nexports.default = ChannelLoginForm;\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ProgressBar = __webpack_require__(20);\n\nvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChannelCreateForm = function (_React$Component) {\n  _inherits(ChannelCreateForm, _React$Component);\n\n  function ChannelCreateForm(props) {\n    _classCallCheck(this, ChannelCreateForm);\n\n    var _this = _possibleConstructorReturn(this, (ChannelCreateForm.__proto__ || Object.getPrototypeOf(ChannelCreateForm)).call(this, props));\n\n    _this.state = {\n      error: null,\n      channel: '',\n      password: '',\n      status: null\n    };\n    _this.handleChannelInput = _this.handleChannelInput.bind(_this);\n    _this.handleInput = _this.handleInput.bind(_this);\n    _this.createChannel = _this.createChannel.bind(_this);\n    return _this;\n  }\n\n  _createClass(ChannelCreateForm, [{\n    key: 'cleanseChannelInput',\n    value: function cleanseChannelInput(input) {\n      input = input.replace(/\\s+/g, '-'); // replace spaces with dashes\n      input = input.replace(/[^A-Za-z0-9-]/g, ''); // remove all characters that are not A-Z, a-z, 0-9, or '-'\n      return input;\n    }\n  }, {\n    key: 'handleChannelInput',\n    value: function handleChannelInput(event) {\n      var value = event.target.value;\n      value = this.cleanseChannelInput(value);\n      this.setState({ channel: value });\n      if (value) {\n        this.updateIsChannelAvailable(value);\n      } else {\n        this.setState({ error: 'Please enter a channel name' });\n      }\n    }\n  }, {\n    key: 'handleInput',\n    value: function handleInput(event) {\n      var name = event.target.name;\n      var value = event.target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: 'updateIsChannelAvailable',\n    value: function updateIsChannelAvailable(channel) {\n      var _this2 = this;\n\n      var channelWithAtSymbol = '@' + channel;\n      (0, _request2.default)('/api/channel/availability/' + channelWithAtSymbol).then(function (isAvailable) {\n        if (isAvailable) {\n          _this2.setState({ 'error': null });\n        } else {\n          _this2.setState({ 'error': 'That channel has already been claimed' });\n        }\n      }).catch(function (error) {\n        _this2.setState({ 'error': error.message });\n      });\n    }\n  }, {\n    key: 'checkIsChannelAvailable',\n    value: function checkIsChannelAvailable(channel) {\n      var channelWithAtSymbol = '@' + channel;\n      return new Promise(function (resolve, reject) {\n        (0, _request2.default)('/api/channel/availability/' + channelWithAtSymbol).then(function (isAvailable) {\n          if (!isAvailable) {\n            return reject(new Error('That channel has already been claimed'));\n          }\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: 'checkIsPasswordProvided',\n    value: function checkIsPasswordProvided() {\n      var password = this.state.password;\n      return new Promise(function (resolve, reject) {\n        if (!password || password.length < 1) {\n          return reject(new Error('Please provide a password'));\n        }\n        resolve();\n      });\n    }\n  }, {\n    key: 'makePublishChannelRequest',\n    value: function makePublishChannelRequest(username, password) {\n      var params = {\n        method: 'POST',\n        body: JSON.stringify({ username: username, password: password }),\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        }),\n        credentials: 'include'\n      };\n      return new Promise(function (resolve, reject) {\n        (0, _request2.default)('/signup', params).then(function (result) {\n          return resolve(result);\n        }).catch(function (error) {\n          reject(new Error('Unfortunately, we encountered an error while creating your channel. Please let us know in Discord! ' + error.message));\n        });\n      });\n    }\n  }, {\n    key: 'createChannel',\n    value: function createChannel(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      this.checkIsPasswordProvided().then(function () {\n        return _this3.checkIsChannelAvailable(_this3.state.channel, _this3.state.password);\n      }).then(function () {\n        _this3.setState({ status: 'We are publishing your new channel.  Sit tight...' });\n        return _this3.makePublishChannelRequest(_this3.state.channel, _this3.state.password);\n      }).then(function (result) {\n        _this3.setState({ status: null });\n        _this3.props.onChannelLogin(result.channelName, result.shortChannelId, result.channelClaimId);\n      }).catch(function (error) {\n        _this3.setState({ 'error': error.message, status: null });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        !this.state.status ? _react2.default.createElement(\n          'form',\n          { id: 'publish-channel-form' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--wide row--short' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--3 column--sml-10' },\n              _react2.default.createElement(\n                'label',\n                { className: 'label', htmlFor: 'new-channel-name' },\n                'Name:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--6 column--sml-10' },\n              _react2.default.createElement(\n                'div',\n                { className: 'input-text--primary flex-container--row flex-container--left-bottom span--relative' },\n                _react2.default.createElement(\n                  'span',\n                  null,\n                  '@'\n                ),\n                _react2.default.createElement('input', { type: 'text', name: 'channel', id: 'new-channel-name', className: 'input-text', placeholder: 'exampleChannelName', value: this.state.channel, onChange: this.handleChannelInput }),\n                this.state.channel && !this.state.error && _react2.default.createElement(\n                  'span',\n                  { id: 'input-success-channel-name', className: 'info-message--success span--absolute' },\n                  '\\u2713'\n                ),\n                this.state.error && _react2.default.createElement(\n                  'span',\n                  { id: 'input-success-channel-name', className: 'info-message--failure span--absolute' },\n                  '\\u2716'\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--wide row--short' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--3 column--sml-10' },\n              _react2.default.createElement(\n                'label',\n                { className: 'label', htmlFor: 'new-channel-password' },\n                'Password:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--6 column--sml-10' },\n              _react2.default.createElement(\n                'div',\n                { className: 'input-text--primary' },\n                _react2.default.createElement('input', { type: 'password', name: 'password', id: 'new-channel-password', className: 'input-text', placeholder: '', value: this.state.password, onChange: this.handleInput })\n              )\n            )\n          ),\n          this.state.error ? _react2.default.createElement(\n            'p',\n            { className: 'info-message--failure' },\n            this.state.error\n          ) : _react2.default.createElement(\n            'p',\n            { className: 'info-message' },\n            'Choose a name and password for your channel'\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--wide' },\n            _react2.default.createElement(\n              'button',\n              { className: 'button--primary', onClick: this.createChannel },\n              'Create Channel'\n            )\n          )\n        ) : _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'p',\n            { className: 'fine-print' },\n            this.state.status\n          ),\n          _react2.default.createElement(_ProgressBar2.default, { size: 12 })\n        )\n      );\n    }\n  }]);\n\n  return ChannelCreateForm;\n}(_react2.default.Component);\n\nexports.default = ChannelCreateForm;\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ActiveStatusBar = function ActiveStatusBar() {\n  return _react2.default.createElement(\n    'span',\n    { className: 'progress-bar progress-bar--active' },\n    '| '\n  );\n};\n\nexports.default = ActiveStatusBar;\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InactiveStatusBar = function InactiveStatusBar() {\n  return _react2.default.createElement(\n    'span',\n    { className: 'progress-bar progress-bar--inactive' },\n    '| '\n  );\n};\n\nexports.default = InactiveStatusBar;\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _publish = __webpack_require__(5);\n\nvar _view = __webpack_require__(120);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var publish = _ref.publish;\n\n  return {\n    status: publish.status.status,\n    message: publish.status.message\n  };\n};\n\nvar mapDispatchToProps = {\n  clearFile: _publish.clearFile\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ProgressBar = __webpack_require__(20);\n\nvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\nvar _publish_claim_states = __webpack_require__(121);\n\nvar publishStates = _interopRequireWildcard(_publish_claim_states);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PublishStatus = function (_React$Component) {\n  _inherits(PublishStatus, _React$Component);\n\n  function PublishStatus() {\n    _classCallCheck(this, PublishStatus);\n\n    return _possibleConstructorReturn(this, (PublishStatus.__proto__ || Object.getPrototypeOf(PublishStatus)).apply(this, arguments));\n  }\n\n  _createClass(PublishStatus, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          status = _props.status,\n          message = _props.message,\n          clearFile = _props.clearFile;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--tall flex-container--column flex-container--center-center' },\n        status === publishStates.LOAD_START && _react2.default.createElement(\n          'div',\n          { className: 'row align-content-center' },\n          _react2.default.createElement(\n            'p',\n            null,\n            'File is loading to server'\n          ),\n          _react2.default.createElement(\n            'p',\n            { className: 'blue' },\n            '0%'\n          )\n        ),\n        status === publishStates.LOADING && _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'div',\n            { className: 'row align-content-center' },\n            _react2.default.createElement(\n              'p',\n              null,\n              'File is loading to server'\n            ),\n            _react2.default.createElement(\n              'p',\n              { className: 'blue' },\n              message\n            )\n          )\n        ),\n        status === publishStates.PUBLISHING && _react2.default.createElement(\n          'div',\n          { className: 'row align-content-center' },\n          _react2.default.createElement(\n            'p',\n            null,\n            'Upload complete.  Your file is now being published on the blockchain...'\n          ),\n          _react2.default.createElement(_ProgressBar2.default, { size: 12 }),\n          _react2.default.createElement(\n            'p',\n            null,\n            'Curious what magic is happening here? ',\n            _react2.default.createElement(\n              'a',\n              { className: 'link--primary', target: 'blank', href: 'https://lbry.io/faq/what-is-lbry' },\n              'Learn more.'\n            )\n          )\n        ),\n        status === publishStates.SUCCESS && _react2.default.createElement(\n          'div',\n          { className: 'row align-content-center' },\n          _react2.default.createElement(\n            'p',\n            null,\n            'Your publish is complete! You are being redirected to it now.'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'If you are not automatically redirected, ',\n            _react2.default.createElement(\n              'a',\n              { className: 'link--primary', target: '_blank', href: message },\n              'click here.'\n            )\n          )\n        ),\n        status === publishStates.FAILED && _react2.default.createElement(\n          'div',\n          { className: 'row align-content-center' },\n          _react2.default.createElement(\n            'p',\n            null,\n            'Something went wrong...'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            _react2.default.createElement(\n              'strong',\n              null,\n              message\n            )\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'For help, post the above error text in the #speech channel on the ',\n            _react2.default.createElement(\n              'a',\n              { className: 'link--primary', href: 'https://discord.gg/YjYbwhS', target: '_blank' },\n              'lbry discord'\n            )\n          ),\n          _react2.default.createElement(\n            'button',\n            { className: 'button--secondary', onClick: clearFile },\n            'Reset'\n          )\n        )\n      );\n    }\n  }]);\n\n  return PublishStatus;\n}(_react2.default.Component);\n\n;\n\nexports.default = PublishStatus;\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar LOAD_START = exports.LOAD_START = 'LOAD_START';\nvar LOADING = exports.LOADING = 'LOADING';\nvar PUBLISHING = exports.PUBLISHING = 'PUBLISHING';\nvar SUCCESS = exports.SUCCESS = 'SUCCESS';\nvar FAILED = exports.FAILED = 'FAILED';\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nvar _SEO = __webpack_require__(8);\n\nvar _SEO2 = _interopRequireDefault(_SEO);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AboutPage = function (_React$Component) {\n  _inherits(AboutPage, _React$Component);\n\n  function AboutPage() {\n    _classCallCheck(this, AboutPage);\n\n    return _possibleConstructorReturn(this, (AboutPage.__proto__ || Object.getPrototypeOf(AboutPage)).apply(this, arguments));\n  }\n\n  _createClass(AboutPage, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_SEO2.default, { pageTitle: 'About', pageUri: 'about' }),\n        _react2.default.createElement(_NavBar2.default, null),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--padded' },\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--5 column--med-10 align-content-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'p',\n                { className: 'pull-quote' },\n                'Spee.ch is an open-source project.  Please contribute to the existing site, or fork it and make your own.'\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://twitter.com/spee_ch' },\n                  'TWITTER'\n                )\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://github.com/lbryio/spee.ch' },\n                  'GITHUB'\n                )\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://discord.gg/YjYbwhS' },\n                  'DISCORD CHANNEL'\n                )\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://github.com/lbryio/spee.ch/blob/master/README.md' },\n                  'DOCUMENTATION'\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--5 column--med-10 align-content-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'p',\n                null,\n                'Spee.ch is a media-hosting site that reads from and publishes content to the ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', href: 'https://lbry.io' },\n                  'LBRY'\n                ),\n                ' blockchain.'\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                'Spee.ch is a hosting service, but with the added benefit that it stores your content on a decentralized network of computers -- the LBRY network.  This means that your images are stored in multiple locations without a single point of failure.'\n              ),\n              _react2.default.createElement(\n                'h3',\n                null,\n                'Contribute'\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                'If you have an idea for your own spee.ch-like site on top of LBRY, fork our ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', href: 'https://github.com/lbryio/spee.ch' },\n                  'github repo'\n                ),\n                ' and go to town!'\n              ),\n              _react2.default.createElement(\n                'p',\n                null,\n                'If you want to improve spee.ch, join our ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', href: 'https://discord.gg/YjYbwhS' },\n                  'discord channel'\n                ),\n                ' or solve one of our ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', href: 'https://github.com/lbryio/spee.ch/issues' },\n                  'github issues'\n                ),\n                '.'\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return AboutPage;\n}(_react2.default.Component);\n\n;\n\nexports.default = AboutPage;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(124);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var channel = _ref.channel;\n\n  return {\n    loggedInChannelName: channel.loggedInChannel.name\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _SEO = __webpack_require__(8);\n\nvar _SEO2 = _interopRequireDefault(_SEO);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nvar _ChannelLoginForm = __webpack_require__(40);\n\nvar _ChannelLoginForm2 = _interopRequireDefault(_ChannelLoginForm);\n\nvar _ChannelCreateForm = __webpack_require__(41);\n\nvar _ChannelCreateForm2 = _interopRequireDefault(_ChannelCreateForm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LoginPage = function (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage() {\n    _classCallCheck(this, LoginPage);\n\n    return _possibleConstructorReturn(this, (LoginPage.__proto__ || Object.getPrototypeOf(LoginPage)).apply(this, arguments));\n  }\n\n  _createClass(LoginPage, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(newProps) {\n      // re-route the user to the homepage if the user is logged in\n      if (newProps.loggedInChannelName !== this.props.loggedInChannelName) {\n        this.props.history.push('/');\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(_SEO2.default, { pageTitle: 'Login', pageUri: 'login' }),\n        _react2.default.createElement(_NavBar2.default, null),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--padded' },\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--5 column--med-10 align-content-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'p',\n                null,\n                'Channels allow you to publish and group content under an identity. You can create a channel for yourself, or share one with like-minded friends.  You can create 1 channel, or 100, so whether you\\'re ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: '/@catalonia2017:43dcf47163caa21d8404d9fe9b30f78ef3e146a8' },\n                  'documenting important events'\n                ),\n                ', or making a public repository for ',\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: '/@catGifs' },\n                  'cat gifs'\n                ),\n                ' (password: \\'1234\\'), try creating a channel for it!'\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--5 column--med-10 align-content-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'h3',\n                { className: 'h3--no-bottom' },\n                'Log in to an existing channel:'\n              ),\n              _react2.default.createElement(_ChannelLoginForm2.default, null),\n              _react2.default.createElement(\n                'h3',\n                { className: 'h3--no-bottom' },\n                'Create a brand new channel:'\n              ),\n              _react2.default.createElement(_ChannelCreateForm2.default, null)\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return LoginPage;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _reactRouterDom.withRouter)(LoginPage);\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _show = __webpack_require__(7);\n\nvar _view = __webpack_require__(126);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  return {\n    error: show.request.error,\n    requestType: show.request.type\n  };\n};\n\nvar mapDispatchToProps = {\n  onHandleShowPageUri: _show.onHandleShowPageUri\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ErrorPage = __webpack_require__(21);\n\nvar _ErrorPage2 = _interopRequireDefault(_ErrorPage);\n\nvar _ShowAssetLite = __webpack_require__(127);\n\nvar _ShowAssetLite2 = _interopRequireDefault(_ShowAssetLite);\n\nvar _ShowAssetDetails = __webpack_require__(130);\n\nvar _ShowAssetDetails2 = _interopRequireDefault(_ShowAssetDetails);\n\nvar _ShowChannel = __webpack_require__(136);\n\nvar _ShowChannel2 = _interopRequireDefault(_ShowChannel);\n\nvar _show_request_types = __webpack_require__(42);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShowPage = function (_React$Component) {\n  _inherits(ShowPage, _React$Component);\n\n  function ShowPage() {\n    _classCallCheck(this, ShowPage);\n\n    return _possibleConstructorReturn(this, (ShowPage.__proto__ || Object.getPrototypeOf(ShowPage)).apply(this, arguments));\n  }\n\n  _createClass(ShowPage, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.onHandleShowPageUri(this.props.match.params);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.match.params !== this.props.match.params) {\n        this.props.onHandleShowPageUri(nextProps.match.params);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          error = _props.error,\n          requestType = _props.requestType;\n\n      if (error) {\n        return _react2.default.createElement(_ErrorPage2.default, { error: error });\n      }\n      switch (requestType) {\n        case _show_request_types.CHANNEL:\n          return _react2.default.createElement(_ShowChannel2.default, null);\n        case _show_request_types.ASSET_LITE:\n          return _react2.default.createElement(_ShowAssetLite2.default, null);\n        case _show_request_types.ASSET_DETAILS:\n          return _react2.default.createElement(_ShowAssetDetails2.default, null);\n        default:\n          return _react2.default.createElement(\n            'p',\n            null,\n            'loading...'\n          );\n      }\n    }\n  }]);\n\n  return ShowPage;\n}(_react2.default.Component);\n\n;\n\nexports.default = ShowPage;\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(128);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  // select request info\n  var requestId = show.request.id;\n  // select asset info\n  var asset = void 0;\n  var request = show.requestList[requestId] || null;\n  var assetList = show.assetList;\n  if (request && assetList) {\n    var assetKey = request.key; // note: just store this in the request\n    asset = assetList[assetKey] || null;\n  };\n  // return props\n  return {\n    asset: asset\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SEO = __webpack_require__(8);\n\nvar _SEO2 = _interopRequireDefault(_SEO);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _AssetDisplay = __webpack_require__(43);\n\nvar _AssetDisplay2 = _interopRequireDefault(_AssetDisplay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShowLite = function (_React$Component) {\n  _inherits(ShowLite, _React$Component);\n\n  function ShowLite() {\n    _classCallCheck(this, ShowLite);\n\n    return _possibleConstructorReturn(this, (ShowLite.__proto__ || Object.getPrototypeOf(ShowLite)).apply(this, arguments));\n  }\n\n  _createClass(ShowLite, [{\n    key: 'render',\n    value: function render() {\n      var asset = this.props.asset;\n\n      if (asset) {\n        var _asset$claimData = asset.claimData,\n            name = _asset$claimData.name,\n            claimId = _asset$claimData.claimId;\n\n        return _react2.default.createElement(\n          'div',\n          { className: 'row row--tall flex-container--column flex-container--center-center show-lite-container' },\n          _react2.default.createElement(_SEO2.default, { pageTitle: name, asset: asset }),\n          _react2.default.createElement(_AssetDisplay2.default, null),\n          _react2.default.createElement(\n            _reactRouterDom.Link,\n            { id: 'asset-boilerpate', className: 'link--primary fine-print', to: '/' + claimId + '/' + name },\n            'hosted via Spee.ch'\n          )\n        );\n      }\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--tall row--padded flex-container--column flex-container--center-center' },\n        _react2.default.createElement(\n          'p',\n          null,\n          'loading asset data...'\n        )\n      );\n    }\n  }]);\n\n  return ShowLite;\n}(_react2.default.Component);\n\n;\n\nexports.default = ShowLite;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ProgressBar = __webpack_require__(20);\n\nvar _ProgressBar2 = _interopRequireDefault(_ProgressBar);\n\nvar _asset_display_states = __webpack_require__(36);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AssetDisplay = function (_React$Component) {\n  _inherits(AssetDisplay, _React$Component);\n\n  function AssetDisplay() {\n    _classCallCheck(this, AssetDisplay);\n\n    return _possibleConstructorReturn(this, (AssetDisplay.__proto__ || Object.getPrototypeOf(AssetDisplay)).apply(this, arguments));\n  }\n\n  _createClass(AssetDisplay, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props$asset$claimDat = this.props.asset.claimData,\n          name = _props$asset$claimDat.name,\n          claimId = _props$asset$claimDat.claimId;\n\n      this.props.onFileRequest(name, claimId);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          status = _props.status,\n          error = _props.error,\n          _props$asset$claimDat2 = _props.asset.claimData,\n          name = _props$asset$claimDat2.name,\n          claimId = _props$asset$claimDat2.claimId,\n          contentType = _props$asset$claimDat2.contentType,\n          fileExt = _props$asset$claimDat2.fileExt,\n          thumbnail = _props$asset$claimDat2.thumbnail;\n\n      return _react2.default.createElement(\n        'div',\n        { id: 'asset-display-component' },\n        status === _asset_display_states.LOCAL_CHECK && _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'p',\n            null,\n            'Checking to see if Spee.ch has your asset locally...'\n          )\n        ),\n        status === _asset_display_states.UNAVAILABLE && _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'p',\n            null,\n            'Sit tight, we\\'re searching the LBRY blockchain for your asset!'\n          ),\n          _react2.default.createElement(_ProgressBar2.default, { size: 12 }),\n          _react2.default.createElement(\n            'p',\n            null,\n            'Curious what magic is happening here? ',\n            _react2.default.createElement(\n              'a',\n              { className: 'link--primary', target: 'blank', href: 'https://lbry.io/faq/what-is-lbry' },\n              'Learn more.'\n            )\n          )\n        ),\n        status === _asset_display_states.ERROR && _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(\n            'p',\n            null,\n            'Unfortunately, we couldn\\'t download your asset from LBRY.  You can help us out by sharing the below error message in the ',\n            _react2.default.createElement(\n              'a',\n              { className: 'link--primary', href: 'https://discord.gg/YjYbwhS', target: '_blank' },\n              'LBRY discord'\n            ),\n            '.'\n          ),\n          _react2.default.createElement(\n            'i',\n            null,\n            _react2.default.createElement(\n              'p',\n              { id: 'error-message' },\n              error\n            )\n          )\n        ),\n        status === _asset_display_states.AVAILABLE && function () {\n          switch (contentType) {\n            case 'image/jpeg':\n            case 'image/jpg':\n            case 'image/png':\n              return _react2.default.createElement('img', {\n                className: 'asset',\n                src: '/' + claimId + '/' + name + '.' + fileExt,\n                alt: name });\n            case 'image/gif':\n              return _react2.default.createElement('img', {\n                className: 'asset',\n                src: '/' + claimId + '/' + name + '.' + fileExt,\n                alt: name\n              });\n            case 'video/mp4':\n              return _react2.default.createElement(\n                'video',\n                { className: 'asset video', controls: true, poster: thumbnail },\n                _react2.default.createElement('source', {\n                  src: '/' + claimId + '/' + name + '.' + fileExt\n                }),\n                _react2.default.createElement(\n                  'p',\n                  null,\n                  'Your browser does not support the ',\n                  _react2.default.createElement(\n                    'code',\n                    null,\n                    'video'\n                  ),\n                  ' element.'\n                )\n              );\n            default:\n              return _react2.default.createElement(\n                'p',\n                null,\n                'Unsupported file type'\n              );\n          }\n        }()\n      );\n    }\n  }]);\n\n  return AssetDisplay;\n}(_react2.default.Component);\n\n;\n\nexports.default = AssetDisplay;\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(131);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  // select request info\n  var requestId = show.request.id;\n  // select asset info\n  var asset = void 0;\n  var request = show.requestList[requestId] || null;\n  var assetList = show.assetList;\n  if (request && assetList) {\n    var assetKey = request.key; // note: just store this in the request\n    asset = assetList[assetKey] || null;\n  };\n  // return props\n  return {\n    asset: asset\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SEO = __webpack_require__(8);\n\nvar _SEO2 = _interopRequireDefault(_SEO);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nvar _ErrorPage = __webpack_require__(21);\n\nvar _ErrorPage2 = _interopRequireDefault(_ErrorPage);\n\nvar _AssetTitle = __webpack_require__(132);\n\nvar _AssetTitle2 = _interopRequireDefault(_AssetTitle);\n\nvar _AssetDisplay = __webpack_require__(43);\n\nvar _AssetDisplay2 = _interopRequireDefault(_AssetDisplay);\n\nvar _AssetInfo = __webpack_require__(134);\n\nvar _AssetInfo2 = _interopRequireDefault(_AssetInfo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShowAssetDetails = function (_React$Component) {\n  _inherits(ShowAssetDetails, _React$Component);\n\n  function ShowAssetDetails() {\n    _classCallCheck(this, ShowAssetDetails);\n\n    return _possibleConstructorReturn(this, (ShowAssetDetails.__proto__ || Object.getPrototypeOf(ShowAssetDetails)).apply(this, arguments));\n  }\n\n  _createClass(ShowAssetDetails, [{\n    key: 'render',\n    value: function render() {\n      var asset = this.props.asset;\n\n      if (asset) {\n        var name = asset.claimData.name;\n\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_SEO2.default, { pageTitle: name + ' - details', asset: asset }),\n          _react2.default.createElement(_NavBar2.default, null),\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--tall row--padded' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--10' },\n              _react2.default.createElement(_AssetTitle2.default, null)\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--5 column--sml-10 align-content-top' },\n              _react2.default.createElement(\n                'div',\n                { className: 'row row--padded show-details-container' },\n                _react2.default.createElement(_AssetDisplay2.default, null)\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--5 column--sml-10 align-content-top' },\n              _react2.default.createElement(\n                'div',\n                { className: 'row row--padded' },\n                _react2.default.createElement(_AssetInfo2.default, null)\n              )\n            )\n          ),\n          '}'\n        );\n      };\n      return _react2.default.createElement(_ErrorPage2.default, { error: 'loading asset data...' });\n    }\n  }]);\n\n  return ShowAssetDetails;\n}(_react2.default.Component);\n\n;\n\nexports.default = ShowAssetDetails;\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(133);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _show = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  var _selectAsset = (0, _show.selectAsset)(show),\n      title = _selectAsset.claimData.title;\n\n  return {\n    title: title\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AssetTitle = function AssetTitle(_ref) {\n  var title = _ref.title;\n\n  return _react2.default.createElement(\n    'div',\n    null,\n    _react2.default.createElement(\n      'span',\n      { className: 'text--large' },\n      title\n    )\n  );\n};\n\nexports.default = AssetTitle;\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(135);\n\nvar _view2 = _interopRequireDefault(_view);\n\nvar _show = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  // select asset\n  var asset = (0, _show.selectAsset)(show);\n  //  return props\n  return {\n    asset: asset\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AssetInfo = function (_React$Component) {\n  _inherits(AssetInfo, _React$Component);\n\n  function AssetInfo(props) {\n    _classCallCheck(this, AssetInfo);\n\n    var _this = _possibleConstructorReturn(this, (AssetInfo.__proto__ || Object.getPrototypeOf(AssetInfo)).call(this, props));\n\n    _this.copyToClipboard = _this.copyToClipboard.bind(_this);\n    return _this;\n  }\n\n  _createClass(AssetInfo, [{\n    key: 'copyToClipboard',\n    value: function copyToClipboard(event) {\n      var elementToCopy = event.target.dataset.elementtocopy;\n      var element = document.getElementById(elementToCopy);\n      element.select();\n      try {\n        document.execCommand('copy');\n      } catch (err) {\n        this.setState({ error: 'Oops, unable to copy' });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props$asset = this.props.asset,\n          shortId = _props$asset.shortId,\n          _props$asset$claimDat = _props$asset.claimData,\n          channelName = _props$asset$claimDat.channelName,\n          certificateId = _props$asset$claimDat.certificateId,\n          description = _props$asset$claimDat.description,\n          name = _props$asset$claimDat.name,\n          claimId = _props$asset$claimDat.claimId,\n          fileExt = _props$asset$claimDat.fileExt,\n          contentType = _props$asset$claimDat.contentType,\n          thumbnail = _props$asset$claimDat.thumbnail,\n          host = _props$asset$claimDat.host;\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        channelName && _react2.default.createElement(\n          'div',\n          { className: 'row row--padded row--wide row--no-top' },\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--2 column--med-10' },\n            _react2.default.createElement(\n              'span',\n              { className: 'text' },\n              'Channel:'\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'column column--8 column--med-10' },\n            _react2.default.createElement(\n              'span',\n              { className: 'text' },\n              _react2.default.createElement(\n                _reactRouterDom.Link,\n                { to: '/' + channelName + ':' + certificateId },\n                channelName\n              )\n            )\n          )\n        ),\n        description && _react2.default.createElement(\n          'div',\n          { className: 'row row--padded row--wide row--no-top' },\n          _react2.default.createElement(\n            'span',\n            { className: 'text' },\n            description\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { id: 'show-share-buttons' },\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--padded row--wide row--no-top' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--2 column--med-10' },\n              _react2.default.createElement(\n                'span',\n                { className: 'text' },\n                'Share:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'div',\n                {\n                  className: 'row row--short row--wide flex-container--row flex-container--space-between-bottom flex-container--wrap' },\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://twitter.com/intent/tweet?text=' + host + '/' + shortId + '/' + name },\n                  'twitter'\n                ),\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://www.facebook.com/sharer/sharer.php?u=' + host + '/' + shortId + '/' + name },\n                  'facebook'\n                ),\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'http://tumblr.com/widgets/share/tool?canonicalUrl=' + host + '/' + shortId + '/' + name },\n                  'tumblr'\n                ),\n                _react2.default.createElement(\n                  'a',\n                  { className: 'link--primary', target: '_blank', href: 'https://www.reddit.com/submit?url=' + host + '/' + shortId + '/' + name + '&title=' + name },\n                  'reddit'\n                )\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--padded row--wide row--no-top' },\n          _react2.default.createElement(\n            'div',\n            { id: 'show-short-link' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--2 column--med-10' },\n              _react2.default.createElement(\n                'span',\n                { className: 'text' },\n                'Link:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'div',\n                { className: 'row row--short row--wide' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'column column--7' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'input-error', id: 'input-error-copy-short-link', hidden: 'true' },\n                    'error here'\n                  ),\n                  _react2.default.createElement('input', { type: 'text', id: 'short-link', className: 'input-disabled input-text--full-width', readOnly: true,\n                    spellCheck: 'false',\n                    value: host + '/' + shortId + '/' + name + '.' + fileExt,\n                    onClick: this.select })\n                ),\n                _react2.default.createElement('div', { className: 'column column--1' }),\n                _react2.default.createElement(\n                  'div',\n                  { className: 'column column--2' },\n                  _react2.default.createElement(\n                    'button',\n                    { className: 'button--primary button--wide', 'data-elementtocopy': 'short-link',\n                      onClick: this.copyToClipboard },\n                    'copy'\n                  )\n                )\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { id: 'show-embed-code' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--2 column--med-10' },\n              _react2.default.createElement(\n                'span',\n                { className: 'text' },\n                'Embed:'\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--8 column--med-10' },\n              _react2.default.createElement(\n                'div',\n                { className: 'row row--short row--wide' },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'column column--7' },\n                  _react2.default.createElement(\n                    'div',\n                    { className: 'input-error', id: 'input-error-copy-embed-text', hidden: 'true' },\n                    'error here'\n                  ),\n                  contentType === 'video/mp4' ? _react2.default.createElement('input', { type: 'text', id: 'embed-text', className: 'input-disabled input-text--full-width', readOnly: true,\n                    onClick: this.select, spellCheck: 'false',\n                    value: '<video width=\"100%\" controls poster=\"' + thumbnail + '\" src=\"' + host + '/' + claimId + '/' + name + '.' + fileExt + '\"/></video>' }) : _react2.default.createElement('input', { type: 'text', id: 'embed-text', className: 'input-disabled input-text--full-width', readOnly: true,\n                    onClick: this.select, spellCheck: 'false',\n                    value: '<img src=\"' + host + '/' + claimId + '/' + name + '.' + fileExt + '\"/>'\n                  })\n                ),\n                _react2.default.createElement('div', { className: 'column column--1' }),\n                _react2.default.createElement(\n                  'div',\n                  { className: 'column column--2' },\n                  _react2.default.createElement(\n                    'button',\n                    { className: 'button--primary button--wide', 'data-elementtocopy': 'embed-text',\n                      onClick: this.copyToClipboard },\n                    'copy'\n                  )\n                )\n              )\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'flex-container--row flex-container--space-between-bottom' },\n          _react2.default.createElement(\n            _reactRouterDom.Link,\n            { className: 'link--primary', to: '/' + shortId + '/' + name + '.' + fileExt },\n            _react2.default.createElement(\n              'span',\n              {\n                className: 'text' },\n              'Direct Link'\n            )\n          ),\n          _react2.default.createElement(\n            'a',\n            { className: 'link--primary', href: host + '/' + claimId + '/' + name + '.' + fileExt, download: name },\n            'Download'\n          ),\n          _react2.default.createElement(\n            'a',\n            { className: 'link--primary', target: '_blank', href: 'https://lbry.io/dmca' },\n            'Report'\n          )\n        )\n      );\n    }\n  }]);\n\n  return AssetInfo;\n}(_react2.default.Component);\n\n;\n\nexports.default = AssetInfo;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _view = __webpack_require__(137);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  // select request info\n  var requestId = show.request.id;\n  // select request\n  var previousRequest = show.requestList[requestId] || null;\n  // select channel\n  var channel = void 0;\n  if (previousRequest) {\n    var channelKey = previousRequest.key;\n    channel = show.channelList[channelKey] || null;\n  }\n  return {\n    channel: channel\n  };\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, null)(_view2.default);\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _SEO = __webpack_require__(8);\n\nvar _SEO2 = _interopRequireDefault(_SEO);\n\nvar _ErrorPage = __webpack_require__(21);\n\nvar _ErrorPage2 = _interopRequireDefault(_ErrorPage);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nvar _ChannelClaimsDisplay = __webpack_require__(138);\n\nvar _ChannelClaimsDisplay2 = _interopRequireDefault(_ChannelClaimsDisplay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShowChannel = function (_React$Component) {\n  _inherits(ShowChannel, _React$Component);\n\n  function ShowChannel() {\n    _classCallCheck(this, ShowChannel);\n\n    return _possibleConstructorReturn(this, (ShowChannel.__proto__ || Object.getPrototypeOf(ShowChannel)).apply(this, arguments));\n  }\n\n  _createClass(ShowChannel, [{\n    key: 'render',\n    value: function render() {\n      var channel = this.props.channel;\n\n      if (channel) {\n        var name = channel.name,\n            longId = channel.longId,\n            shortId = channel.shortId;\n\n        return _react2.default.createElement(\n          'div',\n          null,\n          _react2.default.createElement(_SEO2.default, { pageTitle: name, channel: channel }),\n          _react2.default.createElement(_NavBar2.default, null),\n          _react2.default.createElement(\n            'div',\n            { className: 'row row--tall row--padded' },\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--10' },\n              _react2.default.createElement(\n                'h2',\n                null,\n                'channel name: ',\n                name\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'fine-print' },\n                'full channel id: ',\n                longId\n              ),\n              _react2.default.createElement(\n                'p',\n                { className: 'fine-print' },\n                'short channel id: ',\n                shortId\n              )\n            ),\n            _react2.default.createElement(\n              'div',\n              { className: 'column column--10' },\n              _react2.default.createElement(_ChannelClaimsDisplay2.default, null)\n            )\n          )\n        );\n      };\n      return _react2.default.createElement(_ErrorPage2.default, { error: 'loading channel data...' });\n    }\n  }]);\n\n  return ShowChannel;\n}(_react2.default.Component);\n\n;\n\nexports.default = ShowChannel;\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _show = __webpack_require__(7);\n\nvar _view = __webpack_require__(139);\n\nvar _view2 = _interopRequireDefault(_view);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var show = _ref.show;\n\n  // select channel key\n  var request = show.requestList[show.request.id];\n  var channelKey = request.key;\n  // select channel claims\n  var channel = show.channelList[channelKey] || null;\n  // return props\n  return {\n    channelKey: channelKey,\n    channel: channel\n  };\n};\n\nvar mapDispatchToProps = {\n  onUpdateChannelClaims: _show.onUpdateChannelClaims\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_view2.default);\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _AssetPreview = __webpack_require__(140);\n\nvar _AssetPreview2 = _interopRequireDefault(_AssetPreview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChannelClaimsDisplay = function (_React$Component) {\n  _inherits(ChannelClaimsDisplay, _React$Component);\n\n  function ChannelClaimsDisplay(props) {\n    _classCallCheck(this, ChannelClaimsDisplay);\n\n    var _this = _possibleConstructorReturn(this, (ChannelClaimsDisplay.__proto__ || Object.getPrototypeOf(ChannelClaimsDisplay)).call(this, props));\n\n    _this.showNextResultsPage = _this.showNextResultsPage.bind(_this);\n    _this.showPreviousResultsPage = _this.showPreviousResultsPage.bind(_this);\n    return _this;\n  }\n\n  _createClass(ChannelClaimsDisplay, [{\n    key: 'showPreviousResultsPage',\n    value: function showPreviousResultsPage() {\n      var currentPage = this.props.channel.claimsData.currentPage;\n\n      var previousPage = parseInt(currentPage) - 1;\n      this.showNewPage(previousPage);\n    }\n  }, {\n    key: 'showNextResultsPage',\n    value: function showNextResultsPage() {\n      var currentPage = this.props.channel.claimsData.currentPage;\n\n      var nextPage = parseInt(currentPage) + 1;\n      this.showNewPage(nextPage);\n    }\n  }, {\n    key: 'showNewPage',\n    value: function showNewPage(page) {\n      var _props = this.props,\n          channelKey = _props.channelKey,\n          _props$channel = _props.channel,\n          name = _props$channel.name,\n          longId = _props$channel.longId;\n\n      this.props.onUpdateChannelClaims(channelKey, name, longId, page);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props$channel$claims = this.props.channel.claimsData,\n          claims = _props$channel$claims.claims,\n          currentPage = _props$channel$claims.currentPage,\n          totalPages = _props$channel$claims.totalPages;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'row row--tall' },\n        claims.length > 0 ? _react2.default.createElement(\n          'div',\n          null,\n          claims.map(function (claim, index) {\n            return _react2.default.createElement(_AssetPreview2.default, {\n              claimData: claim,\n              key: claim.name + '-' + index\n            });\n          }),\n          _react2.default.createElement(\n            'div',\n            null,\n            currentPage > 1 && _react2.default.createElement(\n              'button',\n              { className: 'button--secondary', onClick: this.showPreviousResultsPage },\n              'Previous Page'\n            ),\n            currentPage < totalPages && _react2.default.createElement(\n              'button',\n              { className: 'button--secondary', onClick: this.showNextResultsPage },\n              'Next Page'\n            )\n          )\n        ) : _react2.default.createElement(\n          'p',\n          null,\n          'There are no claims in this channel'\n        )\n      );\n    }\n  }]);\n\n  return ChannelClaimsDisplay;\n}(_react2.default.Component);\n\n;\n\nexports.default = ChannelClaimsDisplay;\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = __webpack_require__(3),\n    defaultThumbnail = _require.claim.defaultThumbnail;\n\nvar AssetPreview = function AssetPreview(_ref) {\n  var _ref$claimData = _ref.claimData,\n      name = _ref$claimData.name,\n      claimId = _ref$claimData.claimId,\n      fileExt = _ref$claimData.fileExt,\n      contentType = _ref$claimData.contentType,\n      thumbnail = _ref$claimData.thumbnail;\n\n  var directSourceLink = claimId + '/' + name + '.' + fileExt;\n  var showUrlLink = '/' + claimId + '/' + name;\n  return _react2.default.createElement(\n    'div',\n    { className: 'asset-holder' },\n    _react2.default.createElement(\n      _reactRouterDom.Link,\n      { to: showUrlLink },\n      function () {\n        switch (contentType) {\n          case 'image/jpeg':\n          case 'image/jpg':\n          case 'image/png':\n          case 'image/gif':\n            return _react2.default.createElement('img', {\n              className: 'asset-preview',\n              src: directSourceLink,\n              alt: name\n            });\n          case 'video/mp4':\n            return _react2.default.createElement('img', {\n              className: 'asset-preview video',\n              src: thumbnail || defaultThumbnail,\n              alt: name\n            });\n          default:\n            return _react2.default.createElement(\n              'p',\n              null,\n              'unsupported file type'\n            );\n        }\n      }()\n    )\n  );\n};\n\nexports.default = AssetPreview;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _NavBar = __webpack_require__(6);\n\nvar _NavBar2 = _interopRequireDefault(_NavBar);\n\nvar _reactHelmet = __webpack_require__(14);\n\nvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(3),\n    _require$site = _require.site,\n    title = _require$site.title,\n    host = _require$site.host;\n\nvar FourOhForPage = function (_React$Component) {\n  _inherits(FourOhForPage, _React$Component);\n\n  function FourOhForPage() {\n    _classCallCheck(this, FourOhForPage);\n\n    return _possibleConstructorReturn(this, (FourOhForPage.__proto__ || Object.getPrototypeOf(FourOhForPage)).apply(this, arguments));\n  }\n\n  _createClass(FourOhForPage, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          _reactHelmet2.default,\n          null,\n          _react2.default.createElement(\n            'title',\n            null,\n            title,\n            ' - 404'\n          ),\n          _react2.default.createElement('link', { rel: 'canonical', href: host + '/404' })\n        ),\n        _react2.default.createElement(_NavBar2.default, null),\n        _react2.default.createElement(\n          'div',\n          { className: 'row row--padded' },\n          _react2.default.createElement(\n            'h2',\n            null,\n            '404'\n          ),\n          _react2.default.createElement(\n            'p',\n            null,\n            'That page does not exist'\n          )\n        )\n      );\n    }\n  }]);\n\n  return FourOhForPage;\n}(_react2.default.Component);\n\n;\n\nexports.default = FourOhForPage;\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = __webpack_require__(17),\n    sendGAServeEvent = _require.sendGAServeEvent;\n\nvar _require2 = __webpack_require__(143),\n    determineResponseType = _require2.determineResponseType,\n    flipClaimNameAndIdForBackwardsCompatibility = _require2.flipClaimNameAndIdForBackwardsCompatibility,\n    logRequestData = _require2.logRequestData,\n    getClaimIdAndServeAsset = _require2.getClaimIdAndServeAsset;\n\nvar lbryUri = __webpack_require__(144);\nvar handleShowRender = __webpack_require__(145);\nvar SERVE = 'SERVE';\n\nmodule.exports = function (app) {\n  // route to serve a specific asset using the channel or claim id\n  app.get('/:identifier/:claim', function (req, res) {\n    var headers = req.headers,\n        ip = req.ip,\n        originalUrl = req.originalUrl,\n        params = req.params;\n    // decide if this is a show request\n\n    var hasFileExtension = void 0;\n    try {\n      var _lbryUri$parseModifie = lbryUri.parseModifier(params.claim);\n\n      hasFileExtension = _lbryUri$parseModifie.hasFileExtension;\n    } catch (error) {\n      return res.status(400).json({ success: false, message: error.message });\n    }\n    var responseType = determineResponseType(hasFileExtension, headers);\n    if (responseType !== SERVE) {\n      return handleShowRender(req, res);\n    }\n    // handle serve request\n    // send google analytics\n    sendGAServeEvent(headers, ip, originalUrl);\n    // parse the claim\n    var claimName = void 0;\n    try {\n      var _lbryUri$parseClaim = lbryUri.parseClaim(params.claim);\n\n      claimName = _lbryUri$parseClaim.claimName;\n    } catch (error) {\n      return res.status(400).json({ success: false, message: error.message });\n    }\n    // parse the identifier\n    var isChannel = void 0,\n        channelName = void 0,\n        channelClaimId = void 0,\n        claimId = void 0;\n    try {\n      var _lbryUri$parseIdentif = lbryUri.parseIdentifier(params.identifier);\n\n      isChannel = _lbryUri$parseIdentif.isChannel;\n      channelName = _lbryUri$parseIdentif.channelName;\n      channelClaimId = _lbryUri$parseIdentif.channelClaimId;\n      claimId = _lbryUri$parseIdentif.claimId;\n    } catch (error) {\n      return res.status(400).json({ success: false, message: error.message });\n    }\n    if (!isChannel) {\n      var _flipClaimNameAndIdFo = flipClaimNameAndIdForBackwardsCompatibility(claimId, claimName);\n\n      var _flipClaimNameAndIdFo2 = _slicedToArray(_flipClaimNameAndIdFo, 2);\n\n      claimId = _flipClaimNameAndIdFo2[0];\n      claimName = _flipClaimNameAndIdFo2[1];\n    }\n    // log the request data for debugging\n    logRequestData(responseType, claimName, channelName, claimId);\n    // get the claim Id and then serve the asset\n    getClaimIdAndServeAsset(channelName, channelClaimId, claimName, claimId, originalUrl, ip, res);\n  });\n  // route to serve the winning asset at a claim or a channel page\n  app.get('/:claim', function (req, res) {\n    var headers = req.headers,\n        ip = req.ip,\n        originalUrl = req.originalUrl,\n        params = req.params;\n    // decide if this is a show request\n\n    var hasFileExtension = void 0;\n    try {\n      var _lbryUri$parseModifie2 = lbryUri.parseModifier(params.claim);\n\n      hasFileExtension = _lbryUri$parseModifie2.hasFileExtension;\n    } catch (error) {\n      return res.status(400).json({ success: false, message: error.message });\n    }\n    var responseType = determineResponseType(hasFileExtension, headers);\n    if (responseType !== SERVE) {\n      return handleShowRender(req, res);\n    }\n    // handle serve request\n    // send google analytics\n    sendGAServeEvent(headers, ip, originalUrl);\n    // parse the claim\n    var claimName = void 0;\n    try {\n      var _lbryUri$parseClaim2 = lbryUri.parseClaim(params.claim);\n\n      claimName = _lbryUri$parseClaim2.claimName;\n    } catch (error) {\n      return res.status(400).json({ success: false, message: error.message });\n    }\n    // log the request data for debugging\n    logRequestData(responseType, claimName, null, null);\n    // get the claim Id and then serve the asset\n    getClaimIdAndServeAsset(null, null, claimName, null, originalUrl, ip, res);\n  });\n};\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar logger = __webpack_require__(2);\n\nvar _require = __webpack_require__(29),\n    getClaimId = _require.getClaimId,\n    getLocalFileRecord = _require.getLocalFileRecord;\n\nvar _require2 = __webpack_require__(28),\n    handleErrorResponse = _require2.handleErrorResponse;\n\nvar SERVE = 'SERVE';\nvar SHOW = 'SHOW';\nvar NO_FILE = 'NO_FILE';\nvar NO_CHANNEL = 'NO_CHANNEL';\nvar NO_CLAIM = 'NO_CLAIM';\n\nfunction clientAcceptsHtml(_ref) {\n  var accept = _ref.accept;\n\n  return accept && accept.match(/text\\/html/);\n};\n\nfunction requestIsFromBrowser(headers) {\n  return headers['user-agent'] && headers['user-agent'].match(/Mozilla/);\n};\n\nfunction clientWantsAsset(_ref2) {\n  var accept = _ref2.accept,\n      range = _ref2.range;\n\n  var imageIsWanted = accept && accept.match(/image\\/.*/) && !accept.match(/text\\/html/) && !accept.match(/text\\/\\*/);\n  var videoIsWanted = accept && range;\n  return imageIsWanted || videoIsWanted;\n};\n\nfunction isValidClaimId(claimId) {\n  return claimId.length === 40 && !/[^A-Za-z0-9]/g.test(claimId);\n};\n\nfunction isValidShortId(claimId) {\n  return claimId.length === 1; // it should really evaluate the short url itself\n};\n\nfunction isValidShortIdOrClaimId(input) {\n  return isValidClaimId(input) || isValidShortId(input);\n};\n\nfunction serveAssetToClient(claimId, name, res) {\n  return getLocalFileRecord(claimId, name).then(function (fileRecord) {\n    // check that a local record was found\n    if (fileRecord === NO_FILE) {\n      return res.status(307).redirect('/api/claim/get/' + name + '/' + claimId);\n    }\n    // serve the file\n    var filePath = fileRecord.filePath,\n        fileType = fileRecord.fileType;\n\n    logger.verbose('serving file: ' + filePath);\n    var sendFileOptions = {\n      headers: {\n        'X-Content-Type-Options': 'nosniff',\n        'Content-Type': fileType || 'image/jpeg'\n      }\n    };\n    res.status(200).sendFile(filePath, sendFileOptions);\n  }).catch(function (error) {\n    throw error;\n  });\n};\n\nmodule.exports = {\n  getClaimIdAndServeAsset: function getClaimIdAndServeAsset(channelName, channelClaimId, claimName, claimId, originalUrl, ip, res) {\n    // get the claim Id and then serve the asset\n    getClaimId(channelName, channelClaimId, claimName, claimId).then(function (fullClaimId) {\n      if (fullClaimId === NO_CLAIM) {\n        return res.status(404).json({ success: false, message: 'no claim id could be found' });\n      } else if (fullClaimId === NO_CHANNEL) {\n        return res.status(404).json({ success: false, message: 'no channel id could be found' });\n      }\n      serveAssetToClient(fullClaimId, claimName, res);\n      // postToStats(responseType, originalUrl, ip, claimName, fullClaimId, 'success');\n    }).catch(function (error) {\n      handleErrorResponse(originalUrl, ip, error, res);\n      // postToStats(responseType, originalUrl, ip, claimName, fullClaimId, 'fail');\n    });\n  },\n  determineResponseType: function determineResponseType(hasFileExtension, headers) {\n    var responseType = void 0;\n    if (hasFileExtension) {\n      responseType = SERVE; // assume a serve request if file extension is present\n      if (clientAcceptsHtml(headers)) {\n        // if the request comes from a browser, change it to a show request\n        responseType = SHOW;\n      }\n    } else {\n      responseType = SHOW;\n      if (clientWantsAsset(headers) && requestIsFromBrowser(headers)) {\n        // this is in case someone embeds a show url\n        logger.debug('Show request came from browser but wants an image/video. Changing response to serve...');\n        responseType = SERVE;\n      }\n    }\n    return responseType;\n  },\n  flipClaimNameAndIdForBackwardsCompatibility: function flipClaimNameAndIdForBackwardsCompatibility(identifier, name) {\n    // this is a patch for backwards compatability with '/name/claim_id' url format\n    if (isValidShortIdOrClaimId(name) && !isValidShortIdOrClaimId(identifier)) {\n      var tempName = name;\n      name = identifier;\n      identifier = tempName;\n    }\n    return [identifier, name];\n  },\n  logRequestData: function logRequestData(responseType, claimName, channelName, claimId) {\n    logger.debug('responseType ===', responseType);\n    logger.debug('claim name === ', claimName);\n    logger.debug('channel name ===', channelName);\n    logger.debug('claim id ===', claimId);\n  }\n};\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar logger = __webpack_require__(2);\n\nmodule.exports = {\n  REGEXP_INVALID_CLAIM: /[^A-Za-z0-9-]/g,\n  REGEXP_INVALID_CHANNEL: /[^A-Za-z0-9-@]/g,\n  REGEXP_ADDRESS: /^b(?=[^0OIl]{32,33})[0-9A-Za-z]{32,33}$/,\n  CHANNEL_CHAR: '@',\n  parseIdentifier: function parseIdentifier(identifier) {\n    logger.debug('parsing identifier:', identifier);\n    var componentsRegex = new RegExp('([^:$#/]*)' + // value (stops at the first separator or end)\n    '([:$#]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n\n    var _componentsRegex$exec = componentsRegex.exec(identifier).map(function (match) {\n      return match || null;\n    }),\n        _componentsRegex$exec2 = _slicedToArray(_componentsRegex$exec, 4),\n        proto = _componentsRegex$exec2[0],\n        value = _componentsRegex$exec2[1],\n        modifierSeperator = _componentsRegex$exec2[2],\n        modifier = _componentsRegex$exec2[3];\n\n    logger.debug(proto + ', ' + value + ', ' + modifierSeperator + ', ' + modifier);\n\n    // Validate and process name\n    if (!value) {\n      throw new Error('Check your url.  No channel name provided before \"' + modifierSeperator + '\"');\n    }\n    var isChannel = value.startsWith(module.exports.CHANNEL_CHAR);\n    var channelName = isChannel ? value : null;\n    var claimId = void 0;\n    if (isChannel) {\n      if (!channelName) {\n        throw new Error('No channel name after @.');\n      }\n      var nameBadChars = channelName.match(module.exports.REGEXP_INVALID_CHANNEL);\n      if (nameBadChars) {\n        throw new Error('Invalid characters in channel name: ' + nameBadChars.join(', ') + '.');\n      }\n    } else {\n      claimId = value;\n    }\n\n    // Validate and process modifier\n    var channelClaimId = void 0;\n    if (modifierSeperator) {\n      if (!modifier) {\n        throw new Error('No modifier provided after separator \"' + modifierSeperator + '\"');\n      }\n\n      if (modifierSeperator === ':') {\n        channelClaimId = modifier;\n      } else {\n        throw new Error('The \"' + modifierSeperator + '\" modifier is not currently supported');\n      }\n    }\n    return {\n      isChannel: isChannel,\n      channelName: channelName,\n      channelClaimId: channelClaimId,\n      claimId: claimId\n    };\n  },\n  parseClaim: function parseClaim(claim) {\n    logger.debug('parsing name:', claim);\n    var componentsRegex = new RegExp('([^:$#/.]*)' + // name (stops at the first modifier)\n    '([:$#.]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n\n    var _componentsRegex$exec3 = componentsRegex.exec(claim).map(function (match) {\n      return match || null;\n    }),\n        _componentsRegex$exec4 = _slicedToArray(_componentsRegex$exec3, 4),\n        proto = _componentsRegex$exec4[0],\n        claimName = _componentsRegex$exec4[1],\n        modifierSeperator = _componentsRegex$exec4[2],\n        modifier = _componentsRegex$exec4[3];\n\n    logger.debug(proto + ', ' + claimName + ', ' + modifierSeperator + ', ' + modifier);\n\n    // Validate and process name\n    if (!claimName) {\n      throw new Error('No claim name provided before .');\n    }\n    var nameBadChars = claimName.match(module.exports.REGEXP_INVALID_CLAIM);\n    if (nameBadChars) {\n      throw new Error('Invalid characters in claim name: ' + nameBadChars.join(', ') + '.');\n    }\n    // Validate and process modifier\n    if (modifierSeperator) {\n      if (!modifier) {\n        throw new Error('No file extension provided after separator ' + modifierSeperator + '.');\n      }\n      if (modifierSeperator !== '.') {\n        throw new Error('The ' + modifierSeperator + ' modifier is not supported in the claim name');\n      }\n    }\n    // return results\n    return {\n      claimName: claimName\n    };\n  },\n  parseModifier: function parseModifier(claim) {\n    logger.debug('parsing modifier:', claim);\n    var componentsRegex = new RegExp('([^:$#/.]*)' + // name (stops at the first modifier)\n    '([:$#.]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n\n    var _componentsRegex$exec5 = componentsRegex.exec(claim).map(function (match) {\n      return match || null;\n    }),\n        _componentsRegex$exec6 = _slicedToArray(_componentsRegex$exec5, 4),\n        proto = _componentsRegex$exec6[0],\n        claimName = _componentsRegex$exec6[1],\n        modifierSeperator = _componentsRegex$exec6[2],\n        modifier = _componentsRegex$exec6[3];\n\n    logger.debug(proto + ', ' + claimName + ', ' + modifierSeperator + ', ' + modifier);\n    // Validate and process modifier\n    var hasFileExtension = false;\n    if (modifierSeperator) {\n      hasFileExtension = true;\n    }\n    return {\n      hasFileExtension: hasFileExtension\n    };\n  }\n};\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = __webpack_require__(31);\n\nvar _redux = __webpack_require__(18);\n\nvar _reducers = __webpack_require__(32);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _reactRedux = __webpack_require__(1);\n\nvar _reactRouterDom = __webpack_require__(4);\n\nvar _GAListener = __webpack_require__(37);\n\nvar _GAListener2 = _interopRequireDefault(_GAListener);\n\nvar _app = __webpack_require__(38);\n\nvar _app2 = _interopRequireDefault(_app);\n\nvar _renderFullPage = __webpack_require__(44);\n\nvar _renderFullPage2 = _interopRequireDefault(_renderFullPage);\n\nvar _reduxSaga = __webpack_require__(146);\n\nvar _reduxSaga2 = _interopRequireDefault(_reduxSaga);\n\nvar _effects = __webpack_require__(15);\n\nvar _show_uri = __webpack_require__(147);\n\nvar _show = __webpack_require__(7);\n\nvar _reactHelmet = __webpack_require__(14);\n\nvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar returnSagaWithParams = function returnSagaWithParams(saga, params) {\n  return (/*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (0, _effects.call)(saga, params);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    })\n  );\n};\n\nmodule.exports = function (req, res) {\n  var context = {};\n\n  // create and apply middleware\n  var sagaMiddleware = (0, _reduxSaga2.default)();\n  var middleware = (0, _redux.applyMiddleware)(sagaMiddleware);\n\n  // create a new Redux store instance\n  var store = (0, _redux.createStore)(_reducers2.default, middleware);\n\n  // create saga\n  var action = (0, _show.onHandleShowPageUri)(req.params);\n  var saga = returnSagaWithParams(_show_uri.handleShowPageUri, action);\n\n  // run the saga middleware\n  sagaMiddleware.run(saga).done.then(function () {\n    // render component to a string\n    var html = (0, _server.renderToString)(_react2.default.createElement(\n      _reactRedux.Provider,\n      { store: store },\n      _react2.default.createElement(\n        _reactRouterDom.StaticRouter,\n        { location: req.url, context: context },\n        _react2.default.createElement(\n          _GAListener2.default,\n          null,\n          _react2.default.createElement(_app2.default, null)\n        )\n      )\n    ));\n\n    // get head tags from helmet\n    var helmet = _reactHelmet2.default.renderStatic();\n\n    // check for a redirect\n    if (context.url) {\n      return res.redirect(301, context.url);\n    }\n\n    // get the initial state from our Redux store\n    var preloadedState = store.getState();\n\n    // send the rendered page back to the client\n    res.send((0, _renderFullPage2.default)(helmet, html, preloadedState));\n  });\n};\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"redux-saga\");\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleShowPageUri = handleShowPageUri;\nexports.watchHandleShowPageUri = watchHandleShowPageUri;\n\nvar _effects = __webpack_require__(15);\n\nvar _show_action_types = __webpack_require__(12);\n\nvar actions = _interopRequireWildcard(_show_action_types);\n\nvar _show = __webpack_require__(7);\n\nvar _show_asset = __webpack_require__(148);\n\nvar _show_channel = __webpack_require__(150);\n\nvar _lbryUri = __webpack_require__(152);\n\nvar _lbryUri2 = _interopRequireDefault(_lbryUri);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(parseAndUpdateIdentifierAndClaim),\n    _marked2 = /*#__PURE__*/regeneratorRuntime.mark(parseAndUpdateClaimOnly),\n    _marked3 = /*#__PURE__*/regeneratorRuntime.mark(handleShowPageUri),\n    _marked4 = /*#__PURE__*/regeneratorRuntime.mark(watchHandleShowPageUri);\n\nfunction parseAndUpdateIdentifierAndClaim(modifier, claim) {\n  var isChannel, channelName, channelClaimId, claimId, claimName, extension, _lbryUri$parseIdentif, _lbryUri$parseClaim;\n\n  return regeneratorRuntime.wrap(function parseAndUpdateIdentifierAndClaim$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          // this is a request for an asset\n          // claim will be an asset claim\n          // the identifier could be a channel or a claim id\n          isChannel = void 0, channelName = void 0, channelClaimId = void 0, claimId = void 0, claimName = void 0, extension = void 0;\n          _context.prev = 1;\n          _lbryUri$parseIdentif = _lbryUri2.default.parseIdentifier(modifier);\n          isChannel = _lbryUri$parseIdentif.isChannel;\n          channelName = _lbryUri$parseIdentif.channelName;\n          channelClaimId = _lbryUri$parseIdentif.channelClaimId;\n          claimId = _lbryUri$parseIdentif.claimId;\n          _lbryUri$parseClaim = _lbryUri2.default.parseClaim(claim);\n          claimName = _lbryUri$parseClaim.claimName;\n          extension = _lbryUri$parseClaim.extension;\n          _context.next = 17;\n          break;\n\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context['catch'](1);\n          _context.next = 16;\n          return (0, _effects.put)((0, _show.onRequestError)(_context.t0.message));\n\n        case 16:\n          return _context.abrupt('return', _context.sent);\n\n        case 17:\n          if (!isChannel) {\n            _context.next = 21;\n            break;\n          }\n\n          _context.next = 20;\n          return (0, _effects.call)(_show_asset.newAssetRequest, (0, _show.onNewAssetRequest)(claimName, null, channelName, channelClaimId, extension));\n\n        case 20:\n          return _context.abrupt('return', _context.sent);\n\n        case 21:\n          ;\n          _context.next = 24;\n          return (0, _effects.call)(_show_asset.newAssetRequest, (0, _show.onNewAssetRequest)(claimName, claimId, null, null, extension));\n\n        case 24:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[1, 12]]);\n}\nfunction parseAndUpdateClaimOnly(claim) {\n  var isChannel, channelName, channelClaimId, _lbryUri$parseIdentif2, claimName, extension, _lbryUri$parseClaim2;\n\n  return regeneratorRuntime.wrap(function parseAndUpdateClaimOnly$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          // this could be a request for an asset or a channel page\n          // claim could be an asset claim or a channel claim\n          isChannel = void 0, channelName = void 0, channelClaimId = void 0;\n          _context2.prev = 1;\n          _lbryUri$parseIdentif2 = _lbryUri2.default.parseIdentifier(claim);\n          isChannel = _lbryUri$parseIdentif2.isChannel;\n          channelName = _lbryUri$parseIdentif2.channelName;\n          channelClaimId = _lbryUri$parseIdentif2.channelClaimId;\n          _context2.next = 13;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2['catch'](1);\n          _context2.next = 12;\n          return (0, _effects.put)((0, _show.onRequestError)(_context2.t0.message));\n\n        case 12:\n          return _context2.abrupt('return', _context2.sent);\n\n        case 13:\n          if (!isChannel) {\n            _context2.next = 17;\n            break;\n          }\n\n          _context2.next = 16;\n          return (0, _effects.call)(_show_channel.newChannelRequest, (0, _show.onNewChannelRequest)(channelName, channelClaimId));\n\n        case 16:\n          return _context2.abrupt('return', _context2.sent);\n\n        case 17:\n          // if not for a channel, parse the claim request\n          claimName = void 0, extension = void 0;\n          _context2.prev = 18;\n          _lbryUri$parseClaim2 = _lbryUri2.default.parseClaim(claim);\n          claimName = _lbryUri$parseClaim2.claimName;\n          extension = _lbryUri$parseClaim2.extension;\n          _context2.next = 29;\n          break;\n\n        case 24:\n          _context2.prev = 24;\n          _context2.t1 = _context2['catch'](18);\n          _context2.next = 28;\n          return (0, _effects.put)((0, _show.onRequestError)(_context2.t1.message));\n\n        case 28:\n          return _context2.abrupt('return', _context2.sent);\n\n        case 29:\n          _context2.next = 31;\n          return (0, _effects.call)(_show_asset.newAssetRequest, (0, _show.onNewAssetRequest)(claimName, null, null, null, extension));\n\n        case 31:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[1, 8], [18, 24]]);\n}\n\nfunction handleShowPageUri(action) {\n  var _action$data, identifier, claim;\n\n  return regeneratorRuntime.wrap(function handleShowPageUri$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _action$data = action.data, identifier = _action$data.identifier, claim = _action$data.claim;\n\n          if (!identifier) {\n            _context3.next = 5;\n            break;\n          }\n\n          _context3.next = 4;\n          return (0, _effects.call)(parseAndUpdateIdentifierAndClaim, identifier, claim);\n\n        case 4:\n          return _context3.abrupt('return', _context3.sent);\n\n        case 5:\n          _context3.next = 7;\n          return (0, _effects.call)(parseAndUpdateClaimOnly, claim);\n\n        case 7:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _marked3, this);\n};\n\nfunction watchHandleShowPageUri() {\n  return regeneratorRuntime.wrap(function watchHandleShowPageUri$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return (0, _effects.takeLatest)(actions.HANDLE_SHOW_URI, handleShowPageUri);\n\n        case 2:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _marked4, this);\n};\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newAssetRequest = newAssetRequest;\nexports.watchNewAssetRequest = watchNewAssetRequest;\n\nvar _effects = __webpack_require__(15);\n\nvar _show_action_types = __webpack_require__(12);\n\nvar actions = _interopRequireWildcard(_show_action_types);\n\nvar _show = __webpack_require__(7);\n\nvar _assetApi = __webpack_require__(149);\n\nvar _show2 = __webpack_require__(13);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(newAssetRequest),\n    _marked2 = /*#__PURE__*/regeneratorRuntime.mark(watchNewAssetRequest);\n\nfunction newAssetRequest(action) {\n  var _action$data, requestType, requestId, name, modifier, state, longId, _ref, assetKey, shortId, _ref2, claimData, _ref3;\n\n  return regeneratorRuntime.wrap(function newAssetRequest$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _action$data = action.data, requestType = _action$data.requestType, requestId = _action$data.requestId, name = _action$data.name, modifier = _action$data.modifier;\n          // put an action to update the request in redux\n\n          _context.next = 3;\n          return (0, _effects.put)((0, _show.onRequestUpdate)(requestType, requestId));\n\n        case 3:\n          _context.next = 5;\n          return (0, _effects.select)(_show2.selectShowState);\n\n        case 5:\n          state = _context.sent;\n\n          if (!state.requestList[requestId]) {\n            _context.next = 8;\n            break;\n          }\n\n          return _context.abrupt('return', null);\n\n        case 8:\n          // get long id && add request to request list\n          longId = void 0;\n          _context.prev = 9;\n          _context.next = 12;\n          return (0, _effects.call)(_assetApi.getLongClaimId, name, modifier);\n\n        case 12:\n          _ref = _context.sent;\n          longId = _ref.data;\n          _context.next = 21;\n          break;\n\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context['catch'](9);\n          _context.next = 20;\n          return (0, _effects.put)((0, _show.onRequestError)(_context.t0.message));\n\n        case 20:\n          return _context.abrupt('return', _context.sent);\n\n        case 21:\n          assetKey = 'a#' + name + '#' + longId;\n          _context.next = 24;\n          return (0, _effects.put)((0, _show.addRequestToRequestList)(requestId, null, assetKey));\n\n        case 24:\n          if (!state.assetList[assetKey]) {\n            _context.next = 26;\n            break;\n          }\n\n          return _context.abrupt('return', null);\n\n        case 26:\n          // get short Id\n          shortId = void 0;\n          _context.prev = 27;\n          _context.next = 30;\n          return (0, _effects.call)(_assetApi.getShortId, name, longId);\n\n        case 30:\n          _ref2 = _context.sent;\n          shortId = _ref2.data;\n          _context.next = 39;\n          break;\n\n        case 34:\n          _context.prev = 34;\n          _context.t1 = _context['catch'](27);\n          _context.next = 38;\n          return (0, _effects.put)((0, _show.onRequestError)(_context.t1.message));\n\n        case 38:\n          return _context.abrupt('return', _context.sent);\n\n        case 39:\n          // get asset claim data\n          claimData = void 0;\n          _context.prev = 40;\n          _context.next = 43;\n          return (0, _effects.call)(_assetApi.getClaimData, name, longId);\n\n        case 43:\n          _ref3 = _context.sent;\n          claimData = _ref3.data;\n          _context.next = 52;\n          break;\n\n        case 47:\n          _context.prev = 47;\n          _context.t2 = _context['catch'](40);\n          _context.next = 51;\n          return (0, _effects.put)((0, _show.onRequestError)(_context.t2.message));\n\n        case 51:\n          return _context.abrupt('return', _context.sent);\n\n        case 52:\n          _context.next = 54;\n          return (0, _effects.put)((0, _show.addAssetToAssetList)(assetKey, null, name, longId, shortId, claimData));\n\n        case 54:\n          _context.next = 56;\n          return (0, _effects.put)((0, _show.onRequestError)(null));\n\n        case 56:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[9, 16], [27, 34], [40, 47]]);\n};\n\nfunction watchNewAssetRequest() {\n  return regeneratorRuntime.wrap(function watchNewAssetRequest$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return (0, _effects.takeLatest)(actions.ASSET_REQUEST_NEW, newAssetRequest);\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n};\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLongClaimId = getLongClaimId;\nexports.getShortId = getShortId;\nexports.getClaimData = getClaimData;\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = __webpack_require__(3),\n    host = _require.site.host;\n\nfunction getLongClaimId(name, modifier) {\n  var body = {};\n  // create request params\n  if (modifier) {\n    if (modifier.id) {\n      body['claimId'] = modifier.id;\n    } else {\n      body['channelName'] = modifier.channel.name;\n      body['channelClaimId'] = modifier.channel.id;\n    }\n  }\n  body['claimName'] = name;\n  var params = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body)\n  };\n  // create url\n  var url = host + '/api/claim/long-id';\n  // return the request promise\n  return (0, _request2.default)(url, params);\n};\n\nfunction getShortId(name, claimId) {\n  var url = host + '/api/claim/short-id/' + claimId + '/' + name;\n  return (0, _request2.default)(url);\n};\n\nfunction getClaimData(name, claimId) {\n  var url = host + '/api/claim/data/' + name + '/' + claimId;\n  return (0, _request2.default)(url);\n};\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newChannelRequest = newChannelRequest;\nexports.watchNewChannelRequest = watchNewChannelRequest;\nexports.watchUpdateChannelClaims = watchUpdateChannelClaims;\n\nvar _effects = __webpack_require__(15);\n\nvar _show_action_types = __webpack_require__(12);\n\nvar actions = _interopRequireWildcard(_show_action_types);\n\nvar _show = __webpack_require__(7);\n\nvar _channelApi = __webpack_require__(151);\n\nvar _show2 = __webpack_require__(13);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(newChannelRequest),\n    _marked2 = /*#__PURE__*/regeneratorRuntime.mark(watchNewChannelRequest),\n    _marked3 = /*#__PURE__*/regeneratorRuntime.mark(getNewClaimsAndUpdateChannel),\n    _marked4 = /*#__PURE__*/regeneratorRuntime.mark(watchUpdateChannelClaims);\n\nfunction newChannelRequest(action) {\n  var _action$data, requestType, requestId, channelName, channelId, state, longId, shortId, _ref, _ref$data, channelKey, claimsData, _ref2;\n\n  return regeneratorRuntime.wrap(function newChannelRequest$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _action$data = action.data, requestType = _action$data.requestType, requestId = _action$data.requestId, channelName = _action$data.channelName, channelId = _action$data.channelId;\n          // put an action to update the request in redux\n\n          _context.next = 3;\n          return (0, _effects.put)((0, _show.onRequestUpdate)(requestType, requestId));\n\n        case 3:\n          _context.next = 5;\n          return (0, _effects.select)(_show2.selectShowState);\n\n        case 5:\n          state = _context.sent;\n\n          if (!state.requestList[requestId]) {\n            _context.next = 8;\n            break;\n          }\n\n          return _context.abrupt('return', null);\n\n        case 8:\n          // get channel long id\n          longId = void 0, shortId = void 0;\n          _context.prev = 9;\n          _context.next = 12;\n          return (0, _effects.call)(_channelApi.getChannelData, channelName, channelId);\n\n        case 12:\n          _ref = _context.sent;\n          _ref$data = _ref.data;\n          longId = _ref$data.longChannelClaimId;\n          shortId = _ref$data.shortChannelClaimId;\n          _context.next = 23;\n          break;\n\n        case 18:\n          _context.prev = 18;\n          _context.t0 = _context['catch'](9);\n          _context.next = 22;\n          return (0, _effects.put)((0, _show.onRequestError)(_context.t0.message));\n\n        case 22:\n          return _context.abrupt('return', _context.sent);\n\n        case 23:\n          // store the request in the channel requests list\n          channelKey = 'c#' + channelName + '#' + longId;\n          _context.next = 26;\n          return (0, _effects.put)((0, _show.addRequestToRequestList)(requestId, null, channelKey));\n\n        case 26:\n          if (!state.channelList[channelKey]) {\n            _context.next = 28;\n            break;\n          }\n\n          return _context.abrupt('return', null);\n\n        case 28:\n          // get channel claims data\n          claimsData = void 0;\n          _context.prev = 29;\n          _context.next = 32;\n          return (0, _effects.call)(_channelApi.getChannelClaims, channelName, longId, 1);\n\n        case 32:\n          _ref2 = _context.sent;\n          claimsData = _ref2.data;\n          _context.next = 41;\n          break;\n\n        case 36:\n          _context.prev = 36;\n          _context.t1 = _context['catch'](29);\n          _context.next = 40;\n          return (0, _effects.put)((0, _show.onRequestError)(_context.t1.message));\n\n        case 40:\n          return _context.abrupt('return', _context.sent);\n\n        case 41:\n          _context.next = 43;\n          return (0, _effects.put)((0, _show.addNewChannelToChannelList)(channelKey, channelName, shortId, longId, claimsData));\n\n        case 43:\n          _context.next = 45;\n          return (0, _effects.put)((0, _show.onRequestError)(null));\n\n        case 45:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[9, 18], [29, 36]]);\n}\n\nfunction watchNewChannelRequest() {\n  return regeneratorRuntime.wrap(function watchNewChannelRequest$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return (0, _effects.takeLatest)(actions.CHANNEL_REQUEST_NEW, newChannelRequest);\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n};\n\nfunction getNewClaimsAndUpdateChannel(action) {\n  var _action$data2, channelKey, name, longId, page, claimsData, _ref3;\n\n  return regeneratorRuntime.wrap(function getNewClaimsAndUpdateChannel$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _action$data2 = action.data, channelKey = _action$data2.channelKey, name = _action$data2.name, longId = _action$data2.longId, page = _action$data2.page;\n          claimsData = void 0;\n          _context3.prev = 2;\n          _context3.next = 5;\n          return (0, _effects.call)(_channelApi.getChannelClaims, name, longId, page);\n\n        case 5:\n          _ref3 = _context3.sent;\n          claimsData = _ref3.data;\n          _context3.next = 14;\n          break;\n\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3['catch'](2);\n          _context3.next = 13;\n          return (0, _effects.put)((0, _show.onRequestError)(_context3.t0.message));\n\n        case 13:\n          return _context3.abrupt('return', _context3.sent);\n\n        case 14:\n          _context3.next = 16;\n          return (0, _effects.put)((0, _show.updateChannelClaims)(channelKey, claimsData));\n\n        case 16:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _marked3, this, [[2, 9]]);\n}\n\nfunction watchUpdateChannelClaims() {\n  return regeneratorRuntime.wrap(function watchUpdateChannelClaims$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return (0, _effects.takeLatest)(actions.CHANNEL_CLAIMS_UPDATE_ASYNC, getNewClaimsAndUpdateChannel);\n\n        case 2:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _marked4, this);\n}\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChannelData = getChannelData;\nexports.getChannelClaims = getChannelClaims;\n\nvar _request = __webpack_require__(10);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = __webpack_require__(3),\n    host = _require.site.host;\n\nfunction getChannelData(name, id) {\n  if (!id) id = 'none';\n  var url = host + '/api/channel/data/' + name + '/' + id;\n  return (0, _request2.default)(url);\n};\n\nfunction getChannelClaims(name, longId, page) {\n  if (!page) page = 1;\n  var url = host + '/api/channel/claims/' + name + '/' + longId + '/' + page;\n  return (0, _request2.default)(url);\n};\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nmodule.exports = {\n  REGEXP_INVALID_CLAIM: /[^A-Za-z0-9-]/g,\n  REGEXP_INVALID_CHANNEL: /[^A-Za-z0-9-@]/g,\n  REGEXP_ADDRESS: /^b(?=[^0OIl]{32,33})[0-9A-Za-z]{32,33}$/,\n  CHANNEL_CHAR: '@',\n  parseIdentifier: function parseIdentifier(identifier) {\n    var componentsRegex = new RegExp('([^:$#/]*)' + // value (stops at the first separator or end)\n    '([:$#]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n\n    var _componentsRegex$exec = componentsRegex // eslint-disable-line no-unused-vars\n    .exec(identifier).map(function (match) {\n      return match || null;\n    }),\n        _componentsRegex$exec2 = _slicedToArray(_componentsRegex$exec, 4),\n        proto = _componentsRegex$exec2[0],\n        value = _componentsRegex$exec2[1],\n        modifierSeperator = _componentsRegex$exec2[2],\n        modifier = _componentsRegex$exec2[3];\n\n    // Validate and process name\n\n\n    if (!value) {\n      throw new Error('Check your URL.  No channel name provided before \"' + modifierSeperator + '\"');\n    }\n    var isChannel = value.startsWith(module.exports.CHANNEL_CHAR);\n    var channelName = isChannel ? value : null;\n    var claimId = void 0;\n    if (isChannel) {\n      if (!channelName) {\n        throw new Error('Check your URL.  No channel name after \"@\".');\n      }\n      var nameBadChars = channelName.match(module.exports.REGEXP_INVALID_CHANNEL);\n      if (nameBadChars) {\n        throw new Error('Check your URL.  Invalid characters in channel name: \"' + nameBadChars.join(', ') + '\".');\n      }\n    } else {\n      claimId = value;\n    }\n\n    // Validate and process modifier\n    var channelClaimId = void 0;\n    if (modifierSeperator) {\n      if (!modifier) {\n        throw new Error('Check your URL.  No modifier provided after separator \"' + modifierSeperator + '\"');\n      }\n\n      if (modifierSeperator === ':') {\n        channelClaimId = modifier;\n      } else {\n        throw new Error('Check your URL.  The \"' + modifierSeperator + '\" modifier is not currently supported');\n      }\n    }\n    return {\n      isChannel: isChannel,\n      channelName: channelName,\n      channelClaimId: channelClaimId || null,\n      claimId: claimId || null\n    };\n  },\n  parseClaim: function parseClaim(name) {\n    var componentsRegex = new RegExp('([^:$#/.]*)' + // name (stops at the first extension)\n    '([:$#.]?)([^/]*)' // extension separator, extension (stops at the first path separator or end)\n    );\n\n    var _componentsRegex$exec3 = componentsRegex // eslint-disable-line no-unused-vars\n    .exec(name).map(function (match) {\n      return match || null;\n    }),\n        _componentsRegex$exec4 = _slicedToArray(_componentsRegex$exec3, 4),\n        proto = _componentsRegex$exec4[0],\n        claimName = _componentsRegex$exec4[1],\n        extensionSeperator = _componentsRegex$exec4[2],\n        extension = _componentsRegex$exec4[3];\n\n    // Validate and process name\n\n\n    if (!claimName) {\n      throw new Error('Check your URL.  No claim name provided before \".\"');\n    }\n    var nameBadChars = claimName.match(module.exports.REGEXP_INVALID_CLAIM);\n    if (nameBadChars) {\n      throw new Error('Check your URL.  Invalid characters in claim name: \"' + nameBadChars.join(', ') + '\".');\n    }\n    // Validate and process extension\n    if (extensionSeperator) {\n      if (!extension) {\n        throw new Error('Check your URL.  No file extension provided after separator \"' + extensionSeperator + '\".');\n      }\n      if (extensionSeperator !== '.') {\n        throw new Error('Check your URL.  The \"' + extensionSeperator + '\" separator is not supported in the claim name.');\n      }\n    }\n    return {\n      claimName: claimName,\n      extension: extension || null\n    };\n  }\n};\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar handlePageRender = __webpack_require__(30);\n\nmodule.exports = function (app) {\n  // a catch-all route if someone visits a page that does not exist\n  app.use('*', function (req, res) {\n    // send response\n    handlePageRender(req, res);\n  });\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 45);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 353287f628f976763708","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 2\n// module chunks = 0","const speechConfig = {\n  analytics: {\n    googleId: 'UA-60403362-6', // google id for analytics tracking; leave `null` if not applicable\n  },\n  session: {\n    sessionKey: 'nans$#kfjanwe234rydns',  // enter a secret key to be used for session encryption\n  },\n  files: {\n    uploadDirectory: '/home/lbry/Uploads',  // enter file path to where uploads/publishes should be stored\n  },\n  site: {\n    title      : 'dev1.Spee.ch',\n    name       : 'dev1.Spee.ch',\n    host       : 'https://dev1.spee.ch',\n    description: 'Open-source, decentralized image and video sharing.',\n  },\n  publish: {\n    primaryClaimAddress     : 'bDZ2wPwtULUGxT7GXuNLpQhXmdPRUTUkcL',\n    additionalClaimAddresses: ['banpwixPosfVDWnGvXqU2af36Qpsd7buGd'],\n    thumbnailChannel        : '@dev1thumbs',  // create a channel to use for thumbnail images\n    thumbnailChannelId      : 'aeb625ff6f66c3eeeb42885070f4e53876033626',  // the channel_id (claim id) for the channel above\n  },\n  claim: {\n    defaultTitle      : 'dev1 Spee.ch',\n    defaultThumbnail  : 'https://spee.ch/assets/img/video_thumb_default.png',\n    defaultDescription: 'Open-source, decentralized image and video sharing.',\n  },\n};\n\nmodule.exports = speechConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./config/speechConfig.js","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 4\n// module chunks = 0","import * as actions from 'constants/publish_action_types';\n\n// export action creators\nexport function selectFile (file) {\n  return {\n    type: actions.FILE_SELECTED,\n    data: file,\n  };\n};\n\nexport function clearFile () {\n  return {\n    type: actions.FILE_CLEAR,\n  };\n};\n\nexport function updateMetadata (name, value) {\n  return {\n    type: actions.METADATA_UPDATE,\n    data: {\n      name,\n      value,\n    },\n  };\n};\n\nexport function updateClaim (value) {\n  return {\n    type: actions.CLAIM_UPDATE,\n    data: value,\n  };\n};\n\nexport function setPublishInChannel (channel) {\n  return {\n    type: actions.SET_PUBLISH_IN_CHANNEL,\n    channel,\n  };\n};\n\nexport function updatePublishStatus (status, message) {\n  return {\n    type: actions.PUBLISH_STATUS_UPDATE,\n    data: {\n      status,\n      message,\n    },\n  };\n};\n\nexport function updateError (name, value) {\n  return {\n    type: actions.ERROR_UPDATE,\n    data: {\n      name,\n      value,\n    },\n  };\n};\n\nexport function updateSelectedChannel (channelName) {\n  return {\n    type: actions.SELECTED_CHANNEL_UPDATE,\n    data: channelName,\n  };\n};\n\nexport function toggleMetadataInputs (showMetadataInputs) {\n  return {\n    type: actions.TOGGLE_METADATA_INPUTS,\n    data: showMetadataInputs,\n  };\n};\n\nexport function onNewThumbnail (file) {\n  return {\n    type: actions.THUMBNAIL_NEW,\n    data: file,\n  };\n};\n\nexport function startPublish (history) {\n  return {\n    type: actions.PUBLISH_START,\n    data: { history },\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/actions/publish.js","import { connect } from 'react-redux';\nimport { updateLoggedInChannel } from 'actions/channel';\nimport View from './view';\nimport {updateSelectedChannel} from '../../actions/publish';\n\nconst mapStateToProps = ({ channel }) => {\n  return {\n    channelName   : channel.loggedInChannel.name,\n    channelShortId: channel.loggedInChannel.shortId,\n    channelLongId : channel.loggedInChannel.longId,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChannelLogin: (name, shortId, longId) => {\n      dispatch(updateLoggedInChannel(name, shortId, longId));\n      dispatch(updateSelectedChannel(name));\n    },\n    onChannelLogout: () => {\n      dispatch(updateLoggedInChannel(null, null, null));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/NavBar/index.js","import * as actions from 'constants/show_action_types';\n\nimport { CHANNEL, ASSET_LITE, ASSET_DETAILS } from 'constants/show_request_types';\n\n// basic request parsing\nexport function onHandleShowPageUri (params) {\n  return {\n    type: actions.HANDLE_SHOW_URI,\n    data: params,\n  };\n};\n\nexport function onRequestError (error) {\n  return {\n    type: actions.REQUEST_ERROR,\n    data: error,\n  };\n};\n\nexport function onNewChannelRequest (channelName, channelId) {\n  const requestType = CHANNEL;\n  const requestId = `cr#${channelName}#${channelId}`;\n  return {\n    type: actions.CHANNEL_REQUEST_NEW,\n    data: { requestType, requestId, channelName, channelId },\n  };\n};\n\nexport function onNewAssetRequest (name, id, channelName, channelId, extension) {\n  const requestType = extension ? ASSET_LITE : ASSET_DETAILS;\n  const requestId = `ar#${name}#${id}#${channelName}#${channelId}`;\n  return {\n    type: actions.ASSET_REQUEST_NEW,\n    data: {\n      requestType,\n      requestId,\n      name,\n      modifier: {\n        id,\n        channel: {\n          name: channelName,\n          id  : channelId,\n        },\n      },\n    },\n  };\n};\n\nexport function onRequestUpdate (requestType, requestId) {\n  return {\n    type: actions.REQUEST_UPDATE,\n    data: {\n      requestType,\n      requestId,\n    },\n  };\n};\n\nexport function addRequestToRequestList (id, error, key) {\n  return {\n    type: actions.REQUEST_LIST_ADD,\n    data: { id, error, key },\n  };\n};\n\n// asset actions\n\nexport function addAssetToAssetList (id, error, name, claimId, shortId, claimData) {\n  return {\n    type: actions.ASSET_ADD,\n    data: { id, error, name, claimId, shortId, claimData },\n  };\n}\n\n// channel actions\n\nexport function addNewChannelToChannelList (id, name, shortId, longId, claimsData) {\n  return {\n    type: actions.CHANNEL_ADD,\n    data: { id, name, shortId, longId, claimsData },\n  };\n};\n\nexport function onUpdateChannelClaims (channelKey, name, longId, page) {\n  return {\n    type: actions.CHANNEL_CLAIMS_UPDATE_ASYNC,\n    data: {channelKey, name, longId, page},\n  };\n};\n\nexport function updateChannelClaims (channelListId, claimsData) {\n  return {\n    type: actions.CHANNEL_CLAIMS_UPDATE_SUCCESS,\n    data: {channelListId, claimsData},\n  };\n};\n\n// display a file\n\nexport function fileRequested (name, claimId) {\n  return {\n    type: actions.FILE_REQUESTED,\n    data: { name, claimId },\n  };\n};\n\nexport function updateFileAvailability (status) {\n  return {\n    type: actions.FILE_AVAILABILITY_UPDATE,\n    data: status,\n  };\n};\n\nexport function updateDisplayAssetError (error) {\n  return {\n    type: actions.DISPLAY_ASSET_ERROR,\n    data: error,\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/actions/show.js","import React from 'react';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\n\nimport { createPageTitle } from 'utils/pageTitle';\nimport { createMetaTags } from 'utils/metaTags';\nimport { createCanonicalLink } from 'utils/canonicalLink';\n\nclass SEO extends React.Component {\n  render () {\n    let { pageTitle, asset, channel, pageUri } = this.props;\n    pageTitle = createPageTitle(pageTitle);\n    const metaTags = createMetaTags(asset, channel);\n    const canonicalLink = createCanonicalLink(asset, channel, pageUri);\n    return (\n      <Helmet\n        title={pageTitle}\n        meta={metaTags}\n        link={[{rel: 'canonical', href: canonicalLink}]}\n      />\n    );\n  }\n};\n\nSEO.propTypes = {\n  pageTitle: PropTypes.string,\n  pageUri  : PropTypes.string,\n  channel  : PropTypes.object,\n  asset    : PropTypes.object,\n};\n\nexport default SEO;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/SEO/index.jsx","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 9\n// module chunks = 0","import 'cross-fetch/polyfill';\n\n/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON (response) {\n  if (response.status === 204 || response.status === 205) {\n    return null;\n  }\n  return response.json();\n}\n\n/**\n * Parses the status returned by a network request\n *\n * @param  {object} response   A response from a network request\n * @param  {object} response   The parsed JSON from the network request\n *\n * @return {object | undefined} Returns object with status and statusText, or undefined\n */\nfunction checkStatus (response, jsonResponse) {\n  if (response.status >= 200 && response.status < 300) {\n    return jsonResponse;\n  }\n  const error = new Error(jsonResponse.message);\n  error.response = response;\n  throw error;\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {object}           The response data\n */\n\nexport default function request (url, options) {\n  return fetch(url, options)\n    .then(response => {\n      return Promise.all([response, parseJSON(response)]);\n    })\n    .then(([response, jsonResponse]) => {\n      return checkStatus(response, jsonResponse);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/utils/request.js","const Sequelize = require('sequelize');\nconst logger = require('winston');\nconst { database, username, password } = require('../config/mysqlConfig');\n\nmodule.exports = () => {\n  const db = {};\n  // set sequelize options\n  const sequelize = new Sequelize(database, username, password, {\n    host          : 'localhost',\n    dialect       : 'mysql',\n    dialectOptions: {decimalNumbers: true}, // fix to ensure DECIMAL will not be stored as a string\n    logging       : false,\n    pool          : {\n      max    : 5,\n      min    : 0,\n      idle   : 10000,\n      acquire: 10000,\n    },\n  });\n\n  // establish mysql connection\n  sequelize\n    .authenticate()\n    .then(() => {\n      logger.info('Sequelize has established mysql connection successfully.');\n    })\n    .catch(err => {\n      logger.error('Sequelize was unable to connect to the database:', err);\n    });\n\n  // manually add each model to the db object\n  const Certificate = require('./certificate.js');\n  const Channel = require('./channel.js');\n  const Claim = require('./claim.js');\n  const File = require('./file.js');\n  const Request = require('./request.js');\n  const User = require('./user.js');\n  db['Certificate'] = sequelize.import('Certificate', Certificate);\n  db['Channel'] = sequelize.import('Channel', Channel);\n  db['Claim'] = sequelize.import('Claim', Claim);\n  db['File'] = sequelize.import('File', File);\n  db['Request'] = sequelize.import('Request', Request);\n  db['User'] = sequelize.import('User', User);\n\n  // run model.association for each model in the db object that has an association\n  Object.keys(db).forEach(modelName => {\n    if (db[modelName].associate) {\n      logger.info('Associating model:', modelName);\n      db[modelName].associate(db);\n    }\n  });\n\n  db.sequelize = sequelize;\n  db.Sequelize = Sequelize;\n\n  // add an 'upsert' method to the db object\n  db.upsert = (Model, values, condition, tableName) => {\n    return Model\n      .findOne({\n        where: condition,\n      })\n      .then(obj => {\n        if (obj) {  // update\n          logger.debug(`updating record in db.${tableName}`);\n          return obj.update(values);\n        } else {  // insert\n          logger.debug(`creating record in db.${tableName}`);\n          return Model.create(values);\n        }\n      })\n      .catch(function (error) {\n        logger.error(`${tableName}.upsert error`, error);\n        throw error;\n      });\n  };\n\n  return db;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/index.js","// request actions\nexport const HANDLE_SHOW_URI = 'HANDLE_SHOW_URI';\nexport const REQUEST_ERROR = 'REQUEST_ERROR';\nexport const REQUEST_UPDATE = 'REQUEST_UPDATE';\nexport const ASSET_REQUEST_NEW = 'ASSET_REQUEST_NEW';\nexport const CHANNEL_REQUEST_NEW = 'CHANNEL_REQUEST_NEW';\nexport const REQUEST_LIST_ADD = 'REQUEST_LIST_ADD';\n\n// asset actions\nexport const ASSET_ADD = `ASSET_ADD`;\n\n// channel actions\nexport const CHANNEL_ADD = 'CHANNEL_ADD';\n\nexport const CHANNEL_CLAIMS_UPDATE_ASYNC = 'CHANNEL_CLAIMS_UPDATE_ASYNC';\nexport const CHANNEL_CLAIMS_UPDATE_SUCCESS = 'CHANNEL_CLAIMS_UPDATE_SUCCESS';\n\n// asset/file display actions\nexport const FILE_REQUESTED = 'FILE_REQUESTED';\nexport const FILE_AVAILABILITY_UPDATE = 'FILE_AVAILABILITY_UPDATE';\nexport const DISPLAY_ASSET_ERROR = 'DISPLAY_ASSET_ERROR';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/show_action_types.js","export const selectAsset = (show) => {\n  const request = show.requestList[show.request.id];\n  const assetKey = request.key;\n  return show.assetList[assetKey];\n};\n\nexport const selectShowState = (state) => {\n  return state.show;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/selectors/show.js","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"redux-saga/effects\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-saga/effects\"\n// module id = 15\n// module chunks = 0","const axios = require('axios');\nconst logger = require('winston');\nconst { api: { apiHost, apiPort } } = require('../config/lbryConfig.js');\nconst lbryApiUri = 'http://' + apiHost + ':' + apiPort;\nconst { chooseGaLbrynetPublishLabel, sendGATimingEvent } = require('./googleAnalytics.js');\n\nconst handleLbrynetResponse = ({ data }, resolve, reject) => {\n  logger.debug('lbry api data:', data);\n  if (data.result) {\n    // check for an error\n    if (data.result.error) {\n      logger.debug('Lbrynet api error:', data.result.error);\n      reject(new Error(data.result.error));\n      return;\n    };\n    resolve(data.result);\n    return;\n  }\n  // fallback in case it just timed out\n  reject(JSON.stringify(data));\n};\n\nmodule.exports = {\n  publishClaim (publishParams) {\n    logger.debug(`lbryApi >> Publishing claim to \"${publishParams.name}\"`);\n    const gaStartTime = Date.now();\n    return new Promise((resolve, reject) => {\n      axios\n        .post(lbryApiUri, {\n          method: 'publish',\n          params: publishParams,\n        })\n        .then(response => {\n          sendGATimingEvent('lbrynet', 'publish', chooseGaLbrynetPublishLabel(publishParams), gaStartTime, Date.now());\n          handleLbrynetResponse(response, resolve, reject);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getClaim (uri) {\n    logger.debug(`lbryApi >> Getting Claim for \"${uri}\"`);\n    const gaStartTime = Date.now();\n    return new Promise((resolve, reject) => {\n      axios\n        .post(lbryApiUri, {\n          method: 'get',\n          params: { uri, timeout: 20 },\n        })\n        .then(response => {\n          sendGATimingEvent('lbrynet', 'getClaim', 'GET', gaStartTime, Date.now());\n          handleLbrynetResponse(response, resolve, reject);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getClaimList (claimName) {\n    logger.debug(`lbryApi >> Getting claim_list for \"${claimName}\"`);\n    const gaStartTime = Date.now();\n    return new Promise((resolve, reject) => {\n      axios\n        .post(lbryApiUri, {\n          method: 'claim_list',\n          params: { name: claimName },\n        })\n        .then(response => {\n          sendGATimingEvent('lbrynet', 'getClaimList', 'CLAIM_LIST', gaStartTime, Date.now());\n          handleLbrynetResponse(response, resolve, reject);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  resolveUri (uri) {\n    logger.debug(`lbryApi >> Resolving URI for \"${uri}\"`);\n    const gaStartTime = Date.now();\n    return new Promise((resolve, reject) => {\n      axios\n        .post(lbryApiUri, {\n          method: 'resolve',\n          params: { uri },\n        })\n        .then(({ data }) => {\n          sendGATimingEvent('lbrynet', 'resolveUri', 'RESOLVE', gaStartTime, Date.now());\n          if (data.result[uri].error) {  // check for errors\n            reject(data.result[uri].error);\n          } else {  // if no errors, resolve\n            resolve(data.result[uri]);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getDownloadDirectory () {\n    logger.debug('lbryApi >> Retrieving the download directory path from lbry daemon...');\n    const gaStartTime = Date.now();\n    return new Promise((resolve, reject) => {\n      axios\n        .post(lbryApiUri, {\n          method: 'settings_get',\n        })\n        .then(({ data }) => {\n          sendGATimingEvent('lbrynet', 'getDownloadDirectory', 'SETTINGS_GET', gaStartTime, Date.now());\n          if (data.result) {\n            resolve(data.result.download_directory);\n          } else {\n            return new Error('Successfully connected to lbry daemon, but unable to retrieve the download directory.');\n          }\n        })\n        .catch(error => {\n          logger.error('Lbrynet Error:', error);\n          resolve('/home/lbry/Downloads/');\n        });\n    });\n  },\n  createChannel (name) {\n    logger.debug(`lbryApi >> Creating channel for ${name}...`);\n    const gaStartTime = Date.now();\n    return new Promise((resolve, reject) => {\n      axios\n        .post(lbryApiUri, {\n          method: 'channel_new',\n          params: {\n            channel_name: name,\n            amount      : 0.1,\n          },\n        })\n        .then(response => {\n          sendGATimingEvent('lbrynet', 'createChannel', 'CHANNEL_NEW', gaStartTime, Date.now());\n          handleLbrynetResponse(response, resolve, reject);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/lbryApi.js","const logger = require('winston');\nconst ua = require('universal-analytics');\nconst { analytics : { googleId }, site: { name: siteName } } = require('../config/speechConfig.js');\n\nfunction createServeEventParams (headers, ip, originalUrl) {\n  return {\n    eventCategory    : 'client requests',\n    eventAction      : 'serve request',\n    eventLabel       : originalUrl,\n    ipOverride       : ip,\n    userAgentOverride: headers['user-agent'],\n  };\n};\n\nfunction createPublishTimingEventParams (category, variable, label, startTime, endTime) {\n  const duration = endTime - startTime;\n  return {\n    userTimingCategory    : category,\n    userTimingVariableName: variable,\n    userTimingTime        : duration,\n    userTimingLabel       : label,\n  };\n};\n\nfunction sendGoogleAnalyticsEvent (ip, params) {\n  const visitorId = ip.replace(/\\./g, '-');\n  const visitor = ua(googleId, visitorId, { strictCidFormat: false, https: true });\n  visitor.event(params, (err) => {\n    if (err) {\n      logger.error('Google Analytics Event Error >>', err);\n    }\n  });\n};\n\nfunction sendGoogleAnalyticsTiming (visitorId, params) {\n  const visitor = ua(googleId, visitorId, { strictCidFormat: false, https: true });\n  visitor.timing(params, (err) => {\n    if (err) {\n      logger.error('Google Analytics Event Error >>', err);\n    }\n    logger.debug(`Timing event successfully sent to google analytics`);\n  });\n};\n\nmodule.exports = {\n  sendGAServeEvent (headers, ip, originalUrl) {\n    const params = createServeEventParams(headers, ip, originalUrl);\n    sendGoogleAnalyticsEvent(ip, params);\n  },\n  sendGATimingEvent (category, variable, label, startTime, endTime) {\n    const params = createPublishTimingEventParams(category, variable, label, startTime, endTime);\n    sendGoogleAnalyticsTiming(siteName, params);\n  },\n  chooseGaLbrynetPublishLabel ({ channel_name: channelName, channel_id: channelId }) {\n    return (channelName || channelId ? 'PUBLISH_IN_CHANNEL_CLAIM' : 'PUBLISH_ANONYMOUS_CLAIM');\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/googleAnalytics.js","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 18\n// module chunks = 0","import * as actions from 'constants/channel_action_types';\n\n// export action creators\n\nexport function updateLoggedInChannel (name, shortId, longId) {\n  return {\n    type: actions.CHANNEL_UPDATE,\n    data: {\n      name,\n      shortId,\n      longId,\n    },\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/actions/channel.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ActiveStatusBar from 'components/ActiveStatusBar';\nimport InactiveStatusBar from 'components/InactiveStatusBar';\n\nclass ProgressBar extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      bars       : [],\n      index      : 0,\n      incrementer: 1,\n    };\n    this.createBars = this.createBars.bind(this);\n    this.startProgressBar = this.startProgressBar.bind(this);\n    this.updateProgressBar = this.updateProgressBar.bind(this);\n    this.stopProgressBar = this.stopProgressBar.bind(this);\n  }\n  componentDidMount () {\n    this.createBars();\n    this.startProgressBar();\n  }\n  componentWillUnmount () {\n    this.stopProgressBar();\n  }\n  createBars () {\n    const bars = [];\n    for (let i = 0; i <= this.props.size; i++) {\n      bars.push({isActive: false});\n    }\n    this.setState({ bars });\n  }\n  startProgressBar () {\n    this.updateInterval = setInterval(this.updateProgressBar.bind(this), 300);\n  };\n  updateProgressBar () {\n    let index = this.state.index;\n    let incrementer = this.state.incrementer;\n    let bars = this.state.bars;\n    // flip incrementer if necessary, to stay in bounds\n    if ((index < 0) || (index > this.props.size)) {\n      incrementer = incrementer * -1;\n      index += incrementer;\n    }\n    // update the indexed bar\n    if (incrementer > 0) {\n      bars[index].isActive = true;\n    } else {\n      bars[index].isActive = false;\n    };\n    // increment index\n    index += incrementer;\n    // update state\n    this.setState({\n      bars,\n      incrementer,\n      index,\n    });\n  };\n  stopProgressBar () {\n    clearInterval(this.updateInterval);\n  };\n  render () {\n    return (\n      <div>\n        {this.state.bars.map((bar, index) => bar.isActive ? <ActiveStatusBar key={index} /> : <InactiveStatusBar key={index}/>)}\n      </div>\n    );\n  }\n};\n\nProgressBar.propTypes = {\n  size: PropTypes.number.isRequired,\n};\n\nexport default ProgressBar;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/ProgressBar/index.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavBar from 'containers/NavBar';\n\nclass ErrorPage extends React.Component {\n  render () {\n    const { error } = this.props;\n    return (\n      <div>\n        <NavBar />\n        <div className='row row--padded'>\n          <p>{error}</p>\n        </div>\n      </div>\n    );\n  }\n};\n\nErrorPage.propTypes = {\n  error: PropTypes.string.isRequired,\n};\n\nexport default ErrorPage;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/ErrorPage/index.jsx","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 22\n// module chunks = 0","function MysqlConfig () {\r\n  this.database = 'default';\r\n  this.username = 'default';\r\n  this.password = 'default';\r\n  this.configure = ({database, username, password}) => {\r\n    if (database) this.database = database;\r\n    if (username) this.username = username;\r\n    if (password) this.password = password;\r\n  };\r\n};\r\n\r\nmodule.exports = new MysqlConfig();\r\n\n\n\n// WEBPACK FOOTER //\n// ./config/mysqlConfig.js","function SlackConfig () {\n  this.slackWebHook      = 'default';\n  this.slackErrorChannel = 'default';\n  this.slackInfoChannel  = 'default';\n  this.configure = ({slackWebHook, slackErrorChannel, slackInfoChannel}) => {\n    if (slackWebHook) this.slackWebHook = slackWebHook;\n    if (slackErrorChannel) this.slackErrorChannel = slackErrorChannel;\n    if (slackInfoChannel) this.slackInfoChannel = slackInfoChannel;\n  };\n};\n\nmodule.exports = new SlackConfig();\n\n\n\n// WEBPACK FOOTER //\n// ./config/slackConfig.js","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 25\n// module chunks = 0","module.exports = {\n  returnShortId: function (claimsArray, longId) {\n    let claimIndex;\n    let shortId = longId.substring(0, 1); // default short id is the first letter\n    let shortIdLength = 0;\n    // find the index of this claim id\n    claimIndex = claimsArray.findIndex(element => {\n      return element.claimId === longId;\n    });\n    if (claimIndex < 0) {\n      throw new Error('claim id not found in claims list');\n    }\n    // get an array of all claims with lower height\n    let possibleMatches = claimsArray.slice(0, claimIndex);\n    // remove certificates with the same prefixes until none are left.\n    while (possibleMatches.length > 0) {\n      shortIdLength += 1;\n      shortId = longId.substring(0, shortIdLength);\n      possibleMatches = possibleMatches.filter(element => {\n        return (element.claimId && (element.claimId.substring(0, shortIdLength) === shortId));\n      });\n    }\n    return shortId;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/sequelizeHelpers.js","const logger = require('winston');\nconst fs = require('fs');\nconst { site, wallet, publish } = require('../config/speechConfig.js');\n\nmodule.exports = {\n  parsePublishApiRequestBody ({name, nsfw, license, title, description, thumbnail}) {\n    // validate name\n    if (!name) {\n      throw new Error('no name field found in request');\n    }\n    const invalidNameCharacters = /[^A-Za-z0-9,-]/.exec(name);\n    if (invalidNameCharacters) {\n      throw new Error('The claim name you provided is not allowed.  Only the following characters are allowed: A-Z, a-z, 0-9, and \"-\"');\n    }\n    // optional parameters\n    nsfw = (nsfw === 'true');\n    license = license || null;\n    title = title || null;\n    description = description || null;\n    thumbnail = thumbnail || null;\n    // return results\n    return {\n      name,\n      nsfw,\n      license,\n      title,\n      description,\n      thumbnail,\n    };\n  },\n  parsePublishApiRequestFiles ({file, thumbnail}) {\n    // make sure a file was provided\n    if (!file) {\n      throw new Error('no file with key of [file] found in request');\n    }\n    if (!file.path) {\n      throw new Error('no file path found');\n    }\n    if (!file.type) {\n      throw new Error('no file type found');\n    }\n    if (!file.size) {\n      throw new Error('no file type found');\n    }\n    // validate the file name\n    if (/'/.test(file.name)) {\n      throw new Error('apostrophes are not allowed in the file name');\n    }\n    // validate the file\n    module.exports.validateFileTypeAndSize(file);\n    // return results\n    return {\n      fileName         : file.name,\n      filePath         : file.path,\n      fileType         : file.type,\n      thumbnailFileName: (thumbnail ? thumbnail.name : null),\n      thumbnailFilePath: (thumbnail ? thumbnail.path : null),\n      thumbnailFileType: (thumbnail ? thumbnail.type : null),\n    };\n  },\n  validateFileTypeAndSize (file) {\n    // check file type and size\n    switch (file.type) {\n      case 'image/jpeg':\n      case 'image/jpg':\n      case 'image/png':\n        if (file.size > 10000000) {\n          logger.debug('publish > file validation > .jpeg/.jpg/.png was too big');\n          throw new Error('Sorry, images are limited to 10 megabytes.');\n        }\n        break;\n      case 'image/gif':\n        if (file.size > 50000000) {\n          logger.debug('publish > file validation > .gif was too big');\n          throw new Error('Sorry, .gifs are limited to 50 megabytes.');\n        }\n        break;\n      case 'video/mp4':\n        if (file.size > 50000000) {\n          logger.debug('publish > file validation > .mp4 was too big');\n          throw new Error('Sorry, videos are limited to 50 megabytes.');\n        }\n        break;\n      default:\n        logger.debug('publish > file validation > unrecognized file type');\n        throw new Error('The ' + file.type + ' content type is not supported.  Only, .jpeg, .png, .gif, and .mp4 files are currently supported.');\n    }\n    return file;\n  },\n  createBasicPublishParams (filePath, name, title, description, license, nsfw, thumbnail) {\n    logger.debug(`Creating Publish Parameters`);\n    // provide defaults for title\n    if (title === null || title.trim() === '') {\n      title = name;\n    }\n    // provide default for description\n    if (description === null || description.trim() === '') {\n      description = '';\n    }\n    // provide default for license\n    if (license === null || license.trim() === '') {\n      license = ' ';  // default to empty string\n    }\n    // create the publish params\n    const publishParams = {\n      name,\n      file_path: filePath,\n      bid      : 0.01,\n      metadata : {\n        description,\n        title,\n        author  : site.title,\n        language: 'en',\n        license,\n        nsfw,\n      },\n      claim_address: wallet.lbryClaimAddress,\n    };\n    // add thumbnail to channel if video\n    if (thumbnail) {\n      publishParams['metadata']['thumbnail'] = thumbnail;\n    }\n    return publishParams;\n  },\n  createThumbnailPublishParams (thumbnailFilePath, claimName, license, nsfw) {\n    if (!thumbnailFilePath) {\n      return;\n    }\n    logger.debug(`Creating Thumbnail Publish Parameters`);\n    // create the publish params\n    return {\n      name     : `${claimName}-thumb`,\n      file_path: thumbnailFilePath,\n      bid      : 0.01,\n      metadata : {\n        title      : `${claimName} thumbnail`,\n        description: `a thumbnail for ${claimName}`,\n        author     : site.title,\n        language   : 'en',\n        license,\n        nsfw,\n      },\n      claim_address: wallet.lbryClaimAddress,\n      channel_name : publish.thumbnailChannel,\n      channel_id   : publish.thumbnailChannelId,\n    };\n  },\n  deleteTemporaryFile (filePath) {\n    fs.unlink(filePath, err => {\n      if (err) {\n        logger.error(`error deleting temporary file ${filePath}`);\n        throw err;\n      }\n      logger.debug(`successfully deleted ${filePath}`);\n    });\n  },\n  addGetResultsToFileData (fileInfo, getResult) {\n    fileInfo.fileName = getResult.file_name;\n    fileInfo.filePath = getResult.download_path;\n    return fileInfo;\n  },\n  createFileData ({ name, claimId, outpoint, height, address, nsfw, contentType }) {\n    return {\n      name,\n      claimId,\n      outpoint,\n      height,\n      address,\n      fileName: '',\n      filePath: '',\n      fileType: contentType,\n      nsfw,\n    };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/publishHelpers.js","const logger = require('winston');\n\nmodule.exports = {\n  handleErrorResponse: function (originalUrl, ip, error, res) {\n    logger.error(`Error on ${originalUrl}`, module.exports.useObjectPropertiesIfNoKeys(error));\n    const [status, message] = module.exports.returnErrorMessageAndStatus(error);\n    res\n      .status(status)\n      .json(module.exports.createErrorResponsePayload(status, message));\n  },\n  returnErrorMessageAndStatus: function (error) {\n    let status, message;\n    // check for daemon being turned off\n    if (error.code === 'ECONNREFUSED') {\n      status = 503;\n      message = 'Connection refused.  The daemon may not be running.';\n      // fallback for everything else\n    } else {\n      status = 400;\n      if (error.message) {\n        message = error.message;\n      } else {\n        message = error;\n      };\n    };\n    return [status, message];\n  },\n  useObjectPropertiesIfNoKeys: function (err) {\n    if (Object.keys(err).length === 0) {\n      let newErrorObject = {};\n      Object.getOwnPropertyNames(err).forEach((key) => {\n        newErrorObject[key] = err[key];\n      });\n      return newErrorObject;\n    }\n    return err;\n  },\n  createErrorResponsePayload (status, message) {\n    return {\n      status,\n      success: false,\n      message,\n    };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/errorHandlers.js","const db = require('../models');\nconst logger = require('winston');\nconst { returnPaginatedChannelClaims } = require('../helpers/channelPagination.js');\n\nconst NO_CHANNEL = 'NO_CHANNEL';\nconst NO_CLAIM = 'NO_CLAIM';\nconst NO_FILE = 'NO_FILE';\n\nmodule.exports = {\n  getClaimId (channelName, channelClaimId, name, claimId) {\n    if (channelName) {\n      return module.exports.getClaimIdByChannel(channelName, channelClaimId, name);\n    } else {\n      return module.exports.getClaimIdByClaim(name, claimId);\n    }\n  },\n  getClaimIdByClaim (claimName, claimId) {\n    logger.debug(`getClaimIdByClaim(${claimName}, ${claimId})`);\n    return new Promise((resolve, reject) => {\n      db.Claim.getLongClaimId(claimName, claimId)\n        .then(longClaimId => {\n          if (!longClaimId) {\n            resolve(NO_CLAIM);\n          }\n          resolve(longClaimId);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getClaimIdByChannel (channelName, channelClaimId, claimName) {\n    logger.debug(`getClaimIdByChannel(${channelName}, ${channelClaimId}, ${claimName})`);\n    return new Promise((resolve, reject) => {\n      db.Certificate.getLongChannelId(channelName, channelClaimId) // 1. get the long channel id\n        .then(longChannelId => {\n          if (!longChannelId) {\n            return [null, null];\n          }\n          return Promise.all([longChannelId, db.Claim.getClaimIdByLongChannelId(longChannelId, claimName)]);  // 2. get the long claim id\n        })\n        .then(([longChannelId, longClaimId]) => {\n          if (!longChannelId) {\n            return resolve(NO_CHANNEL);\n          }\n          if (!longClaimId) {\n            return resolve(NO_CLAIM);\n          }\n          resolve(longClaimId);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getChannelData (channelName, channelClaimId, page) {\n    return new Promise((resolve, reject) => {\n      // 1. get the long channel Id (make sure channel exists)\n      db.Certificate.getLongChannelId(channelName, channelClaimId)\n        .then(longChannelClaimId => {\n          if (!longChannelClaimId) {\n            return [null, null, null];\n          }\n          // 2. get the short ID and all claims for that channel\n          return Promise.all([longChannelClaimId, db.Certificate.getShortChannelIdFromLongChannelId(longChannelClaimId, channelName)]);\n        })\n        .then(([longChannelClaimId, shortChannelClaimId]) => {\n          if (!longChannelClaimId) {\n            return resolve(NO_CHANNEL);\n          }\n          // 3. return all the channel information\n          resolve({\n            channelName,\n            longChannelClaimId,\n            shortChannelClaimId,\n          });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getChannelClaims (channelName, channelClaimId, page) {\n    return new Promise((resolve, reject) => {\n      // 1. get the long channel Id (make sure channel exists)\n      db.Certificate.getLongChannelId(channelName, channelClaimId)\n        .then(longChannelClaimId => {\n          if (!longChannelClaimId) {\n            return [null, null, null];\n          }\n          // 2. get the short ID and all claims for that channel\n          return Promise.all([longChannelClaimId, db.Claim.getAllChannelClaims(longChannelClaimId)]);\n        })\n        .then(([longChannelClaimId, channelClaimsArray]) => {\n          if (!longChannelClaimId) {\n            return resolve(NO_CHANNEL);\n          }\n          // 3. format the data for the view, including pagination\n          let paginatedChannelViewData = returnPaginatedChannelClaims(channelName, longChannelClaimId, channelClaimsArray, page);\n          // 4. return all the channel information and contents\n          resolve(paginatedChannelViewData);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n  getLocalFileRecord (claimId, name) {\n    return db.File.findOne({where: {claimId, name}})\n      .then(file => {\n        if (!file) {\n          return NO_FILE;\n        }\n        return file.dataValues;\n      });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/serveController.js","import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { createStore } from 'redux';\nimport Reducer from '../react/reducers';\nimport { Provider } from 'react-redux';\nimport { StaticRouter } from 'react-router-dom';\nimport GAListener from '../react/components/GAListener';\nimport App from '../react/app';\nimport renderFullPage from './renderFullPage.js';\nimport Helmet from 'react-helmet';\n\nmodule.exports = (req, res) => {\n  let context = {};\n\n  // create a new Redux store instance\n  const store = createStore(Reducer);\n\n  // render component to a string\n  const html = renderToString(\n    <Provider store={store}>\n      <StaticRouter location={req.url} context={context}>\n        <GAListener>\n          <App />\n        </GAListener>\n      </StaticRouter>\n    </Provider>\n  );\n\n  // get head tags from helmet\n  const helmet = Helmet.renderStatic();\n\n  // check for a redirect\n  if (context.url) {\n    // Somewhere a `<Redirect>` was rendered\n    return res.redirect(301, context.url);\n  } else {\n    // we're good, send the response\n  }\n\n  // get the initial state from our Redux store\n  const preloadedState = store.getState();\n\n  // send the rendered page back to the client\n  res.send(renderFullPage(helmet, html, preloadedState));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/handlePageRender.jsx","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 31\n// module chunks = 0","import { combineReducers } from 'redux';\nimport PublishReducer from 'reducers/publish';\nimport ChannelReducer from 'reducers/channel';\nimport ShowReducer from 'reducers/show';\nimport SiteReducer from 'reducers/site';\n\nexport default combineReducers({\n  channel: ChannelReducer,\n  publish: PublishReducer,\n  show   : ShowReducer,\n  site   : SiteReducer,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./react/reducers/index.js","export const FILE_SELECTED = 'FILE_SELECTED';\nexport const FILE_CLEAR = 'FILE_CLEAR';\nexport const METADATA_UPDATE = 'METADATA_UPDATE';\nexport const CLAIM_UPDATE = 'CLAIM_UPDATE';\nexport const SET_PUBLISH_IN_CHANNEL = 'SET_PUBLISH_IN_CHANNEL';\nexport const PUBLISH_STATUS_UPDATE = 'PUBLISH_STATUS_UPDATE';\nexport const ERROR_UPDATE = 'ERROR_UPDATE';\nexport const SELECTED_CHANNEL_UPDATE = 'SELECTED_CHANNEL_UPDATE';\nexport const TOGGLE_METADATA_INPUTS = 'TOGGLE_METADATA_INPUTS';\nexport const THUMBNAIL_NEW = 'THUMBNAIL_NEW';\nexport const PUBLISH_START = 'PUBLISH_START';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/publish_action_types.js","export const LOGIN = 'Existing';\nexport const CREATE = 'New';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/publish_channel_select_states.js","export const CHANNEL_UPDATE = 'CHANNEL_UPDATE';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/channel_action_types.js","export const LOCAL_CHECK = 'LOCAL_CHECK';\nexport const UNAVAILABLE = 'UNAVAILABLE';\nexport const ERROR = 'ERROR';\nexport const AVAILABLE = 'AVAILABLE';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/asset_display_states.js","import React from 'react';\nimport GoogleAnalytics from 'react-ga';\nimport { withRouter } from 'react-router-dom';\nconst config = require('../../../config/speechConfig.js');\nconst googleApiKey = config.analytics.googleId;\n\nGoogleAnalytics.initialize(googleApiKey);\n\nclass GAListener extends React.Component {\n  componentDidMount () {\n    this.sendPageView(this.props.history.location);\n    this.props.history.listen(this.sendPageView);\n  }\n\n  sendPageView (location) {\n    GoogleAnalytics.set({ page: location.pathname });\n    GoogleAnalytics.pageview(location.pathname);\n  }\n\n  render () {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(GAListener);\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/GAListener/index.jsx","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport HomePage from 'components/HomePage';\nimport AboutPage from 'components/AboutPage';\nimport LoginPage from 'containers/LoginPage';\nimport ShowPage from 'containers/ShowPage';\nimport FourOhFourPage from 'components/FourOhFourPage';\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route exact path='/' component={HomePage} />\n      <Route exact path='/about' component={AboutPage} />\n      <Route exact path='/login' component={LoginPage} />\n      <Route exact path='/:identifier/:claim' component={ShowPage} />\n      <Route exact path='/:claim' component={ShowPage} />\n      <Route component={FourOhFourPage} />\n    </Switch>\n  );\n};\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./react/app.js","import { connect } from 'react-redux';\nimport { selectFile, updateError, clearFile } from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ publish }) => {\n  return {\n    file     : publish.file,\n    thumbnail: publish.thumbnail,\n    fileError: publish.error.file,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectFile: (file) => {\n      dispatch(selectFile(file));\n    },\n    setFileError: (value) => {\n      dispatch(clearFile());\n      dispatch(updateError('file', value));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/Dropzone/index.js","import { connect } from 'react-redux';\nimport { updateLoggedInChannel } from 'actions/channel';\nimport View from './view';\nimport {updateSelectedChannel} from '../../actions/publish';\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChannelLogin: (name, shortId, longId) => {\n      dispatch(updateLoggedInChannel(name, shortId, longId));\n      dispatch(updateSelectedChannel(name));\n    },\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelLoginForm/index.js","import { connect } from 'react-redux';\nimport { updateLoggedInChannel } from 'actions/channel';\nimport View from './view';\nimport {updateSelectedChannel} from 'actions/publish';\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChannelLogin: (name, shortId, longId) => {\n      dispatch(updateLoggedInChannel(name, shortId, longId));\n      dispatch(updateSelectedChannel(name));\n    },\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelCreateForm/index.js","export const CHANNEL = 'CHANNEL';\nexport const ASSET_LITE = 'ASSET_LITE';\nexport const ASSET_DETAILS = 'ASSET_DETAILS';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/show_request_types.js","import { connect } from 'react-redux';\nimport View from './view';\nimport { fileRequested } from 'actions/show';\nimport { selectAsset } from 'selectors/show';\n\nconst mapStateToProps = ({ show }) => {\n  // select error and status\n  const error  = show.displayAsset.error;\n  const status = show.displayAsset.status;\n  // select asset\n  const asset = selectAsset(show);\n  //  return props\n  return {\n    error,\n    status,\n    asset,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFileRequest: (name, claimId) => {\n      dispatch(fileRequested(name, claimId));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/AssetDisplay/index.js","module.exports = (helmet, html, preloadedState) => {\n  // take the html and preloadedState and return the full page\n  return `\n    <!DOCTYPE html>\n    <html lang=\"en\" prefix=\"og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no\">\n            <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n            <!--helmet-->\n            ${helmet.title.toString()}\n            ${helmet.meta.toString()}\n            ${helmet.link.toString()}\n            <!--style sheets-->\n            <link rel=\"stylesheet\" href=\"/assets/css/reset.css\" type=\"text/css\">\n            <link rel=\"stylesheet\" href=\"/assets/css/general.css\" type=\"text/css\">\n            <link rel=\"stylesheet\" href=\"/assets/css/mediaQueries.css\" type=\"text/css\">\n            <!--google font-->\n            <link href=\"https://fonts.googleapis.com/css?family=Roboto:300\" rel=\"stylesheet\">\n        </head>\n        <body id=\"main-body\">\n            <div class=\"row row--tall flex-container--column\">\n                <div id=\"react-app\" class=\"row row--tall flex-container--column\">${html}</div>\n            </div>\n            <script>\n                window.__PRELOADED_STATE__ = ${JSON.stringify(preloadedState).replace(/</g, '\\\\\\u003c')}\n            </script>\n            <script src=\"/bundle/bundle.js\"></script>\n        </body>\n    </html>\n  `;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/renderFullPage.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"whatwg-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"whatwg-fetch\"\n// module id = 47\n// module chunks = 0","// app dependencies\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst expressHandlebars = require('express-handlebars');\nconst Handlebars = require('handlebars');\nconst helmet = require('helmet');\nconst passport = require('passport');\nconst { populateLocalsDotUser, serializeSpeechUser, deserializeSpeechUser } = require('./helpers/authHelpers.js');\nconst cookieSession = require('cookie-session');\nconst http = require('http');\n// logging dependencies\nconst logger = require('winston');\n\nfunction SpeechServer ({ mysqlConfig, siteConfig, slackConfig }) {\n  this.PORT = 3000;\n  this.speak = (something) => {\n    console.log(something);\n  };\n  this.start = () => {\n    this.configureConfigFiles();\n    this.configureLogging();\n    this.configureApp();\n    this.configureServer();\n    this.startServer();\n  };\n  this.configureConfigFiles = () => {\n    const mysqlAppConfig = require('./config/mysqlConfig.js');\n    mysqlAppConfig.configure(mysqlConfig);\n    const slackAppConfig = require('./config/slackConfig.js');\n    slackAppConfig.configure(slackConfig);\n    // print the config variables\n    require('./helpers/configVarCheck.js')({\n      mysqlAppConfig,\n      slackAppConfig,\n    });\n  };\n  this.configureLogging = () => {\n    require('./helpers/configureLogger.js')(logger);\n    require('./helpers/configureSlack.js')(logger);\n  };\n  this.configureApp = () => {\n    const app = express(); // create an Express application\n\n    // trust the proxy to get ip address for us\n    app.enable('trust proxy');\n\n    // add middleware\n    app.use(helmet()); // set HTTP headers to protect against well-known web vulnerabilties\n    app.use(express.static(`${__dirname}/public`)); // 'express.static' to serve static files from public directory\n    app.use(bodyParser.json()); // 'body parser' for parsing application/json\n    app.use(bodyParser.urlencoded({ extended: true })); // 'body parser' for parsing application/x-www-form-urlencoded\n    app.use((req, res, next) => {  // custom logging middleware to log all incoming http requests\n      logger.verbose(`Request on ${req.originalUrl} from ${req.ip}`);\n      next();\n    });\n\n    // configure passport\n    passport.serializeUser(serializeSpeechUser);\n    passport.deserializeUser(deserializeSpeechUser);\n    const localSignupStrategy = require('./passport/local-signup.js');\n    const localLoginStrategy = require('./passport/local-login.js');\n    passport.use('local-signup', localSignupStrategy);\n    passport.use('local-login', localLoginStrategy);\n    // initialize passport\n    app.use(cookieSession({\n      name  : 'session',\n      keys  : [siteConfig.session.sessionKey],\n      maxAge: 24 * 60 * 60 * 1000, // i.e. 24 hours\n    }));\n    app.use(passport.initialize());\n    app.use(passport.session());\n\n    // configure handlebars & register it with express app\n    const hbs = expressHandlebars.create({\n      defaultLayout: 'embed',\n      handlebars   : Handlebars,\n    });\n    app.engine('handlebars', hbs.engine);\n    app.set('view engine', 'handlebars');\n\n    // middleware to pass user info back to client (for handlebars access), if user is logged in\n    app.use(populateLocalsDotUser);  // note: I don't think I need this any more?\n\n    // set the routes on the app\n    require('./routes/auth-routes.js')(app);\n    require('./routes/api-routes.js')(app);\n    require('./routes/page-routes.js')(app);\n    require('./routes/serve-routes.js')(app);\n    require('./routes/fallback-routes.js')(app);\n\n    this.app = app;\n  };\n  this.configureServer = () => {\n    this.server = http.Server(this.app);\n  };\n  this.startServer = () => {\n    const db = require('./models');\n    // sync sequelize\n    db.sequelize.sync()\n      // start the server\n      .then(() => {\n        this.server.listen(this.PORT, () => {\n          logger.info(`Server is listening on PORT ${this.PORT}`);\n        });\n      })\n      .catch((error) => {\n        logger.error(`Startup Error:`, error);\n      });\n  };\n};\n\nmodule.exports = SpeechServer;\n\n\n\n// WEBPACK FOOTER //\n// ./server.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"express-handlebars\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-handlebars\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"handlebars\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"handlebars\"\n// module id = 52\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 53\n// module chunks = 0","const logger = require('winston');\n\nmodule.exports = {\n  populateLocalsDotUser (req, res, next) {\n    if (req.user) {\n      logger.debug('populating res.locals.user');\n      res.locals.user = {\n        id            : req.user.id,\n        userName      : req.user.userName,\n        channelName   : req.user.channelName,\n        channelClaimId: req.user.channelClaimId,\n        shortChannelId: req.user.shortChannelId,\n      };\n    }\n    next();\n  },\n  serializeSpeechUser (user, done) {  // returns user data to be serialized into session\n    logger.debug('serializing user');\n    done(null, user);\n  },\n  deserializeSpeechUser (user, done) {  // deserializes session and populates additional info to req.user\n    logger.debug('deserializing user');\n    done(null, user);\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/authHelpers.js","module.exports = require(\"cookie-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-session\"\n// module id = 55\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 56\n// module chunks = 0","const logger = require('winston');\n\nmodule.exports = (config) => {\n  // get the config file\n  for (let configCategoryKey in config) {\n    if (config.hasOwnProperty(configCategoryKey)) {\n      // get the final variables for each config category\n      const configVariables = config[configCategoryKey];\n      for (let configVarKey in configVariables) {\n        if (configVariables.hasOwnProperty(configVarKey)) {\n          // print each variable\n          logger.debug(`CONFIG CHECK: ${configCategoryKey}.${configVarKey} === ${configVariables[configVarKey]}`);\n        }\n      }\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/configVarCheck.js","const { logLevel } = require('../config/loggerConfig');\n\nmodule.exports = (winston) => {\n  // configure\n  winston.configure({\n    transports: [\n      new (winston.transports.Console)({\n        level                          : logLevel,\n        timestamp                      : false,\n        colorize                       : true,\n        prettyPrint                    : true,\n        handleExceptions               : true,\n        humanReadableUnhandledException: true,\n      }),\n    ],\n  });\n  // test all the log levels\n  winston.error('Level 0');\n  winston.warn('Level 1');\n  winston.info('Level 2');\n  winston.verbose('Level 3');\n  winston.debug('Level 4');\n  winston.silly('Level 5');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/configureLogger.js","const loggerConfig = {\n  logLevel: 'debug',  // options: silly, debug, verbose, info\n};\n\nmodule.exports = loggerConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./config/loggerConfig.js","const winstonSlackWebHook = require('winston-slack-webhook').SlackWebHook;\nconst slackConfig = require('../config/slackConfig.js');\n\nmodule.exports = (winston) => {\n  const {slackWebHook, slackErrorChannel, slackInfoChannel} = slackConfig;\n  if (slackWebHook) {\n    // add a transport for errors to slack\n    if (slackErrorChannel) {\n      winston.add(winstonSlackWebHook, {\n        name      : 'slack-errors-transport',\n        level     : 'warn',\n        webhookUrl: slackWebHook,\n        channel   : slackErrorChannel,\n        username  : 'spee.ch',\n        iconEmoji : ':face_with_head_bandage:',\n      });\n    };\n    if (slackInfoChannel) {\n      winston.add(winstonSlackWebHook, {\n        name      : 'slack-info-transport',\n        level     : 'info',\n        webhookUrl: slackWebHook,\n        channel   : slackInfoChannel,\n        username  : 'spee.ch',\n        iconEmoji : ':nerd_face:',\n      });\n    };\n    // send test message\n    winston.error('Slack \"error\" logging is online.');\n    winston.info('Slack \"info\" logging is online.');\n  } else {\n    winston.warn('Slack logging is not enabled because no slackWebHook config var provided.');\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/configureSlack.js","module.exports = require(\"winston-slack-webhook\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston-slack-webhook\"\n// module id = 61\n// module chunks = 0","const PassportLocalStrategy = require('passport-local').Strategy;\nconst lbryApi = require('../helpers/lbryApi.js');\nconst logger = require('winston');\n\nmodule.exports = (db) => {\n  return new PassportLocalStrategy(\n    {\n      usernameField: 'username',\n      passwordField: 'password',\n    },\n    (username, password, done) => {\n      logger.verbose(`new channel signup request. user: ${username} pass: ${password} .`);\n      let userInfo = {};\n      // server-side validaton of inputs (username, password)\n\n      // create the channel and retrieve the metadata\n      return lbryApi.createChannel(`@${username}`)\n        .then(tx => {\n          // create user record\n          const userData = {\n            userName: username,\n            password: password,\n          };\n          logger.verbose('userData >', userData);\n          // create user record\n          const channelData = {\n            channelName   : `@${username}`,\n            channelClaimId: tx.claim_id,\n          };\n          logger.verbose('channelData >', channelData);\n          // create certificate record\n          const certificateData = {\n            claimId: tx.claim_id,\n            name   : `@${username}`,\n            // address,\n          };\n          logger.verbose('certificateData >', certificateData);\n          // save user and certificate to db\n          return Promise.all([db.User.create(userData), db.Channel.create(channelData), db.Certificate.create(certificateData)]);\n        })\n        .then(([newUser, newChannel, newCertificate]) => {\n          logger.verbose('user and certificate successfully created');\n          // store the relevant newUser info to be passed back for req.User\n          userInfo['id'] = newUser.id;\n          userInfo['userName'] = newUser.userName;\n          userInfo['channelName'] = newChannel.channelName;\n          userInfo['channelClaimId'] = newChannel.channelClaimId;\n          // associate the instances\n          return Promise.all([newCertificate.setChannel(newChannel), newChannel.setUser(newUser)]);\n        })\n        .then(() => {\n          logger.verbose('user and certificate successfully associated');\n          return db.Certificate.getShortChannelIdFromLongChannelId(userInfo.channelClaimId, userInfo.channelName);\n        })\n        .then(shortChannelId => {\n          userInfo['shortChannelId'] = shortChannelId;\n          return done(null, userInfo);\n        })\n        .catch(error => {\n          logger.error('signup error', error);\n          return done(error);\n        });\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./passport/local-signup.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 63\n// module chunks = 0","const lbryConfig = {\n  api: {\n    apiHost: 'localhost',\n    apiPort: '5279',\n  },\n};\n\nmodule.exports = lbryConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./config/lbryConfig.js","module.exports = require(\"universal-analytics\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"universal-analytics\"\n// module id = 65\n// module chunks = 0","const PassportLocalStrategy = require('passport-local').Strategy;\nconst logger = require('winston');\n\nmodule.exports = (db) => {\n  const returnUserAndChannelInfo = (userInstance) => {\n    return new Promise((resolve, reject) => {\n      let userInfo = {};\n      userInfo['id'] = userInstance.id;\n      userInfo['userName'] = userInstance.userName;\n      userInstance\n        .getChannel()\n        .then(({channelName, channelClaimId}) => {\n          userInfo['channelName'] = channelName;\n          userInfo['channelClaimId'] = channelClaimId;\n          return db.Certificate.getShortChannelIdFromLongChannelId(channelClaimId, channelName);\n        })\n        .then(shortChannelId => {\n          userInfo['shortChannelId'] = shortChannelId;\n          resolve(userInfo);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  return new PassportLocalStrategy(\n    {\n      usernameField: 'username',\n      passwordField: 'password',\n    },\n    (username, password, done) => {\n      return db.User\n        .findOne({\n          where: {userName: username},\n        })\n        .then(user => {\n          if (!user) {\n            logger.debug('no user found');\n            return done(null, false, {message: 'Incorrect username or password'});\n          }\n          return user.comparePassword(password)\n            .then(isMatch => {\n              if (!isMatch) {\n                logger.debug('incorrect password');\n                return done(null, false, {message: 'Incorrect username or password'});\n              }\n              logger.debug('Password was a match, returning User');\n              return returnUserAndChannelInfo(user)\n                .then(userInfo => {\n                  return done(null, userInfo);\n                })\n                .catch(error => {\n                  return error;\n                });\n            })\n            .catch(error => {\n              return error;\n            });\n        })\n        .catch(error => {\n          return done(error);\n        });\n    },\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./passport/local-login.js","const logger = require('winston');\nconst passport = require('passport');\n\nmodule.exports = (app) => {\n  // route for sign up\n  app.post('/signup', passport.authenticate('local-signup'), (req, res) => {\n    logger.verbose(`successful signup for ${req.user.channelName}`);\n    res.status(200).json({\n      success       : true,\n      channelName   : req.user.channelName,\n      channelClaimId: req.user.channelClaimId,\n      shortChannelId: req.user.shortChannelId,\n    });\n  });\n  // route for log in\n  app.post('/login', (req, res, next) => {\n    passport.authenticate('local-login', (err, user, info) => {\n      logger.debug('info:', info);\n      if (err) {\n        return next(err);\n      }\n      if (!user) {\n        return res.status(400).json({\n          success: false,\n          message: info.message,\n        });\n      }\n      logger.debug('successful login');\n      req.logIn(user, (err) => {\n        if (err) {\n          return next(err);\n        }\n        return res.status(200).json({\n          success       : true,\n          channelName   : req.user.channelName,\n          channelClaimId: req.user.channelClaimId,\n          shortChannelId: req.user.shortChannelId,\n        });\n      });\n    })(req, res, next);\n  });\n  // route to log out\n  app.get('/logout', (req, res) => {\n    req.logout();\n    res.status(200).json({success: true, message: 'you successfully logged out'});\n  });\n  // see if user is authenticated, and return credentials if so\n  app.get('/user', (req, res) => {\n    if (req.user) {\n      res.status(200).json({success: true, data: req.user});\n    } else {\n      res.status(401).json({success: false, message: 'user is not logged in'});\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./routes/auth-routes.js","const logger = require('winston');\nconst multipart = require('connect-multiparty');\nconst { files, site } = require('../config/speechConfig.js');\nconst multipartMiddleware = multipart({uploadDir: files.uploadDirectory});\nconst db = require('../models');\nconst { claimNameIsAvailable, checkChannelAvailability, publish } = require('../controllers/publishController.js');\nconst { getClaimList, resolveUri, getClaim } = require('../helpers/lbryApi.js');\nconst { addGetResultsToFileData, createBasicPublishParams, createThumbnailPublishParams, parsePublishApiRequestBody, parsePublishApiRequestFiles, createFileData } = require('../helpers/publishHelpers.js');\nconst errorHandlers = require('../helpers/errorHandlers.js');\nconst { sendGATimingEvent } = require('../helpers/googleAnalytics.js');\nconst { authenticateUser } = require('../auth/authentication.js');\nconst { getChannelData, getChannelClaims, getClaimId } = require('../controllers/serveController.js');\n\nconst NO_CHANNEL = 'NO_CHANNEL';\nconst NO_CLAIM = 'NO_CLAIM';\n\nmodule.exports = (app) => {\n  // route to check whether site has published to a channel\n  app.get('/api/channel/availability/:name', ({ ip, originalUrl, params }, res) => {\n    checkChannelAvailability(params.name)\n      .then(result => {\n        if (result === true) {\n          res.status(200).json(true);\n        } else {\n          res.status(200).json(false);\n        }\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to get a short channel id from long channel Id\n  app.get('/api/channel/short-id/:longId/:name', ({ ip, originalUrl, params }, res) => {\n    db.Certificate.getShortChannelIdFromLongChannelId(params.longId, params.name)\n      .then(shortId => {\n        res.status(200).json(shortId);\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  app.get('/api/channel/data/:channelName/:channelClaimId', ({ ip, originalUrl, body, params }, res) => {\n    const channelName = params.channelName;\n    let channelClaimId = params.channelClaimId;\n    if (channelClaimId === 'none') channelClaimId = null;\n    getChannelData(channelName, channelClaimId, 0)\n      .then(data => {\n        if (data === NO_CHANNEL) {\n          return res.status(404).json({success: false, message: 'No matching channel was found'});\n        }\n        res.status(200).json({success: true, data});\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  app.get('/api/channel/claims/:channelName/:channelClaimId/:page', ({ ip, originalUrl, body, params }, res) => {\n    const channelName = params.channelName;\n    let channelClaimId = params.channelClaimId;\n    if (channelClaimId === 'none') channelClaimId = null;\n    const page = params.page;\n    getChannelClaims(channelName, channelClaimId, page)\n      .then(data => {\n        if (data === NO_CHANNEL) {\n          return res.status(404).json({success: false, message: 'No matching channel was found'});\n        }\n        res.status(200).json({success: true, data});\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to run a claim_list request on the daemon\n  app.get('/api/claim/list/:name', ({ ip, originalUrl, params }, res) => {\n    getClaimList(params.name)\n      .then(claimsList => {\n        res.status(200).json(claimsList);\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to get an asset\n  app.get('/api/claim/get/:name/:claimId', ({ ip, originalUrl, params }, res) => {\n    const name = params.name;\n    const claimId = params.claimId;\n    // resolve the claim\n    db.Claim.resolveClaim(name, claimId)\n      .then(resolveResult => {\n        // make sure a claim actually exists at that uri\n        if (!resolveResult) {\n          throw new Error('No matching uri found in Claim table');\n        }\n        let fileData = createFileData(resolveResult);\n        // get the claim\n        return Promise.all([fileData, getClaim(`${name}#${claimId}`)]);\n      })\n      .then(([ fileData, getResult ]) => {\n        fileData = addGetResultsToFileData(fileData, getResult);\n        return Promise.all([db.upsert(db.File, fileData, {name, claimId}, 'File'), getResult]);\n      })\n      .then(([ fileRecord, {message, completed} ]) => {\n        res.status(200).json({ success: true, message, completed });\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to check whether this site published to a claim\n  app.get('/api/claim/availability/:name', ({ ip, originalUrl, params }, res) => {\n    claimNameIsAvailable(params.name)\n      .then(result => {\n        res.status(200).json(result);\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to run a resolve request on the daemon\n  app.get('/api/claim/resolve/:name/:claimId', ({ headers, ip, originalUrl, params }, res) => {\n    resolveUri(`${params.name}#${params.claimId}`)\n      .then(resolvedUri => {\n        res.status(200).json(resolvedUri);\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to run a publish request on the daemon\n  app.post('/api/claim/publish', multipartMiddleware, ({ body, files, headers, ip, originalUrl, user }, res) => {\n    logger.debug('api/claim/publish req.body:', body);\n    logger.debug('api/claim/publish req.files:', files);\n    // define variables\n    let  channelName, channelId, channelPassword, description, fileName, filePath, fileType, gaStartTime, license, name, nsfw, thumbnail, thumbnailFileName, thumbnailFilePath, thumbnailFileType, title;\n    // record the start time of the request\n    gaStartTime = Date.now();\n    // validate the body and files of the request\n    try {\n      // validateApiPublishRequest(body, files);\n      ({name, nsfw, license, title, description, thumbnail} = parsePublishApiRequestBody(body));\n      ({fileName, filePath, fileType, thumbnailFileName, thumbnailFilePath, thumbnailFileType} = parsePublishApiRequestFiles(files));\n      ({channelName, channelId, channelPassword} = body);\n    } catch (error) {\n      return res.status(400).json({success: false, message: error.message});\n    }\n    // check channel authorization\n    Promise.all([\n      authenticateUser(channelName, channelId, channelPassword, user),\n      claimNameIsAvailable(name),\n      createBasicPublishParams(filePath, name, title, description, license, nsfw, thumbnail),\n      createThumbnailPublishParams(thumbnailFilePath, name, license, nsfw),\n    ])\n      .then(([{channelName, channelClaimId}, validatedClaimName, publishParams, thumbnailPublishParams]) => {\n        // add channel details to the publish params\n        if (channelName && channelClaimId) {\n          publishParams['channel_name'] = channelName;\n          publishParams['channel_id'] = channelClaimId;\n        }\n        // publish the thumbnail\n        if (thumbnailPublishParams) {\n          publish(thumbnailPublishParams, thumbnailFileName, thumbnailFileType);\n        }\n        // publish the asset\n        return publish(publishParams, fileName, fileType);\n      })\n      .then(result => {\n        res.status(200).json({\n          success: true,\n          message: 'publish completed successfully',\n          data   : {\n            name,\n            claimId: result.claim_id,\n            url    : `${site.host}/${result.claim_id}/${name}`,\n            lbryTx : result,\n          },\n        });\n        // record the publish end time and send to google analytics\n        sendGATimingEvent('end-to-end', 'publish', fileType, gaStartTime, Date.now());\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to get a short claim id from long claim Id\n  app.get('/api/claim/short-id/:longId/:name', ({ ip, originalUrl, body, params }, res) => {\n    db.Claim.getShortClaimIdFromLongClaimId(params.longId, params.name)\n      .then(shortId => {\n        res.status(200).json({success: true, data: shortId});\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  app.post('/api/claim/long-id', ({ ip, originalUrl, body, params }, res) => {\n    logger.debug('body:', body);\n    const channelName = body.channelName;\n    const channelClaimId = body.channelClaimId;\n    const claimName = body.claimName;\n    const claimId = body.claimId;\n    getClaimId(channelName, channelClaimId, claimName, claimId)\n      .then(result => {\n        if (result === NO_CHANNEL) {\n          return res.status(404).json({success: false, message: 'No matching channel could be found'});\n        }\n        if (result === NO_CLAIM) {\n          return res.status(404).json({success: false, message: 'No matching claim id could be found'});\n        }\n        res.status(200).json({success: true, data: result});\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  app.get('/api/claim/data/:claimName/:claimId', ({ ip, originalUrl, body, params }, res) => {\n    const claimName = params.claimName;\n    let claimId = params.claimId;\n    if (claimId === 'none') claimId = null;\n    db.Claim.resolveClaim(claimName, claimId)\n      .then(claimInfo => {\n        if (!claimInfo) {\n          return res.status(404).json({success: false, message: 'No claim could be found'});\n        }\n        res.status(200).json({success: true, data: claimInfo});\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n  // route to see if asset is available locally\n  app.get('/api/file/availability/:name/:claimId', ({ ip, originalUrl, params }, res) => {\n    const name = params.name;\n    const claimId = params.claimId;\n    db.File.findOne({where: {name, claimId}})\n      .then(result => {\n        if (result) {\n          return res.status(200).json({success: true, data: true});\n        }\n        res.status(200).json({success: true, data: false});\n      })\n      .catch(error => {\n        errorHandlers.handleErrorResponse(originalUrl, ip, error, res);\n      });\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./routes/api-routes.js","module.exports = require(\"connect-multiparty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect-multiparty\"\n// module id = 69\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 70\n// module chunks = 0","const logger = require('winston');\nconst { returnShortId } = require('../helpers/sequelizeHelpers.js');\n\nmodule.exports = (sequelize, { STRING, BOOLEAN, INTEGER, TEXT, DECIMAL }) => {\n  const Certificate = sequelize.define(\n    'Certificate',\n    {\n      address: {\n        type   : STRING,\n        default: null,\n      },\n      amount: {\n        type   : DECIMAL(19, 8),\n        default: null,\n      },\n      claimId: {\n        type   : STRING,\n        default: null,\n      },\n      claimSequence: {\n        type   : INTEGER,\n        default: null,\n      },\n      decodedClaim: {\n        type   : BOOLEAN,\n        default: null,\n      },\n      depth: {\n        type   : INTEGER,\n        default: null,\n      },\n      effectiveAmount: {\n        type   : DECIMAL(19, 8),\n        default: null,\n      },\n      hasSignature: {\n        type   : BOOLEAN,\n        default: null,\n      },\n      height: {\n        type   : INTEGER,\n        default: null,\n      },\n      hex: {\n        type   : TEXT('long'),\n        default: null,\n      },\n      name: {\n        type   : STRING,\n        default: null,\n      },\n      nout: {\n        type   : INTEGER,\n        default: null,\n      },\n      txid: {\n        type   : STRING,\n        default: null,\n      },\n      validAtHeight: {\n        type   : INTEGER,\n        default: null,\n      },\n      outpoint: {\n        type   : STRING,\n        default: null,\n      },\n      valueVersion: {\n        type   : STRING,\n        default: null,\n      },\n      claimType: {\n        type   : STRING,\n        default: null,\n      },\n      certificateVersion: {\n        type   : STRING,\n        default: null,\n      },\n      keyType: {\n        type   : STRING,\n        default: null,\n      },\n      publicKey: {\n        type   : TEXT('long'),\n        default: null,\n      },\n    },\n    {\n      freezeTableName: true,\n    }\n  );\n\n  Certificate.associate = db => {\n    Certificate.belongsTo(db.Channel, {\n      foreignKey: {\n        allowNull: true,\n      },\n    });\n  };\n\n  Certificate.getShortChannelIdFromLongChannelId = function (longChannelId, channelName) {\n    logger.debug(`getShortChannelIdFromLongChannelId ${channelName}:${longChannelId}`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: {name: channelName},\n          order: [['height', 'ASC']],\n        })\n        .then(result => {\n          switch (result.length) {\n            case 0:\n              throw new Error('No channel(s) found with that channel name');\n            default:\n              return resolve(returnShortId(result, longChannelId));\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Certificate.getLongChannelIdFromShortChannelId = function (channelName, channelClaimId) {\n    logger.debug(`getLongChannelIdFromShortChannelId(${channelName}, ${channelClaimId})`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: {\n            name   : channelName,\n            claimId: {\n              $like: `${channelClaimId}%`,\n            },\n          },\n          order: [['height', 'ASC']],\n        })\n        .then(result => {\n          switch (result.length) {\n            case 0:\n              return resolve(null);\n            default: // note results must be sorted\n              return resolve(result[0].claimId);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Certificate.getLongChannelIdFromChannelName = function (channelName) {\n    logger.debug(`getLongChannelIdFromChannelName(${channelName})`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: { name: channelName },\n          order: [['effectiveAmount', 'DESC'], ['height', 'ASC']],\n        })\n        .then(result => {\n          switch (result.length) {\n            case 0:\n              return resolve(null);\n            default:\n              return resolve(result[0].claimId);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Certificate.validateLongChannelId = function (name, claimId) {\n    logger.debug(`validateLongChannelId(${name}, ${claimId})`);\n    return new Promise((resolve, reject) => {\n      this.findOne({\n        where: {name, claimId},\n      })\n        .then(result => {\n          if (!result) {\n            return resolve(null);\n          };\n          resolve(claimId);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Certificate.getLongChannelId = function (channelName, channelClaimId) {\n    logger.debug(`getLongChannelId(${channelName}, ${channelClaimId})`);\n    if (channelClaimId && (channelClaimId.length === 40)) {  // if a full channel id is provided\n      return this.validateLongChannelId(channelName, channelClaimId);\n    } else if (channelClaimId && channelClaimId.length < 40) {  // if a short channel id is provided\n      return this.getLongChannelIdFromShortChannelId(channelName, channelClaimId);\n    } else {\n      return this.getLongChannelIdFromChannelName(channelName);  // if no channel id provided\n    }\n  };\n\n  return Certificate;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/certificate.js","module.exports = (sequelize, { STRING }) => {\n  const Channel = sequelize.define(\n    'Channel',\n    {\n      channelName: {\n        type     : STRING,\n        allowNull: false,\n      },\n      channelClaimId: {\n        type     : STRING,\n        allowNull: false,\n      },\n    },\n    {\n      freezeTableName: true,\n    }\n  );\n\n  Channel.associate = db => {\n    Channel.belongsTo(db.User);\n    Channel.hasOne(db.Certificate);\n  };\n\n  return Channel;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/channel.js","const logger = require('winston');\nconst { returnShortId } = require('../helpers/sequelizeHelpers.js');\nconst { claim, site } = require('../config/speechConfig.js');\nconst { defaultThumbnail } = claim;\n\nfunction determineFileExtensionFromContentType (contentType) {\n  switch (contentType) {\n    case 'image/jpeg':\n    case 'image/jpg':\n      return 'jpeg';\n    case 'image/png':\n      return 'png';\n    case 'image/gif':\n      return 'gif';\n    case 'video/mp4':\n      return 'mp4';\n    default:\n      logger.debug('setting unknown file type as file extension jpeg');\n      return 'jpeg';\n  }\n};\n\nfunction determineThumbnail (storedThumbnail, defaultThumbnail) {\n  if (storedThumbnail === '') {\n    return defaultThumbnail;\n  }\n  return storedThumbnail;\n};\n\nfunction prepareClaimData (claim) {\n  // logger.debug('preparing claim data based on resolved data:', claim);\n  claim['thumbnail'] = determineThumbnail(claim.thumbnail, defaultThumbnail);\n  claim['fileExt'] = determineFileExtensionFromContentType(claim.contentType);\n  claim['host'] = site.host;\n  return claim;\n};\n\nmodule.exports = (sequelize, { STRING, BOOLEAN, INTEGER, TEXT, DECIMAL }) => {\n  const Claim = sequelize.define(\n    'Claim',\n    {\n      address: {\n        type   : STRING,\n        default: null,\n      },\n      amount: {\n        type   : DECIMAL(19, 8),\n        default: null,\n      },\n      claimId: {\n        type   : STRING,\n        default: null,\n      },\n      claimSequence: {\n        type   : INTEGER,\n        default: null,\n      },\n      decodedClaim: {\n        type   : BOOLEAN,\n        default: null,\n      },\n      depth: {\n        type   : INTEGER,\n        default: null,\n      },\n      effectiveAmount: {\n        type   : DECIMAL(19, 8),\n        default: null,\n      },\n      hasSignature: {\n        type   : BOOLEAN,\n        default: null,\n      },\n      height: {\n        type   : INTEGER,\n        default: null,\n      },\n      hex: {\n        type   : TEXT('long'),\n        default: null,\n      },\n      name: {\n        type   : STRING,\n        default: null,\n      },\n      nout: {\n        type   : INTEGER,\n        default: null,\n      },\n      txid: {\n        type   : STRING,\n        default: null,\n      },\n      validAtHeight: {\n        type   : INTEGER,\n        default: null,\n      },\n      outpoint: {\n        type   : STRING,\n        default: null,\n      },\n      claimType: {\n        type   : STRING,\n        default: null,\n      },\n      certificateId: {\n        type   : STRING,\n        default: null,\n      },\n      author: {\n        type   : STRING,\n        default: null,\n      },\n      description: {\n        type   : TEXT('long'),\n        default: null,\n      },\n      language: {\n        type   : STRING,\n        default: null,\n      },\n      license: {\n        type   : STRING,\n        default: null,\n      },\n      licenseUrl: {\n        type   : STRING,\n        default: null,\n      },\n      nsfw: {\n        type   : BOOLEAN,\n        default: null,\n      },\n      preview: {\n        type   : STRING,\n        default: null,\n      },\n      thumbnail: {\n        type   : STRING,\n        default: null,\n      },\n      title: {\n        type   : STRING,\n        default: null,\n      },\n      metadataVersion: {\n        type   : STRING,\n        default: null,\n      },\n      contentType: {\n        type   : STRING,\n        default: null,\n      },\n      source: {\n        type   : STRING,\n        default: null,\n      },\n      sourceType: {\n        type   : STRING,\n        default: null,\n      },\n      sourceVersion: {\n        type   : STRING,\n        default: null,\n      },\n      streamVersion: {\n        type   : STRING,\n        default: null,\n      },\n      valueVersion: {\n        type   : STRING,\n        default: null,\n      },\n      channelName: {\n        type     : STRING,\n        allowNull: true,\n        default  : null,\n      },\n    },\n    {\n      freezeTableName: true,\n    }\n  );\n\n  Claim.associate = db => {\n    Claim.belongsTo(db.File, {\n      foreignKey: {\n        allowNull: true,\n      },\n    });\n  };\n\n  Claim.getShortClaimIdFromLongClaimId = function (claimId, claimName) {\n    logger.debug(`Claim.getShortClaimIdFromLongClaimId for ${claimName}#${claimId}`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: { name: claimName },\n          order: [['height', 'ASC']],\n        })\n        .then(result => {\n          switch (result.length) {\n            case 0:\n              throw new Error('No claim(s) found with that claim name');\n            default:\n              resolve(returnShortId(result, claimId));\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Claim.getAllChannelClaims = function (channelClaimId) {\n    logger.debug(`Claim.getAllChannelClaims for ${channelClaimId}`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: { certificateId: channelClaimId },\n          order: [['height', 'ASC']],\n          raw  : true,  // returns an array of only data, not an array of instances\n        })\n        .then(channelClaimsArray => {\n          // logger.debug('channelclaimsarray length:', channelClaimsArray.length);\n          switch (channelClaimsArray.length) {\n            case 0:\n              return resolve(null);\n            default:\n              channelClaimsArray.forEach(claim => {\n                claim['fileExt'] = determineFileExtensionFromContentType(claim.contentType);\n                claim['thumbnail'] = determineThumbnail(claim.thumbnail, defaultThumbnail);\n                return claim;\n              });\n              return resolve(channelClaimsArray);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Claim.getClaimIdByLongChannelId = function (channelClaimId, claimName) {\n    logger.debug(`finding claim id for claim ${claimName} from channel ${channelClaimId}`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: { name: claimName, certificateId: channelClaimId },\n          order: [['id', 'ASC']],\n        })\n        .then(result => {\n          switch (result.length) {\n            case 0:\n              return resolve(null);\n            case 1:\n              return resolve(result[0].claimId);\n            default:\n              logger.error(`${result.length} records found for \"${claimName}\" in channel \"${channelClaimId}\"`);\n              return resolve(result[0].claimId);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Claim.getLongClaimIdFromShortClaimId = function (name, shortId) {\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: {\n            name,\n            claimId: {\n              $like: `${shortId}%`,\n            }},\n          order: [['height', 'ASC']],\n        })\n        .then(result => {\n          switch (result.length) {\n            case 0:\n              return resolve(null);\n            default: // note results must be sorted\n              return resolve(result[0].claimId);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Claim.getTopFreeClaimIdByClaimName = function (name) {\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: { name },\n          order: [['effectiveAmount', 'DESC'], ['height', 'ASC']],  // note: maybe height and effective amount need to switch?\n        })\n        .then(result => {\n          logger.debug('length of result', result.length);\n          switch (result.length) {\n            case 0:\n              return resolve(null);\n            default:\n              return resolve(result[0].dataValues.claimId);\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Claim.validateLongClaimId = function (name, claimId) {\n    return new Promise((resolve, reject) => {\n      this.findOne({\n        where: {name, claimId},\n      })\n        .then(result => {\n          if (!result) {\n            return resolve(null);\n          };\n          resolve(claimId);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  Claim.getLongClaimId = function (claimName, claimId) {\n    logger.debug(`getLongClaimId(${claimName}, ${claimId})`);\n    if (claimId && (claimId.length === 40)) {  // if a full claim id is provided\n      return this.validateLongClaimId(claimName, claimId);\n    } else if (claimId && claimId.length < 40) {\n      return this.getLongClaimIdFromShortClaimId(claimName, claimId);  // if a short claim id is provided\n    } else {\n      return this.getTopFreeClaimIdByClaimName(claimName);  // if no claim id is provided\n    }\n  };\n\n  Claim.resolveClaim = function (name, claimId) {\n    logger.debug(`Claim.resolveClaim: ${name} ${claimId}`);\n    return new Promise((resolve, reject) => {\n      this\n        .findAll({\n          where: { name, claimId },\n        })\n        .then(claimArray => {\n          logger.debug('claims found on resolve:', claimArray.length);\n          switch (claimArray.length) {\n            case 0:\n              return resolve(null);\n            case 1:\n              return resolve(prepareClaimData(claimArray[0].dataValues));\n            default:\n              logger.error(`more than one entry matches that name (${name}) and claimID (${claimId})`);\n              return resolve(prepareClaimData(claimArray[0].dataValues));\n          }\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  };\n\n  return Claim;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/claim.js","module.exports = (sequelize, { STRING, BOOLEAN, INTEGER }) => {\n  const File = sequelize.define(\n    'File',\n    {\n      name: {\n        type     : STRING,\n        allowNull: false,\n      },\n      claimId: {\n        type     : STRING,\n        allowNull: false,\n      },\n      address: {\n        type     : STRING,\n        allowNull: false,\n      },\n      outpoint: {\n        type     : STRING,\n        allowNull: false,\n      },\n      height: {\n        type     : INTEGER,\n        allowNull: false,\n        default  : 0,\n      },\n      fileName: {\n        type     : STRING,\n        allowNull: false,\n      },\n      filePath: {\n        type     : STRING,\n        allowNull: false,\n      },\n      fileType: {\n        type: STRING,\n      },\n      nsfw: {\n        type        : BOOLEAN,\n        allowNull   : false,\n        defaultValue: false,\n      },\n      trendingEligible: {\n        type        : BOOLEAN,\n        allowNull   : false,\n        defaultValue: true,\n      },\n    },\n    {\n      freezeTableName: true,\n    }\n  );\n\n  File.associate = db => {\n    File.hasMany(db.Request);\n    File.hasOne(db.Claim);\n  };\n\n  File.getRecentClaims = function () {\n    return this.findAll({\n      where: { nsfw: false, trendingEligible: true },\n      order: [['createdAt', 'DESC']],\n      limit: 25,\n    });\n  };\n\n  return File;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/file.js","module.exports = (sequelize, { STRING, BOOLEAN, TEXT }) => {\n  const Request = sequelize.define(\n    'Request',\n    {\n      action: {\n        type     : STRING,\n        allowNull: false,\n      },\n      url: {\n        type     : STRING,\n        allowNull: false,\n      },\n      ipAddress: {\n        type     : STRING,\n        allowNull: true,\n      },\n      result: {\n        type     : TEXT('long'),\n        allowNull: true,\n        default  : null,\n      },\n    },\n    {\n      freezeTableName: true,\n    }\n  );\n\n  Request.associate = db => {\n    Request.belongsTo(db.File, {\n      foreignKey: {\n        allowNull: true,\n      },\n    });\n  };\n\n  return Request;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/request.js","'use strict';\nconst bcrypt = require('bcrypt');\nconst logger = require('winston');\n\nmodule.exports = (sequelize, { STRING }) => {\n  const User = sequelize.define(\n    'User',\n    {\n      userName: {\n        type     : STRING,\n        allowNull: false,\n      },\n      password: {\n        type     : STRING,\n        allowNull: false,\n      },\n    },\n    {\n      freezeTableName: true,\n    }\n  );\n\n  User.associate = db => {\n    User.hasOne(db.Channel);\n  };\n\n  User.prototype.comparePassword = function (password) {\n    return bcrypt.compare(password, this.password);\n  };\n\n  User.prototype.changePassword = function (newPassword) {\n    return new Promise((resolve, reject) => {\n      // generate a salt string to use for hashing\n      bcrypt.genSalt((saltError, salt) => {\n        if (saltError) {\n          logger.error('salt error', saltError);\n          reject(saltError);\n          return;\n        }\n        // generate a hashed version of the user's password\n        bcrypt.hash(newPassword, salt, (hashError, hash) => {\n          // if there is an error with the hash generation return the error\n          if (hashError) {\n            logger.error('hash error', hashError);\n            reject(hashError);\n            return;\n          }\n          // replace the current password with the new hash\n          this\n            .update({password: hash})\n            .then(() => {\n              resolve();\n            })\n            .catch(error => {\n              reject(error);\n            });\n        });\n      });\n    });\n  };\n\n  // pre-save hook method to hash the user's password before the user's info is saved to the db.\n  User.hook('beforeCreate', (user, options) => {\n    logger.debug('User.beforeCreate hook...');\n    return new Promise((resolve, reject) => {\n      // generate a salt string to use for hashing\n      bcrypt.genSalt((saltError, salt) => {\n        if (saltError) {\n          logger.error('salt error', saltError);\n          reject(saltError);\n          return;\n        }\n        // generate a hashed version of the user's password\n        bcrypt.hash(user.password, salt, (hashError, hash) => {\n          // if there is an error with the hash generation return the error\n          if (hashError) {\n            logger.error('hash error', hashError);\n            reject(hashError);\n            return;\n          }\n          // replace the password string with the hash password value\n          user.password = hash;\n          resolve();\n        });\n      });\n    });\n  });\n\n  return User;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./models/user.js","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 77\n// module chunks = 0","const logger = require('winston');\nconst db = require('../models');\nconst lbryApi = require('../helpers/lbryApi.js');\nconst publishHelpers = require('../helpers/publishHelpers.js');\nconst config = require('../config/speechConfig.js');\n\nmodule.exports = {\n  publish (publishParams, fileName, fileType) {\n    return new Promise((resolve, reject) => {\n      let publishResults, certificateId, channelName;\n      // publish the file\n      return lbryApi.publishClaim(publishParams)\n        .then(tx => {\n          logger.info(`Successfully published ${publishParams.name} ${fileName}`, tx);\n          publishResults = tx;\n          // get the channel information\n          if (publishParams.channel_name) {\n            logger.debug(`this claim was published in channel: ${publishParams.channel_name}`);\n            return db.Channel.findOne({where: {channelName: publishParams.channel_name}});\n          } else {\n            logger.debug('this claim was not published in a channel');\n            return null;\n          }\n        })\n        .then(channel => {\n        // set channel information\n          certificateId = null;\n          channelName = null;\n          if (channel) {\n            certificateId = channel.channelClaimId;\n            channelName = channel.channelName;\n          }\n          logger.debug(`certificateId: ${certificateId}`);\n        })\n        .then(() => {\n        // create the File record\n          const fileRecord = {\n            name       : publishParams.name,\n            claimId    : publishResults.claim_id,\n            title      : publishParams.metadata.title,\n            description: publishParams.metadata.description,\n            address    : publishParams.claim_address,\n            outpoint   : `${publishResults.txid}:${publishResults.nout}`,\n            height     : 0,\n            fileName,\n            filePath   : publishParams.file_path,\n            fileType,\n            nsfw       : publishParams.metadata.nsfw,\n          };\n          // create the Claim record\n          const claimRecord = {\n            name       : publishParams.name,\n            claimId    : publishResults.claim_id,\n            title      : publishParams.metadata.title,\n            description: publishParams.metadata.description,\n            address    : publishParams.claim_address,\n            thumbnail  : publishParams.metadata.thumbnail,\n            outpoint   : `${publishResults.txid}:${publishResults.nout}`,\n            height     : 0,\n            contentType: fileType,\n            nsfw       : publishParams.metadata.nsfw,\n            amount     : publishParams.bid,\n            certificateId,\n            channelName,\n          };\n          // upsert criteria\n          const upsertCriteria = {\n            name   : publishParams.name,\n            claimId: publishResults.claim_id,\n          };\n          // upsert the records\n          return Promise.all([db.upsert(db.File, fileRecord, upsertCriteria, 'File'), db.upsert(db.Claim, claimRecord, upsertCriteria, 'Claim')]);\n        })\n        .then(([file, claim]) => {\n          logger.debug('File and Claim records successfully created');\n          return Promise.all([file.setClaim(claim), claim.setFile(file)]);\n        })\n        .then(() => {\n          logger.debug('File and Claim records successfully associated');\n          resolve(publishResults); // resolve the promise with the result from lbryApi.publishClaim;\n        })\n        .catch(error => {\n          logger.error('PUBLISH ERROR', error);\n          publishHelpers.deleteTemporaryFile(publishParams.file_path); // delete the local file\n          reject(error);\n        });\n    });\n  },\n  claimNameIsAvailable (name) {\n    // find any records where the name is used\n    return db.File.findAll({ where: { name } })\n      .then(result => {\n        if (result.length >= 1) {\n          const claimAddress = config.wallet.lbryClaimAddress;\n          // filter out any results that were not published from spee.ch's wallet address\n          const filteredResult = result.filter((claim) => {\n            return (claim.address === claimAddress);\n          });\n          // return based on whether any non-spee.ch claims were left\n          if (filteredResult.length >= 1) {\n            throw new Error('That claim is already in use');\n          };\n          return name;\n        };\n        return name;\n      });\n  },\n  checkChannelAvailability (name) {\n    return new Promise((resolve, reject) => {\n      // find any records where the name is used\n      db.Channel.findAll({ where: { channelName: name } })\n        .then(result => {\n          if (result.length >= 1) {\n            return resolve(false);\n          }\n          resolve(true);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/publishController.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 79\n// module chunks = 0","const db = require('../models');\nconst logger = require('winston');\n\nmodule.exports = {\n  authenticateUser (channelName, channelId, channelPassword, user) {\n    // case: no channelName or channel Id are provided (anonymous), regardless of whether user token is provided\n    if (!channelName && !channelId) {\n      return {\n        channelName   : null,\n        channelClaimId: null,\n      };\n    }\n    // case: channelName or channel Id are provided with user token\n    if (user) {\n      if (channelName && channelName !== user.channelName) {\n        throw new Error('the provided channel name does not match user credentials');\n      }\n      if (channelId && channelId !== user.channelClaimId) {\n        throw new Error('the provided channel id does not match user credentials');\n      }\n      return {\n        channelName   : user.channelName,\n        channelClaimId: user.channelClaimId,\n      };\n    }\n    // case: channelName or channel Id are provided with password instead of user token\n    if (!channelPassword) throw new Error('no channel password provided');\n    return module.exports.authenticateChannelCredentials(channelName, channelId, channelPassword);\n  },\n  authenticateChannelCredentials (channelName, channelId, userPassword) {\n    return new Promise((resolve, reject) => {\n      // hoisted variables\n      let channelData;\n      // build the params for finding the channel\n      let channelFindParams = {};\n      if (channelName) channelFindParams['channelName'] = channelName;\n      if (channelId) channelFindParams['channelClaimId'] = channelId;\n      // find the channel\n      db.Channel\n        .findOne({\n          where: channelFindParams,\n        })\n        .then(channel => {\n          if (!channel) {\n            logger.debug('no channel found');\n            throw new Error('Authentication failed, you do not have access to that channel');\n          }\n          channelData = channel.get();\n          logger.debug('channel data:', channelData);\n          return db.User.findOne({\n            where: { userName: channelData.channelName.substring(1) },\n          });\n        })\n        .then(user => {\n          if (!user) {\n            logger.debug('no user found');\n            throw new Error('Authentication failed, you do not have access to that channel');\n          }\n          return user.comparePassword(userPassword);\n        })\n        .then(isMatch => {\n          if (!isMatch) {\n            logger.debug('incorrect password');\n            throw new Error('Authentication failed, you do not have access to that channel');\n          }\n          logger.debug('...password was a match...');\n          resolve(channelData);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./auth/authentication.js","const CLAIMS_PER_PAGE = 12;\n\nmodule.exports = {\n  returnPaginatedChannelClaims (channelName, longChannelClaimId, claims, page) {\n    const totalPages = module.exports.determineTotalPages(claims);\n    const paginationPage = module.exports.getPageFromQuery(page);\n    const viewData = {\n      channelName       : channelName,\n      longChannelClaimId: longChannelClaimId,\n      claims            : module.exports.extractPageFromClaims(claims, paginationPage),\n      previousPage      : module.exports.determinePreviousPage(paginationPage),\n      currentPage       : paginationPage,\n      nextPage          : module.exports.determineNextPage(totalPages, paginationPage),\n      totalPages        : totalPages,\n      totalResults      : module.exports.determineTotalClaims(claims),\n    };\n    return viewData;\n  },\n  getPageFromQuery (page) {\n    if (page) {\n      return parseInt(page);\n    }\n    return 1;\n  },\n  extractPageFromClaims (claims, pageNumber) {\n    if (!claims) {\n      return [];  // if no claims, return this default\n    }\n    // logger.debug('claims is array?', Array.isArray(claims));\n    // logger.debug(`pageNumber ${pageNumber} is number?`, Number.isInteger(pageNumber));\n    const claimStartIndex = (pageNumber - 1) * CLAIMS_PER_PAGE;\n    const claimEndIndex = claimStartIndex + CLAIMS_PER_PAGE;\n    const pageOfClaims = claims.slice(claimStartIndex, claimEndIndex);\n    return pageOfClaims;\n  },\n  determineTotalPages (claims) {\n    if (!claims) {\n      return 0;\n    } else {\n      const totalClaims = claims.length;\n      if (totalClaims < CLAIMS_PER_PAGE) {\n        return 1;\n      }\n      const fullPages = Math.floor(totalClaims / CLAIMS_PER_PAGE);\n      const remainder = totalClaims % CLAIMS_PER_PAGE;\n      if (remainder === 0) {\n        return fullPages;\n      }\n      return fullPages + 1;\n    }\n  },\n  determinePreviousPage (currentPage) {\n    if (currentPage === 1) {\n      return null;\n    }\n    return currentPage - 1;\n  },\n  determineNextPage (totalPages, currentPage) {\n    if (currentPage === totalPages) {\n      return null;\n    }\n    return currentPage + 1;\n  },\n  determineTotalClaims (claims) {\n    if (!claims) {\n      return 0;\n    }\n    return claims.length;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/channelPagination.js","const { site } = require('../config/speechConfig.js');\nconst handlePageRender = require('../helpers/handlePageRender.jsx');\n\nmodule.exports = (app) => {\n  // route for the home page\n  app.get('/', (req, res) => {\n    handlePageRender(req, res);\n  });\n  // route to display login page\n  app.get('/login', (req, res) => {\n    handlePageRender(req, res);\n  });\n  // route to show 'about' page\n  app.get('/about', (req, res) => {\n    handlePageRender(req, res);\n  });\n  // route to display a list of the trending images\n  app.get('/trending', (req, res) => {\n    res.status(301).redirect('/popular');\n  });\n  app.get('/popular', (req, res) => {\n    handlePageRender(req, res);\n  });\n  // route to display a list of the trending images\n  app.get('/new', (req, res) => {\n    handlePageRender(req, res);\n  });\n  // route to send embedable video player (for twitter)\n  app.get('/embed/:claimId/:name', ({ params }, res) => {\n    const claimId = params.claimId;\n    const name = params.name;\n    const host = site.host;\n    // get and render the content\n    res.status(200).render('embed', { layout: 'embed', host, claimId, name });\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./routes/page-routes.js","import * as actions from 'constants/publish_action_types';\nimport { LOGIN } from 'constants/publish_channel_select_states';\nconst { publish } = require('../../config/speechConfig.js');\n\nconst initialState = {\n  publishInChannel  : false,\n  selectedChannel   : LOGIN,\n  showMetadataInputs: false,\n  status            : {\n    status : null,\n    message: null,\n  },\n  error: {\n    file         : null,\n    url          : null,\n    channel      : null,\n    publishSubmit: null,\n  },\n  file    : null,\n  claim   : '',\n  metadata: {\n    title      : '',\n    description: '',\n    license    : '',\n    nsfw       : false,\n  },\n  thumbnailChannel  : publish.thumbnailChannel,\n  thumbnailChannelId: publish.thumbnailChannelId,\n  thumbnail         : null,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case actions.FILE_SELECTED:\n      return Object.assign({}, initialState, {  // note: clears to initial state\n        file: action.data,\n      });\n    case actions.FILE_CLEAR:\n      return initialState;\n    case actions.METADATA_UPDATE:\n      return Object.assign({}, state, {\n        metadata: Object.assign({}, state.metadata, {\n          [action.data.name]: action.data.value,\n        }),\n      });\n    case actions.CLAIM_UPDATE:\n      return Object.assign({}, state, {\n        claim: action.data,\n      });\n    case actions.SET_PUBLISH_IN_CHANNEL:\n      return Object.assign({}, state, {\n        publishInChannel: action.channel,\n      });\n    case actions.PUBLISH_STATUS_UPDATE:\n      return Object.assign({}, state, {\n        status: action.data,\n      });\n    case actions.ERROR_UPDATE:\n      return Object.assign({}, state, {\n        error: Object.assign({}, state.error, {\n          [action.data.name]: action.data.value,\n        }),\n      });\n    case actions.SELECTED_CHANNEL_UPDATE:\n      return Object.assign({}, state, {\n        selectedChannel: action.data,\n      });\n    case actions.TOGGLE_METADATA_INPUTS:\n      return Object.assign({}, state, {\n        showMetadataInputs: action.data,\n      });\n    case actions.THUMBNAIL_NEW:\n      return Object.assign({}, state, {\n        thumbnail: action.data,\n      });\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/reducers/publish.js","import * as actions from 'constants/channel_action_types';\n\nconst initialState = {\n  loggedInChannel: {\n    name   : null,\n    shortId: null,\n    longId : null,\n  },\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case actions.CHANNEL_UPDATE:\n      return Object.assign({}, state, {\n        loggedInChannel: action.data,\n      });\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/reducers/channel.js","import * as actions from 'constants/show_action_types';\nimport { LOCAL_CHECK, ERROR } from 'constants/asset_display_states';\n\nconst initialState = {\n  request: {\n    error: null,\n    type : null,\n    id   : null,\n  },\n  requestList : {},\n  channelList : {},\n  assetList   : {},\n  displayAsset: {\n    error : null,\n    status: LOCAL_CHECK,\n  },\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    // handle request\n    case actions.REQUEST_ERROR:\n      return Object.assign({}, state, {\n        request: Object.assign({}, state.request, {\n          error: action.data,\n        }),\n      });\n    case actions.REQUEST_UPDATE:\n      return Object.assign({}, state, {\n        request: Object.assign({}, state.request, {\n          type: action.data.requestType,\n          id  : action.data.requestId,\n        }),\n      });\n    // store requests\n    case actions.REQUEST_LIST_ADD:\n      return Object.assign({}, state, {\n        requestList: Object.assign({}, state.requestList, {\n          [action.data.id]: {\n            error: action.data.error,\n            key  : action.data.key,\n          },\n        }),\n      });\n    // asset data\n    case actions.ASSET_ADD:\n      return Object.assign({}, state, {\n        assetList: Object.assign({}, state.assetList, {\n          [action.data.id]: {\n            error    : action.data.error,\n            name     : action.data.name,\n            claimId  : action.data.claimId,\n            shortId  : action.data.shortId,\n            claimData: action.data.claimData,\n          },\n        }),\n      });\n    // channel data\n    case actions.CHANNEL_ADD:\n      return Object.assign({}, state, {\n        channelList: Object.assign({}, state.channelList, {\n          [action.data.id]: {\n            name      : action.data.name,\n            longId    : action.data.longId,\n            shortId   : action.data.shortId,\n            claimsData: action.data.claimsData,\n          },\n        }),\n      });\n    case actions.CHANNEL_CLAIMS_UPDATE_SUCCESS:\n      return Object.assign({}, state, {\n        channelList: Object.assign({}, state.channelList, {\n          [action.data.channelListId]: Object.assign({}, state.channelList[action.data.channelListId], {\n            claimsData: action.data.claimsData,\n          }),\n        }),\n      });\n    // display an asset\n    case actions.FILE_AVAILABILITY_UPDATE:\n      return Object.assign({}, state, {\n        displayAsset: Object.assign({}, state.displayAsset, {\n          status: action.data,\n        }),\n      });\n    case actions.DISPLAY_ASSET_ERROR:\n      return Object.assign({}, state, {\n        displayAsset: Object.assign({}, state.displayAsset, {\n          error : action.data,\n          status: ERROR,\n        }),\n      });\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/reducers/show.js","const { site } = require('../../config/speechConfig.js');\n\nconst initialState = {\n  host: site.host,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/reducers/site.js","module.exports = require(\"react-ga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-ga\"\n// module id = 87\n// module chunks = 0","import React from 'react';\nimport SEO from 'components/SEO';\nimport NavBar from 'containers/NavBar';\nimport PublishTool from 'containers/PublishTool';\n\nclass HomePage extends React.Component {\n  render () {\n    return (\n      <div className={'row row--tall flex-container--column'}>\n        <SEO />\n        <NavBar />\n        <div className={'row row--tall row--padded flex-container--column'}>\n          <PublishTool />\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default HomePage;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/HomePage/index.jsx","const { site: { title: siteTitle } } = require('../../config/speechConfig.js');\n\nexport const createPageTitle = (pageTitle) => {\n  if (!pageTitle) {\n    return `${siteTitle}`;\n  }\n  return `${siteTitle} - ${pageTitle}`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/utils/pageTitle.js","const { site: { title, host, description }, claim: { defaultThumbnail, defaultDescription } } = require('../../config/speechConfig.js');\n\nconst determineOgThumbnailContentType = (thumbnail) => {\n  if (thumbnail) {\n    const fileExt = thumbnail.substring(thumbnail.lastIndexOf('.'));\n    switch (fileExt) {\n      case 'jpeg':\n      case 'jpg':\n        return 'image/jpeg';\n      case 'png':\n        return 'image/png';\n      case 'gif':\n        return 'image/gif';\n      case 'mp4':\n        return 'video/mp4';\n      default:\n        return 'image/jpeg';\n    }\n  }\n  return '';\n};\n\nconst createBasicMetaTags = () => {\n  return [\n    {property: 'og:title', content: title},\n    {property: 'og:url', content: host},\n    {property: 'og:site_name', content: title},\n    {property: 'og:description', content: description},\n    {property: 'twitter:site', content: '@spee_ch'},\n    {property: 'twitter:card', content: 'summary'},\n  ];\n};\n\nconst createChannelMetaTags = (channel) => {\n  const { name, longId } = channel;\n  return [\n    {property: 'og:title', content: `${name} on ${title}`},\n    {property: 'og:url', content: `${host}/${name}:${longId}`},\n    {property: 'og:site_name', content: title},\n    {property: 'og:description', content: `${name}, a channel on ${title}`},\n    {property: 'twitter:site', content: '@spee_ch'},\n    {property: 'twitter:card', content: 'summary'},\n  ];\n};\n\nconst createAssetMetaTags = (asset) => {\n  const { claimData } = asset;\n  const { contentType } = claimData;\n  const embedUrl = `${host}/${claimData.claimId}/${claimData.name}`;\n  const showUrl = `${host}/${claimData.claimId}/${claimData.name}`;\n  const source = `${host}/${claimData.claimId}/${claimData.name}.${claimData.fileExt}`;\n  const ogTitle = claimData.title || claimData.name;\n  const ogDescription = claimData.description || defaultDescription;\n  const ogThumbnailContentType = determineOgThumbnailContentType(claimData.thumbnail);\n  const ogThumbnail = claimData.thumbnail || defaultThumbnail;\n  const metaTags = [\n    {property: 'og:title', content: ogTitle},\n    {property: 'og:url', content: showUrl},\n    {property: 'og:site_name', content: title},\n    {property: 'og:description', content: ogDescription},\n    {property: 'og:image:width', content: 600},\n    {property: 'og:image:height', content: 315},\n    {property: 'twitter:site', content: '@spee_ch'},\n  ];\n  if (contentType === 'video/mp4' || contentType === 'video/webm') {\n    metaTags.push({property: 'og:video', content: source});\n    metaTags.push({property: 'og:video:secure_url', content: source});\n    metaTags.push({property: 'og:video:type', content: contentType});\n    metaTags.push({property: 'og:image', content: ogThumbnail});\n    metaTags.push({property: 'og:image:type', content: ogThumbnailContentType});\n    metaTags.push({property: 'og:type', content: 'video'});\n    metaTags.push({property: 'twitter:card', content: 'player'});\n    metaTags.push({property: 'twitter:player', content: embedUrl});\n    metaTags.push({property: 'twitter:player:width', content: 600});\n    metaTags.push({property: 'twitter:text:player_width', content: 600});\n    metaTags.push({property: 'twitter:player:height', content: 337});\n    metaTags.push({property: 'twitter:player:stream', content: source});\n    metaTags.push({property: 'twitter:player:stream:content_type', content: contentType});\n  } else {\n    metaTags.push({property: 'og:image', content: source});\n    metaTags.push({property: 'og:image:type', content: contentType});\n    metaTags.push({property: 'og:type', content: 'article'});\n    metaTags.push({property: 'twitter:card', content: 'summary_large_image'});\n  }\n  return metaTags;\n};\n\nexport const createMetaTags = (asset, channel) => {\n  if (asset) {\n    return createAssetMetaTags(asset);\n  };\n  if (channel) {\n    return createChannelMetaTags(channel);\n  };\n  return createBasicMetaTags();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/utils/metaTags.js","const { site: { host } } = require('../../config/speechConfig.js');\n\nconst createBasicCanonicalLink = (page) => {\n  if (!page) {\n    return `${host}`;\n  };\n  return `${host}/${page}`;\n};\n\nconst createAssetCanonicalLink = (asset) => {\n  let channelName, certificateId, name, claimId;\n  if (asset.claimData) {\n    ({ channelName, certificateId, name, claimId } = asset.claimData);\n  };\n  if (channelName) {\n    return `${host}/${channelName}:${certificateId}/${name}`;\n  };\n  return `${host}/${claimId}/${name}`;\n};\n\nconst createChannelCanonicalLink = (channel) => {\n  const { name, longId } = channel;\n  return `${host}/${name}:${longId}`;\n};\n\nexport const createCanonicalLink = (asset, channel, page) => {\n  if (asset) {\n    return createAssetCanonicalLink(asset);\n  }\n  if (channel) {\n    return createChannelCanonicalLink(channel);\n  }\n  if (page) {\n    return createBasicCanonicalLink(page);\n  }\n  return createBasicCanonicalLink();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/utils/canonicalLink.js","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport Logo from 'components/Logo';\nimport NavBarChannelDropdown from 'components/NavBarChannelOptionsDropdown';\nimport request from 'utils/request';\n\nconst VIEW = 'VIEW';\nconst LOGOUT = 'LOGOUT';\n\nclass NavBar extends React.Component {\n  constructor (props) {\n    super(props);\n    this.checkForLoggedInUser = this.checkForLoggedInUser.bind(this);\n    this.logoutUser = this.logoutUser.bind(this);\n    this.handleSelection = this.handleSelection.bind(this);\n  }\n  componentDidMount () {\n    // check to see if the user is already logged in\n    this.checkForLoggedInUser();\n  }\n  checkForLoggedInUser () {\n    const params = {credentials: 'include'};\n    request('/user', params)\n      .then(({ data }) => {\n        this.props.onChannelLogin(data.channelName, data.shortChannelId, data.channelClaimId);\n      })\n      .catch(error => {\n        console.log('/user error:', error.message);\n      });\n  }\n  logoutUser () {\n    const params = {credentials: 'include'};\n    request('/logout', params)\n      .then(() => {\n        this.props.onChannelLogout();\n      })\n      .catch(error => {\n        console.log('/logout error', error.message);\n      });\n  }\n  handleSelection (event) {\n    const value = event.target.selectedOptions[0].value;\n    switch (value) {\n      case LOGOUT:\n        this.logoutUser();\n        break;\n      case VIEW:\n        // redirect to channel page\n        this.props.history.push(`/${this.props.channelName}:${this.props.channelLongId}`);\n        break;\n      default:\n        break;\n    }\n  }\n  render () {\n    return (\n      <div className='row row--wide nav-bar'>\n        <div className='row row--padded row--short flex-container--row flex-container--space-between-center'>\n          <Logo />\n          <div className='nav-bar--center'>\n            <span className='nav-bar-tagline'>Open-source, decentralized image and video sharing.</span>\n          </div>\n          <div className='nav-bar--right'>\n            <NavLink className='nav-bar-link link--nav' activeClassName='link--nav-active' to='/' exact>Publish</NavLink>\n            <NavLink className='nav-bar-link link--nav'  activeClassName='link--nav-active' to='/about'>About</NavLink>\n            { this.props.channelName ? (\n              <NavBarChannelDropdown\n                channelName={this.props.channelName}\n                handleSelection={this.handleSelection}\n                defaultSelection={this.props.channelName}\n                VIEW={VIEW}\n                LOGOUT={LOGOUT}\n              />\n            ) : (\n              <NavLink id='nav-bar-login-link' className='nav-bar-link link--nav' activeClassName='link--nav-active' to='/login'>Channel</NavLink>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(NavBar);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/NavBar/view.jsx","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Logo () {\n  return (\n    <svg version='1.1' id='Layer_1' x='0px' y='0px' height='24px' viewBox='0 0 80 31' enableBackground='new 0 0 80 31' className='nav-bar-logo'>\n      <Link to='/'>\n        <title>Logo</title>\n        <desc>Spee.ch logo</desc>\n        <g id='About'>\n          <g id='Publish-Form-V2-_x28_filled_x29_' transform='translate(-42.000000, -23.000000)'>\n            <g id='Group-17' transform='translate(42.000000, 22.000000)'>\n              <text transform='matrix(1 0 0 1 0 20)' fontSize='25' fontFamily='Roboto'>Spee&lt;h</text>\n              <g id='Group-16' transform='translate(0.000000, 30.000000)'>\n                <path id='Line-8' fill='none' stroke='#09F911' strokeWidth='1' strokeLinecap='square' d='M0.5,1.5h15' />\n                <path id='Line-8-Copy' fill='none' stroke='#029D74' strokeWidth='1' strokeLinecap='square' d='M16.5,1.5h15' />\n                <path id='Line-8-Copy-2' fill='none' stroke='#E35BD8' strokeWidth='1' strokeLinecap='square' d='M32.5,1.5h15' />\n                <path id='Line-8-Copy-3' fill='none' stroke='#4156C5' strokeWidth='1' strokeLinecap='square' d='M48.5,1.5h15' />\n                <path id='Line-8-Copy-4' fill='none' stroke='#635688' strokeWidth='1' strokeLinecap='square' d='M64.5,1.5h15' />\n              </g>\n            </g>\n          </g>\n        </g>\n      </Link>\n    </svg>\n  );\n};\n\nexport default Logo;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/Logo/index.jsx","import React from 'react';\n\nfunction NavBarChannelDropdown ({ channelName, handleSelection, defaultSelection, VIEW, LOGOUT }) {\n  return (\n    <select type='text' id='nav-bar-channel-select' className='select select--arrow link--nav' onChange={handleSelection} value={defaultSelection}>\n      <option id='nav-bar-channel-select-channel-option'>{channelName}</option>\n      <option value={VIEW}>View</option>\n      <option value={LOGOUT}>Logout</option>\n    </select>\n  );\n};\n\nexport default NavBarChannelDropdown;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/NavBarChannelOptionsDropdown/index.jsx","module.exports = require(\"cross-fetch/polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cross-fetch/polyfill\"\n// module id = 95\n// module chunks = 0","import {connect} from 'react-redux';\nimport View from './view';\n\nconst mapStateToProps = ({ publish }) => {\n  return {\n    file  : publish.file,\n    status: publish.status.status,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishTool/index.js","import React from 'react';\nimport Dropzone from 'containers/Dropzone';\nimport PublishDetails from 'containers/PublishDetails';\nimport PublishStatus from 'containers/PublishStatus';\n\nclass PublishTool extends React.Component {\n  render () {\n    if (this.props.file) {\n      if (this.props.status) {\n        return (\n          <PublishStatus />\n        );\n      } else {\n        return <PublishDetails />;\n      }\n    } else {\n      return <Dropzone />;\n    }\n  }\n};\n\nexport default PublishTool;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishTool/view.jsx","import React from 'react';\nimport { validateFile } from 'utils/file';\nimport Preview from 'components/Preview';\n\nclass Dropzone extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      dragOver  : false,\n      mouseOver : false,\n      dimPreview: false,\n    };\n    this.handleDrop = this.handleDrop.bind(this);\n    this.handleDragOver = this.handleDragOver.bind(this);\n    this.handleDragEnd = this.handleDragEnd.bind(this);\n    this.handleDragEnter = this.handleDragEnter.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleFileInput = this.handleFileInput.bind(this);\n    this.chooseFile = this.chooseFile.bind(this);\n  }\n  handleDrop (event) {\n    event.preventDefault();\n    this.setState({dragOver: false});\n    // if dropped items aren't files, reject them\n    const dt = event.dataTransfer;\n    if (dt.items) {\n      if (dt.items[0].kind === 'file') {\n        const droppedFile = dt.items[0].getAsFile();\n        this.chooseFile(droppedFile);\n      }\n    }\n  }\n  handleDragOver (event) {\n    event.preventDefault();\n  }\n  handleDragEnd (event) {\n    var dt = event.dataTransfer;\n    if (dt.items) {\n      for (var i = 0; i < dt.items.length; i++) {\n        dt.items.remove(i);\n      }\n    } else {\n      event.dataTransfer.clearData();\n    }\n  }\n  handleDragEnter () {\n    this.setState({dragOver: true, dimPreview: true});\n  }\n  handleDragLeave () {\n    this.setState({dragOver: false, dimPreview: false});\n  }\n  handleMouseEnter () {\n    this.setState({mouseOver: true, dimPreview: true});\n  }\n  handleMouseLeave () {\n    this.setState({mouseOver: false, dimPreview: false});\n  }\n  handleClick (event) {\n    event.preventDefault();\n    document.getElementById('file_input').click();\n  }\n  handleFileInput (event) {\n    event.preventDefault();\n    const fileList = event.target.files;\n    this.chooseFile(fileList[0]);\n  }\n  chooseFile (file) {\n    if (file) {\n      try {\n        validateFile(file); // validate the file's name, type, and size\n      } catch (error) {\n        return this.props.setFileError(error.message);\n      }\n      // stage it so it will be ready when the publish button is clicked\n      this.props.selectFile(file);\n    }\n  }\n  render () {\n    return (\n      <div className='row row--tall flex-container--column'>\n        <form>\n          <input className='input-file' type='file' id='file_input' name='file_input' accept='video/*,image/*' onChange={this.handleFileInput} encType='multipart/form-data' />\n        </form>\n        <div id='preview-dropzone' className={'row row--padded row--tall dropzone' + (this.state.dragOver ? ' dropzone--drag-over' : '')} onDrop={this.handleDrop} onDragOver={this.handleDragOver} onDragEnd={this.handleDragEnd} onDragEnter={this.handleDragEnter} onDragLeave={this.handleDragLeave} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave} onClick={this.handleClick}>\n          {this.props.file ? (\n            <div>\n              <Preview\n                dimPreview={this.state.dimPreview}\n                file={this.props.file}\n                thumbnail={this.props.thumbnail}\n              />\n              <div id='dropzone-text-holder' className={'flex-container--column flex-container--center-center'}>\n                { this.state.dragOver ? (\n                  <div id='dropzone-dragover'>\n                    <p className='blue'>Drop it.</p>\n                  </div>\n                ) : (\n                  null\n                )}\n                { this.state.mouseOver ? (\n                  <div id='dropzone-instructions'>\n                    <p className='info-message-placeholder info-message--failure' id='input-error-file-selection'>{this.props.fileError}</p>\n                    <p>Drag & drop image or video here to publish</p>\n                    <p className='fine-print'>OR</p>\n                    <p className='blue--underlined'>CHOOSE FILE</p>\n                  </div>\n                ) : (\n                  null\n                )}\n              </div>\n            </div>\n          ) : (\n            <div id='dropzone-text-holder' className={'flex-container--column flex-container--center-center'}>\n              { this.state.dragOver ? (\n                <div id='dropzone-dragover'>\n                  <p className='blue'>Drop it.</p>\n                </div>\n              ) : (\n                <div id='dropzone-instructions'>\n                  <p className='info-message-placeholder info-message--failure' id='input-error-file-selection'>{this.props.fileError}</p>\n                  <p>Drag & drop image or video here to publish</p>\n                  <p className='fine-print'>OR</p>\n                  <p className='blue--underlined'>CHOOSE FILE</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Dropzone;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/Dropzone/view.jsx","module.exports = {\n  validateFile (file) {\n    if (!file) {\n      throw new Error('no file provided');\n    }\n    if (/'/.test(file.name)) {\n      throw new Error('apostrophes are not allowed in the file name');\n    }\n    // validate size and type\n    switch (file.type) {\n      case 'image/jpeg':\n      case 'image/jpg':\n      case 'image/png':\n        if (file.size > 10000000) {\n          throw new Error('Sorry, images are limited to 10 megabytes.');\n        }\n        break;\n      case 'image/gif':\n        if (file.size > 50000000) {\n          throw new Error('Sorry, GIFs are limited to 50 megabytes.');\n        }\n        break;\n      case 'video/mp4':\n        if (file.size > 50000000) {\n          throw new Error('Sorry, videos are limited to 50 megabytes.');\n        }\n        break;\n      default:\n        throw new Error(file.type + ' is not a supported file type. Only, .jpeg, .png, .gif, and .mp4 files are currently supported.');\n    }\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/utils/file.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Preview extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      imgSource       : '',\n      defaultThumbnail: '/assets/img/video_thumb_default.png',\n    };\n  }\n  componentDidMount () {\n    this.setPreviewImageSource(this.props.file);\n  }\n  componentWillReceiveProps (newProps) {\n    if (newProps.file !== this.props.file) {\n      this.setPreviewImageSource(newProps.file);\n    }\n    if (newProps.thumbnail !== this.props.thumbnail) {\n      if (newProps.thumbnail) {\n        this.setPreviewImageSourceFromFile(newProps.thumbnail);\n      } else {\n        this.setState({imgSource: this.state.defaultThumbnail});\n      }\n    }\n  }\n  setPreviewImageSourceFromFile (file) {\n    const previewReader = new FileReader();\n    previewReader.readAsDataURL(file);\n    previewReader.onloadend = () => {\n      this.setState({imgSource: previewReader.result});\n    };\n  }\n  setPreviewImageSource (file) {\n    if (file.type !== 'video/mp4') {\n      this.setPreviewImageSourceFromFile(file);\n    } else {\n      if (this.props.thumbnail) {\n        this.setPreviewImageSourceFromFile(this.props.thumbnail);\n      }\n      this.setState({imgSource: this.state.defaultThumbnail});\n    }\n  }\n  render () {\n    return (\n      <img\n        id='dropzone-preview'\n        src={this.state.imgSource}\n        className={this.props.dimPreview ? 'dim' : ''}\n        alt='publish preview'\n      />\n    );\n  }\n};\n\nPreview.propTypes = {\n  dimPreview: PropTypes.bool.isRequired,\n  file      : PropTypes.object.isRequired,\n  thumbnail : PropTypes.object,\n};\n\nexport default Preview;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/Preview/index.jsx","import {connect} from 'react-redux';\nimport {clearFile, startPublish} from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ channel, publish }) => {\n  return {\n    file: publish.file,\n  };\n};\n\nconst mapDispatchToProps = {\n  clearFile,\n  startPublish,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishDetails/index.js","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Dropzone from 'containers/Dropzone';\nimport PublishTitleInput from 'containers/PublishTitleInput';\nimport PublishUrlInput from 'containers/PublishUrlInput';\nimport PublishThumbnailInput from 'containers/PublishThumbnailInput';\nimport PublishMetadataInputs from 'containers/PublishMetadataInputs';\nimport ChannelSelect from 'containers/ChannelSelect';\n\nclass PublishDetails extends React.Component {\n  constructor (props) {\n    super(props)\n    this.onPublishSubmit = this.onPublishSubmit.bind(this);\n  }\n  onPublishSubmit () {\n    this.props.startPublish(this.props.history);\n  }\n  render () {\n    return (\n      <div className='row row--no-bottom'>\n        <div className='column column--10'>\n          <PublishTitleInput />\n        </div>\n        {/* left column */}\n        <div className='column column--5 column--sml-10' >\n          <div className='row row--padded'>\n            <Dropzone />\n          </div>\n        </div>\n        {/* right column */}\n        <div className='column column--5 column--sml-10 align-content-top'>\n          <div id='publish-active-area' className='row row--padded'>\n            <div className='row row--padded row--no-top row--wide'>\n              <PublishUrlInput />\n            </div>\n            <div className='row row--padded row--no-top row--wide'>\n              <ChannelSelect />\n            </div>\n            { (this.props.file.type === 'video/mp4') && (\n              <div className='row row--padded row--no-top row--wide '>\n                <PublishThumbnailInput />\n              </div>\n            )}\n            <div className='row row--padded row--no-top row--no-bottom row--wide'>\n              <PublishMetadataInputs />\n            </div>\n            <div className='row row--wide align-content-center'>\n              <button id='publish-submit' className='button--primary button--large' onClick={this.onPublishSubmit}>Publish</button>\n            </div>\n            <div className='row row--padded row--no-bottom align-content-center'>\n              <button className='button--cancel' onClick={this.props.clearFile}>Cancel</button>\n            </div>\n            <div className='row row--short align-content-center'>\n              <p className='fine-print'>By clicking 'Publish', you affirm that you have the rights to publish this content to the LBRY network, and that you understand the properties of publishing it to a decentralized, user-controlled network. <a className='link--primary' target='_blank' href='https://lbry.io/learn'>Read more.</a></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default withRouter(PublishDetails);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishDetails/view.jsx","import {connect} from 'react-redux';\nimport {updateMetadata} from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ publish }) => {\n  return {\n    title: publish.metadata.title,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMetadataChange: (name, value) => {\n      dispatch(updateMetadata(name, value));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishTitleInput/index.js","import React from 'react';\n\nclass PublishTitleInput extends React.Component {\n  constructor (props) {\n    super(props);\n    this.handleInput = this.handleInput.bind(this);\n  }\n  handleInput (e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.props.onMetadataChange(name, value);\n  }\n  render () {\n    return (\n      <input type='text' id='publish-title' className='input-text text--large input-text--full-width' name='title' placeholder='Give your post a title...' onChange={this.handleInput} value={this.props.title} />\n    );\n  }\n}\n\nexport default PublishTitleInput;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishTitleInput/view.jsx","import {updateClaim, updateError} from 'actions/publish';\nimport {connect} from 'react-redux';\nimport View from './view';\n\nconst mapStateToProps = ({ channel, publish }) => {\n  return {\n    loggedInChannelName   : channel.loggedInChannel.name,\n    loggedInChannelShortId: channel.loggedInChannel.shortId,\n    fileName              : publish.file.name,\n    publishInChannel      : publish.publishInChannel,\n    selectedChannel       : publish.selectedChannel,\n    claim                 : publish.claim,\n    urlError              : publish.error.url,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onClaimChange: (value) => {\n      dispatch(updateClaim(value));\n      dispatch(updateError('publishSubmit', null));\n    },\n    onUrlError: (value) => {\n      dispatch(updateError('url', value));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishUrlInput/index.js","import React from 'react';\nimport request from 'utils/request';\nimport UrlMiddle from 'components/PublishUrlMiddleDisplay';\n\nclass PublishUrlInput extends React.Component {\n  constructor (props) {\n    super(props);\n    this.handleInput = this.handleInput.bind(this);\n  }\n  componentDidMount () {\n    const { claim, fileName } = this.props;\n    if (!claim) {\n      this.setClaimName(fileName);\n    }\n  }\n  componentWillReceiveProps ({ claim, fileName }) {\n    // if a new file was chosen, update the claim name\n    if (fileName !== this.props.fileName) {\n      return this.setClaimName(fileName);\n    }\n    // if the claim has updated, check its availability\n    if (claim !== this.props.claim) {\n      this.validateClaim(claim);\n    }\n  }\n  handleInput (event) {\n    let value = event.target.value;\n    value = this.cleanseInput(value);\n    // update the state\n    this.props.onClaimChange(value);\n  }\n  cleanseInput (input) {\n    input = input.replace(/\\s+/g, '-'); // replace spaces with dashes\n    input = input.replace(/[^A-Za-z0-9-]/g, '');  // remove all characters that are not A-Z, a-z, 0-9, or '-'\n    return input;\n  }\n  setClaimName (fileName) {\n    const fileNameWithoutEnding = fileName.substring(0, fileName.lastIndexOf('.'));\n    const cleanClaimName = this.cleanseInput(fileNameWithoutEnding);\n    this.props.onClaimChange(cleanClaimName);\n  }\n  validateClaim (claim) {\n    if (!claim) {\n      return this.props.onUrlError('Enter a url above');\n    }\n    request(`/api/claim/availability/${claim}`)\n      .then(() => {\n        this.props.onUrlError(null);\n      })\n      .catch((error) => {\n        this.props.onUrlError(error.message);\n      });\n  }\n  render () {\n    const { claim, loggedInChannelName, loggedInChannelShortId, publishInChannel, selectedChannel, urlError } = this.props;\n    return (\n      <div className='column column--10 column--sml-10'>\n        <div className='input-text--primary span--relative'>\n          <span className='url-text--secondary'>spee.ch / </span>\n          <UrlMiddle\n            publishInChannel={publishInChannel}\n            selectedChannel={selectedChannel}\n            loggedInChannelName={loggedInChannelName}\n            loggedInChannelShortId={loggedInChannelShortId}\n          />\n          <input type='text' id='claim-name-input' className='input-text' name='claim' placeholder='your-url-here' onChange={this.handleInput} value={claim} />\n          { (claim && !urlError) && <span id='input-success-claim-name' className='info-message--success span--absolute'>{'\\u2713'}</span> }\n          { urlError && <span id='input-success-channel-name' className='info-message--failure span--absolute'>{'\\u2716'}</span> }\n        </div>\n        <div>\n          { urlError ? (\n            <p id='input-error-claim-name' className='info-message--failure'>{urlError}</p>\n          ) : (\n            <p className='info-message'>Choose a custom url</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PublishUrlInput;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishUrlInput/view.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction UrlMiddle ({publishInChannel, selectedChannel, loggedInChannelName, loggedInChannelShortId}) {\n  if (publishInChannel) {\n    if (selectedChannel === loggedInChannelName) {\n      return <span id='url-channel' className='url-text--secondary'>{loggedInChannelName}:{loggedInChannelShortId} /</span>;\n    }\n    return <span id='url-channel-placeholder' className='url-text--secondary tooltip'>@channel<span\n      className='tooltip-text'>Select a channel below</span> /</span>;\n  }\n  return (\n    <span id='url-no-channel-placeholder' className='url-text--secondary tooltip'>xyz<span className='tooltip-text'>This will be a random id</span> /</span>\n  );\n}\n\nUrlMiddle.propTypes = {\n  publishInChannel      : PropTypes.bool.isRequired,\n  loggedInChannelName   : PropTypes.string,\n  loggedInChannelShortId: PropTypes.string,\n};\n\nexport default UrlMiddle;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/PublishUrlMiddleDisplay/index.jsx","import { connect } from 'react-redux';\nimport { onNewThumbnail } from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ publish: { file } }) => {\n  return {\n    file,\n  };\n};\n\nconst mapDispatchToProps = {\n  onNewThumbnail,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishThumbnailInput/index.js","import React from 'react';\n\nfunction dataURItoBlob(dataURI) {\n  // convert base64/URLEncoded data component to raw binary data held in a string\n  let byteString = atob(dataURI.split(',')[1]);\n  // separate out the mime component\n  let mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n  // write the bytes of the string to a typed array\n  let ia = new Uint8Array(byteString.length);\n  for (let i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], {type: mimeString});\n}\n\nclass PublishThumbnailInput extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      videoSource   : null,\n      error         : null,\n      sliderMinRange: 1,\n      sliderMaxRange: null,\n      sliderValue   : null,\n    };\n    this.handleVideoLoadedData = this.handleVideoLoadedData.bind(this);\n    this.handleSliderChange = this.handleSliderChange.bind(this);\n    this.createThumbnail = this.createThumbnail.bind(this);\n  }\n  componentDidMount () {\n    const { file } = this.props;\n    this.setVideoSource(file);\n  }\n  componentWillReceiveProps (nextProps) {\n    // if file changes\n    if (nextProps.file && nextProps.file !== this.props.file) {\n      const { file } = nextProps;\n      this.setVideoSource(file);\n    };\n  }\n  setVideoSource (file) {\n    const previewReader = new FileReader();\n    previewReader.readAsDataURL(file);\n    previewReader.onloadend = () => {\n      const dataUri = previewReader.result;\n      const blob = dataURItoBlob(dataUri);\n      const videoSource = URL.createObjectURL(blob);\n      this.setState({ videoSource });\n    };\n  }\n  handleVideoLoadedData (event) {\n    const duration = event.target.duration;\n    const totalMinutes = Math.floor(duration / 60);\n    const totalSeconds = Math.floor(duration % 60);\n    // set the slider\n    this.setState({\n      sliderMaxRange: duration * 100,\n      sliderValue   : duration * 100 / 2,\n      totalMinutes,\n      totalSeconds,\n    });\n    // update the current time of the video\n    let video = document.getElementById('video-thumb-player');\n    video.currentTime = duration / 2;\n  }\n  handleSliderChange (event) {\n    const value = parseInt(event.target.value);\n    // update the slider value\n    this.setState({\n      sliderValue: value,\n    });\n    // update the current time of the video\n    let video = document.getElementById('video-thumb-player');\n    video.currentTime = value / 100;\n  }\n  createThumbnail () {\n    // take a snapshot\n    let video = document.getElementById('video-thumb-player');\n    let canvas = document.createElement('canvas');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\n    const dataUrl = canvas.toDataURL();\n    const blob = dataURItoBlob(dataUrl);\n    const snapshot = new File([blob], `thumbnail.png`, {\n      type: 'image/png',\n    });\n    // set the thumbnail in redux store\n    if (snapshot) {\n      this.props.onNewThumbnail(snapshot);\n    }\n  }\n  render () {\n    const { error, videoSource, sliderMinRange, sliderMaxRange, sliderValue, totalMinutes, totalSeconds } = this.state;\n    return (\n      <div>\n        <label className='label'>Thumbnail:</label>\n        <video\n          id='video-thumb-player'\n          preload='metadata'\n          muted\n          style={{display: 'none'}}\n          playsInline\n          onLoadedData={this.handleVideoLoadedData}\n          src={videoSource}\n          onSeeked={this.createThumbnail}\n        />\n        {\n          sliderValue ? (\n            <div>\n              <div className='flex-container--row flex-container--space-between-center' style={{width: '100%'}}>\n                <span className='info-message'>0'00\"</span>\n                <span className='info-message'>{totalMinutes}'{totalSeconds}\"</span>\n              </div>\n              <div>\n                <input\n                  type='range'\n                  min={sliderMinRange}\n                  max={sliderMaxRange}\n                  value={sliderValue}\n                  className='slider'\n                  onChange={this.handleSliderChange}\n                />\n              </div>\n            </div>\n          ) : (\n            <p className='info-message' >loading... </p>\n          )\n        }\n        { error ? (\n          <p className='info-message--failure'>{error}</p>\n        ) : (\n          <p className='info-message'>Use slider to set thumbnail</p>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default PublishThumbnailInput;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishThumbnailInput/view.jsx","import {connect} from 'react-redux';\nimport {updateMetadata, toggleMetadataInputs} from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ publish }) => {\n  return {\n    showMetadataInputs: publish.showMetadataInputs,\n    description       : publish.metadata.description,\n    license           : publish.metadata.license,\n    nsfw              : publish.metadata.nsfw,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMetadataChange: (name, value) => {\n      dispatch(updateMetadata(name, value));\n    },\n    onToggleMetadataInputs: (value) => {\n      dispatch(toggleMetadataInputs(value));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishMetadataInputs/index.js","import React from 'react';\nimport ExpandingTextArea from 'components/ExpandingTextArea';\n\nclass PublishMetadataInputs extends React.Component {\n  constructor (props) {\n    super(props);\n    this.toggleShowInputs = this.toggleShowInputs.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n  toggleShowInputs () {\n    this.props.onToggleMetadataInputs(!this.props.showMetadataInputs);\n  }\n  handleInput (event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.props.onMetadataChange(name, value);\n  }\n  handleSelect (event) {\n    const name = event.target.name;\n    const selectedOption = event.target.selectedOptions[0].value;\n    this.props.onMetadataChange(name, selectedOption);\n  }\n  render () {\n    return (\n      <div id='publish-details' className='row row--padded row--no-top row--wide'>\n        {this.props.showMetadataInputs && (\n          <div>\n            <div className='row row--no-top'>\n              <div className='column column--3 column--med-10 align-content-top'>\n                <label htmlFor='publish-license' className='label'>Description:</label>\n              </div><div className='column column--7 column--sml-10'>\n                <ExpandingTextArea\n                  id='publish-description'\n                  className='textarea textarea--primary textarea--full-width'\n                  rows={1}\n                  maxLength={2000}\n                  style={{ maxHeight: 200 }}\n                  name='description'\n                  placeholder='Optional description'\n                  value={this.props.description}\n                  onChange={this.handleInput} />\n              </div>\n            </div>\n\n            <div className='row row--no-top'>\n              <div className='column column--3 column--med-10'>\n                <label htmlFor='publish-license' className='label'>License:</label>\n              </div><div className='column column--7 column--sml-10'>\n                <select type='text' name='license' id='publish-license' className='select select--primary' onChange={this.handleSelect}>\n                  <option value=' '>Unspecified</option>\n                  <option value='Public Domain'>Public Domain</option>\n                  <option value='Creative Commons'>Creative Commons</option>\n                </select>\n              </div>\n            </div>\n\n            <div className='row row--no-top'>\n              <div className='column column--3'>\n                <label htmlFor='publish-nsfw' className='label'>Mature:</label>\n              </div><div className='column column--7'>\n                <input className='input-checkbox' type='checkbox' id='publish-nsfw' name='nsfw' value={this.props.nsfw} onChange={this.handleInput} />\n              </div>\n            </div>\n          </div>\n        )}\n        <button className='button--secondary' onClick={this.toggleShowInputs}>{this.props.showMetadataInputs ? 'less' : 'more'}</button>\n      </div>\n    );\n  }\n}\n\nexport default PublishMetadataInputs;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishMetadataInputs/view.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ExpandingTextarea extends Component {\n  constructor (props) {\n    super(props);\n    this._handleChange = this._handleChange.bind(this);\n  }\n  componentDidMount () {\n    this.adjustTextarea({});\n  }\n  _handleChange (event) {\n    const { onChange } = this.props;\n    if (onChange) onChange(event);\n    this.adjustTextarea(event);\n  }\n  adjustTextarea ({ target = this.el }) {\n    target.style.height = 0;\n    target.style.height = `${target.scrollHeight}px`;\n  }\n  render () {\n    const { ...rest } = this.props;\n    return (\n      <textarea\n        {...rest}\n        ref={x => this.el = x}\n        onChange={this._handleChange}\n      />\n    );\n  }\n}\n\nExpandingTextarea.propTypes = {\n  onChange: PropTypes.func,\n};\n\nexport default ExpandingTextarea;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/ExpandingTextArea/index.jsx","import {connect} from 'react-redux';\nimport {setPublishInChannel, updateSelectedChannel, updateError} from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ channel, publish }) => {\n  return {\n    loggedInChannelName: channel.loggedInChannel.name,\n    publishInChannel   : publish.publishInChannel,\n    selectedChannel    : publish.selectedChannel,\n    channelError       : publish.error.channel,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onPublishInChannelChange: (value) => {\n      dispatch(updateError('channel', null));\n      dispatch(setPublishInChannel(value));\n    },\n    onChannelSelect: (value) => {\n      dispatch(updateError('channel', null));\n      dispatch(updateSelectedChannel(value));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelSelect/index.js","import React from 'react';\nimport ChannelLoginForm from 'containers/ChannelLoginForm';\nimport ChannelCreateForm from 'containers/ChannelCreateForm';\nimport * as states from 'constants/publish_channel_select_states';\n\nclass ChannelSelect extends React.Component {\n  constructor (props) {\n    super(props);\n    this.toggleAnonymousPublish = this.toggleAnonymousPublish.bind(this);\n    this.handleSelection = this.handleSelection.bind(this);\n  }\n  toggleAnonymousPublish (event) {\n    const value = event.target.value;\n    if (value === 'anonymous') {\n      this.props.onPublishInChannelChange(false);\n    } else {\n      this.props.onPublishInChannelChange(true);\n    }\n  }\n  handleSelection (event) {\n    const selectedOption = event.target.selectedOptions[0].value;\n    this.props.onChannelSelect(selectedOption);\n  }\n  render () {\n    return (\n      <div>\n        <form>\n          <div className='column column--3 column--med-10'>\n            <input type='radio' name='anonymous-or-channel' id='anonymous-radio' className='input-radio' value='anonymous' checked={!this.props.publishInChannel} onChange={this.toggleAnonymousPublish} />\n            <label className='label label--pointer' htmlFor='anonymous-radio'>Anonymous</label>\n          </div>\n          <div className='column column--7 column--med-10'>\n            <input type='radio' name='anonymous-or-channel' id='channel-radio' className='input-radio' value='in a channel' checked={this.props.publishInChannel} onChange={this.toggleAnonymousPublish} />\n            <label className='label label--pointer' htmlFor='channel-radio'>In a channel</label>\n          </div>\n          { this.props.channelError ? (\n            <p className='info-message--failure'>{this.props.channelError}</p>\n          ) : (\n            <p className='info-message'>Publish anonymously or in a channel</p>\n          )}\n        </form>\n        { this.props.publishInChannel && (\n          <div>\n            <div className='column column--3'>\n              <label className='label' htmlFor='channel-name-select'>Channel:</label>\n            </div><div className='column column--7'>\n              <select type='text' id='channel-name-select' className='select select--arrow' value={this.props.selectedChannel} onChange={this.handleSelection}>\n                { this.props.loggedInChannelName && <option value={this.props.loggedInChannelName} id='publish-channel-select-channel-option'>{this.props.loggedInChannelName}</option> }\n                <option value={states.LOGIN}>Existing</option>\n                <option value={states.CREATE}>New</option>\n              </select>\n            </div>\n            { (this.props.selectedChannel === states.LOGIN) && <ChannelLoginForm /> }\n            { (this.props.selectedChannel === states.CREATE) && <ChannelCreateForm /> }\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ChannelSelect;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelSelect/view.jsx","import React from 'react';\nimport request from 'utils/request';\n\nclass ChannelLoginForm extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      error   : null,\n      name    : '',\n      password: '',\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.loginToChannel = this.loginToChannel.bind(this);\n  }\n  handleInput (event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({[name]: value});\n  }\n  loginToChannel (event) {\n    event.preventDefault();\n    const params = {\n      method : 'POST',\n      body   : JSON.stringify({username: this.state.name, password: this.state.password}),\n      headers: new Headers({\n        'Content-Type': 'application/json',\n      }),\n      credentials: 'include',\n    };\n    request('login', params)\n      .then(({success, channelName, shortChannelId, channelClaimId, message}) => {\n        if (success) {\n          this.props.onChannelLogin(channelName, shortChannelId, channelClaimId);\n        } else {\n          this.setState({'error': message});\n        };\n      })\n      .catch(error => {\n        if (error.message) {\n          this.setState({'error': error.message});\n        } else {\n          this.setState({'error': error});\n        }\n      });\n  }\n  render () {\n    return (\n      <form id='channel-login-form'>\n        <div className='row row--wide row--short'>\n          <div className='column column--3 column--sml-10'>\n            <label className='label' htmlFor='channel-login-name-input'>Name:</label>\n          </div><div className='column column--6 column--sml-10'>\n            <div className='input-text--primary flex-container--row flex-container--left-bottom'>\n              <span>@</span>\n              <input type='text' id='channel-login-name-input' className='input-text' name='name' placeholder='Your Channel Name' value={this.state.channelName} onChange={this.handleInput} />\n            </div>\n          </div>\n        </div>\n        <div className='row row--wide row--short'>\n          <div className='column column--3 column--sml-10'>\n            <label className='label' htmlFor='channel-login-password-input' >Password:</label>\n          </div><div className='column column--6 column--sml-10'>\n            <div className='input-text--primary'>\n              <input type='password' id='channel-login-password-input' name='password' className='input-text' placeholder='' value={this.state.channelPassword} onChange={this.handleInput} />\n            </div>\n          </div>\n        </div>\n        { this.state.error ? (\n          <p className='info-message--failure'>{this.state.error}</p>\n        ) : (\n          <p className='info-message'>Enter the name and password for your channel</p>\n        )}\n        <div className='row row--wide'>\n          <button className='button--primary' onClick={this.loginToChannel}>Authenticate</button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default ChannelLoginForm;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelLoginForm/view.jsx","import React from 'react';\nimport ProgressBar from 'components/ProgressBar';\nimport request from 'utils/request';\n\nclass ChannelCreateForm extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      error   : null,\n      channel : '',\n      password: '',\n      status  : null,\n    };\n    this.handleChannelInput = this.handleChannelInput.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.createChannel = this.createChannel.bind(this);\n  }\n  cleanseChannelInput (input) {\n    input = input.replace(/\\s+/g, '-'); // replace spaces with dashes\n    input = input.replace(/[^A-Za-z0-9-]/g, '');  // remove all characters that are not A-Z, a-z, 0-9, or '-'\n    return input;\n  }\n  handleChannelInput (event) {\n    let value = event.target.value;\n    value = this.cleanseChannelInput(value);\n    this.setState({channel: value});\n    if (value) {\n      this.updateIsChannelAvailable(value);\n    } else {\n      this.setState({error: 'Please enter a channel name'});\n    }\n  }\n  handleInput (event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({[name]: value});\n  }\n  updateIsChannelAvailable (channel) {\n    const channelWithAtSymbol = `@${channel}`;\n    request(`/api/channel/availability/${channelWithAtSymbol}`)\n      .then(isAvailable => {\n        if (isAvailable) {\n          this.setState({'error': null});\n        } else {\n          this.setState({'error': 'That channel has already been claimed'});\n        }\n      })\n      .catch((error) => {\n        this.setState({'error': error.message});\n      });\n  }\n  checkIsChannelAvailable (channel) {\n    const channelWithAtSymbol = `@${channel}`;\n    return new Promise((resolve, reject) => {\n      request(`/api/channel/availability/${channelWithAtSymbol}`)\n        .then(isAvailable => {\n          if (!isAvailable) {\n            return reject(new Error('That channel has already been claimed'));\n          }\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n  checkIsPasswordProvided () {\n    const password = this.state.password;\n    return new Promise((resolve, reject) => {\n      if (!password || password.length < 1) {\n        return reject(new Error('Please provide a password'));\n      }\n      resolve();\n    });\n  }\n  makePublishChannelRequest (username, password) {\n    const params = {\n      method : 'POST',\n      body   : JSON.stringify({username, password}),\n      headers: new Headers({\n        'Content-Type': 'application/json',\n      }),\n      credentials: 'include',\n    };\n    return new Promise((resolve, reject) => {\n      request('/signup', params)\n        .then(result => {\n          return resolve(result);\n        })\n        .catch(error => {\n          reject(new Error(`Unfortunately, we encountered an error while creating your channel. Please let us know in Discord! ${error.message}`));\n        });\n    });\n  }\n  createChannel (event) {\n    event.preventDefault();\n    this.checkIsPasswordProvided()\n      .then(() => {\n        return this.checkIsChannelAvailable(this.state.channel, this.state.password);\n      })\n      .then(() => {\n        this.setState({status: 'We are publishing your new channel.  Sit tight...'});\n        return this.makePublishChannelRequest(this.state.channel, this.state.password);\n      })\n      .then(result => {\n        this.setState({status: null});\n        this.props.onChannelLogin(result.channelName, result.shortChannelId, result.channelClaimId);\n      })\n      .catch((error) => {\n        this.setState({'error': error.message, status: null});\n      });\n  }\n  render () {\n    return (\n      <div>\n        { !this.state.status ? (\n          <form id='publish-channel-form'>\n            <div className='row row--wide row--short'>\n              <div className='column column--3 column--sml-10'>\n                <label className='label' htmlFor='new-channel-name'>Name:</label>\n              </div><div className='column column--6 column--sml-10'>\n                <div className='input-text--primary flex-container--row flex-container--left-bottom span--relative'>\n                  <span>@</span>\n                  <input type='text' name='channel' id='new-channel-name' className='input-text' placeholder='exampleChannelName' value={this.state.channel} onChange={this.handleChannelInput} />\n                  { (this.state.channel && !this.state.error) && <span id='input-success-channel-name' className='info-message--success span--absolute'>{'\\u2713'}</span> }\n                  { this.state.error && <span id='input-success-channel-name' className='info-message--failure span--absolute'>{'\\u2716'}</span> }\n                </div>\n              </div>\n            </div>\n            <div className='row row--wide row--short'>\n              <div className='column column--3 column--sml-10'>\n                <label className='label' htmlFor='new-channel-password'>Password:</label>\n              </div><div className='column column--6 column--sml-10'>\n                <div className='input-text--primary'>\n                  <input type='password' name='password' id='new-channel-password' className='input-text'  placeholder='' value={this.state.password} onChange={this.handleInput} />\n                </div>\n              </div>\n            </div>\n            {this.state.error ? (\n              <p className='info-message--failure'>{this.state.error}</p>\n            ) : (\n              <p className='info-message'>Choose a name and password for your channel</p>\n            )}\n            <div className='row row--wide'>\n              <button className='button--primary' onClick={this.createChannel}>Create Channel</button>\n            </div>\n          </form>\n        ) : (\n          <div>\n            <p className='fine-print'>{this.state.status}</p>\n            <ProgressBar size={12} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ChannelCreateForm;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelCreateForm/view.jsx","import React from 'react';\n\nconst ActiveStatusBar = () => {\n  return <span className='progress-bar progress-bar--active'>| </span>;\n};\n\nexport default ActiveStatusBar;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/ActiveStatusBar/index.jsx","import React from 'react';\n\nconst InactiveStatusBar = () => {\n  return <span className='progress-bar progress-bar--inactive'>| </span>;\n};\n\nexport default InactiveStatusBar;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/InactiveStatusBar/index.jsx","import {connect} from 'react-redux';\nimport {clearFile} from 'actions/publish';\nimport View from './view';\n\nconst mapStateToProps = ({ publish }) => {\n  return {\n    status : publish.status.status,\n    message: publish.status.message,\n  };\n};\n\nconst mapDispatchToProps = {\n  clearFile,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishStatus/index.js","import React from 'react';\nimport ProgressBar from 'components/ProgressBar';\nimport * as publishStates from 'constants/publish_claim_states';\n\nclass PublishStatus extends React.Component {\n  render () {\n    const { status, message, clearFile } = this.props;\n    return (\n      <div className='row row--tall flex-container--column flex-container--center-center'>\n        {status === publishStates.LOAD_START &&\n        <div className='row align-content-center'>\n          <p>File is loading to server</p>\n          <p className='blue'>0%</p>\n        </div>\n        }\n        {status === publishStates.LOADING &&\n        <div>\n          <div className='row align-content-center'>\n            <p>File is loading to server</p>\n            <p className='blue'>{message}</p>\n          </div>\n        </div>\n        }\n        {status === publishStates.PUBLISHING &&\n        <div className='row align-content-center'>\n          <p>Upload complete.  Your file is now being published on the blockchain...</p>\n          <ProgressBar size={12} />\n          <p>Curious what magic is happening here? <a className='link--primary' target='blank' href='https://lbry.io/faq/what-is-lbry'>Learn more.</a></p>\n        </div>\n        }\n        {status === publishStates.SUCCESS &&\n        <div className='row align-content-center'>\n          <p>Your publish is complete! You are being redirected to it now.</p>\n          <p>If you are not automatically redirected, <a className='link--primary' target='_blank' href={message}>click here.</a></p>\n        </div>\n        }\n        {status === publishStates.FAILED &&\n        <div className='row align-content-center'>\n          <p>Something went wrong...</p>\n          <p><strong>{message}</strong></p>\n          <p>For help, post the above error text in the #speech channel on the <a className='link--primary' href='https://discord.gg/YjYbwhS' target='_blank'>lbry discord</a></p>\n          <button className='button--secondary' onClick={clearFile}>Reset</button>\n        </div>\n        }\n      </div>\n    );\n  }\n};\n\nexport default PublishStatus;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/PublishStatus/view.jsx","export const LOAD_START = 'LOAD_START';\nexport const LOADING = 'LOADING';\nexport const PUBLISHING = 'PUBLISHING';\nexport const SUCCESS = 'SUCCESS';\nexport const FAILED = 'FAILED';\n\n\n\n// WEBPACK FOOTER //\n// ./react/constants/publish_claim_states.js","import React from 'react';\nimport NavBar from 'containers/NavBar';\nimport SEO from 'components/SEO';\n\nclass AboutPage extends React.Component {\n  render () {\n    return (\n      <div>\n        <SEO pageTitle={'About'} pageUri={'about'} />\n        <NavBar />\n        <div className='row row--padded'>\n          <div className='column column--5 column--med-10 align-content-top'>\n            <div className='column column--8 column--med-10'>\n              <p className='pull-quote'>Spee.ch is an open-source project.  Please contribute to the existing site, or fork it and make your own.</p>\n              <p><a className='link--primary' target='_blank' href='https://twitter.com/spee_ch'>TWITTER</a></p>\n              <p><a className='link--primary' target='_blank' href='https://github.com/lbryio/spee.ch'>GITHUB</a></p>\n              <p><a className='link--primary' target='_blank' href='https://discord.gg/YjYbwhS'>DISCORD CHANNEL</a></p>\n              <p><a className='link--primary' target='_blank' href='https://github.com/lbryio/spee.ch/blob/master/README.md'>DOCUMENTATION</a></p>\n            </div>\n          </div><div className='column column--5 column--med-10 align-content-top'>\n            <div className='column column--8 column--med-10'>\n              <p>Spee.ch is a media-hosting site that reads from and publishes content to the <a className='link--primary' href='https://lbry.io'>LBRY</a> blockchain.</p>\n              <p>Spee.ch is a hosting service, but with the added benefit that it stores your content on a decentralized network of computers -- the LBRY network.  This means that your images are stored in multiple locations without a single point of failure.</p>\n              <h3>Contribute</h3>\n              <p>If you have an idea for your own spee.ch-like site on top of LBRY, fork our <a className='link--primary' href='https://github.com/lbryio/spee.ch'>github repo</a> and go to town!</p>\n              <p>If you want to improve spee.ch, join our <a className='link--primary' href='https://discord.gg/YjYbwhS'>discord channel</a> or solve one of our <a className='link--primary' href='https://github.com/lbryio/spee.ch/issues'>github issues</a>.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default AboutPage;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/AboutPage/index.jsx","import {connect} from 'react-redux';\nimport View from './view';\n\nconst mapStateToProps = ({ channel }) => {\n  return {\n    loggedInChannelName: channel.loggedInChannel.name,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/LoginPage/index.js","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SEO from 'components/SEO';\nimport NavBar from 'containers/NavBar';\nimport ChannelLoginForm from 'containers/ChannelLoginForm';\nimport ChannelCreateForm from 'containers/ChannelCreateForm';\n\nclass LoginPage extends React.Component {\n  componentWillReceiveProps (newProps) {\n    // re-route the user to the homepage if the user is logged in\n    if (newProps.loggedInChannelName !== this.props.loggedInChannelName) {\n      this.props.history.push(`/`);\n    }\n  }\n  render () {\n    return (\n      <div>\n        <SEO pageTitle={'Login'} pageUri={'login'} />\n        <NavBar />\n        <div className='row row--padded'>\n          <div className='column column--5 column--med-10 align-content-top'>\n            <div className='column column--8 column--med-10'>\n              <p>Channels allow you to publish and group content under an identity. You can create a channel for yourself, or share one with like-minded friends.  You can create 1 channel, or 100, so whether you're <a className='link--primary' target='_blank' href='/@catalonia2017:43dcf47163caa21d8404d9fe9b30f78ef3e146a8'>documenting important events</a>, or making a public repository for <a className='link--primary' target='_blank' href='/@catGifs'>cat gifs</a> (password: '1234'), try creating a channel for it!</p>\n            </div>\n          </div><div className='column column--5 column--med-10 align-content-top'>\n            <div className='column column--8 column--med-10'>\n              <h3 className='h3--no-bottom'>Log in to an existing channel:</h3>\n              <ChannelLoginForm />\n              <h3 className='h3--no-bottom'>Create a brand new channel:</h3>\n              <ChannelCreateForm />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default withRouter(LoginPage);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/LoginPage/view.jsx","import { connect } from 'react-redux';\nimport { onHandleShowPageUri } from 'actions/show';\nimport View from './view';\n\nconst mapStateToProps = ({ show }) => {\n  return {\n    error      : show.request.error,\n    requestType: show.request.type,\n  };\n};\n\nconst mapDispatchToProps = {\n  onHandleShowPageUri,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowPage/index.js","import React from 'react';\nimport ErrorPage from 'components/ErrorPage';\nimport ShowAssetLite from 'containers/ShowAssetLite';\nimport ShowAssetDetails from 'containers/ShowAssetDetails';\nimport ShowChannel from 'containers/ShowChannel';\n\nimport { CHANNEL, ASSET_LITE, ASSET_DETAILS } from 'constants/show_request_types';\n\nclass ShowPage extends React.Component {\n  componentDidMount () {\n    this.props.onHandleShowPageUri(this.props.match.params);\n  }\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.match.params !== this.props.match.params) {\n      this.props.onHandleShowPageUri(nextProps.match.params);\n    }\n  }\n  render () {\n    const { error, requestType } = this.props;\n    if (error) {\n      return (\n        <ErrorPage error={error} />\n      );\n    }\n    switch (requestType) {\n      case CHANNEL:\n        return <ShowChannel />;\n      case ASSET_LITE:\n        return <ShowAssetLite />;\n      case ASSET_DETAILS:\n        return <ShowAssetDetails />;\n      default:\n        return <p>loading...</p>;\n    }\n  }\n};\n\nexport default ShowPage;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowPage/view.jsx","import { connect } from 'react-redux';\nimport View from './view';\n\nconst mapStateToProps = ({ show }) => {\n  // select request info\n  const requestId = show.request.id;\n  // select asset info\n  let asset;\n  const request = show.requestList[requestId] || null;\n  const assetList = show.assetList;\n  if (request && assetList) {\n    const assetKey = request.key;  // note: just store this in the request\n    asset = assetList[assetKey] || null;\n  };\n  // return props\n  return {\n    asset,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowAssetLite/index.js","import React from 'react';\nimport SEO from 'components/SEO';\nimport { Link } from 'react-router-dom';\nimport AssetDisplay from 'containers/AssetDisplay';\n\nclass ShowLite extends React.Component {\n  render () {\n    const { asset } = this.props;\n    if (asset) {\n      const { name, claimId } = asset.claimData;\n      return (\n        <div className='row row--tall flex-container--column flex-container--center-center show-lite-container'>\n          <SEO pageTitle={name} asset={asset} />\n          <AssetDisplay />\n          <Link id='asset-boilerpate' className='link--primary fine-print' to={`/${claimId}/${name}`}>hosted\n            via Spee.ch</Link>\n        </div>\n      );\n    }\n    return (\n      <div className='row row--tall row--padded flex-container--column flex-container--center-center'>\n        <p>loading asset data...</p>\n      </div>\n    );\n  }\n};\n\nexport default ShowLite;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowAssetLite/view.jsx","import React from 'react';\nimport ProgressBar from 'components/ProgressBar';\nimport { LOCAL_CHECK, UNAVAILABLE, ERROR, AVAILABLE } from 'constants/asset_display_states';\n\nclass AssetDisplay extends React.Component {\n  componentDidMount () {\n    const { asset: { claimData: { name, claimId } } } = this.props;\n    this.props.onFileRequest(name, claimId);\n  }\n  render () {\n    const { status, error, asset: { claimData: { name, claimId, contentType, fileExt, thumbnail } } } = this.props;\n    return (\n      <div id='asset-display-component'>\n        {(status === LOCAL_CHECK) &&\n        <div>\n          <p>Checking to see if Spee.ch has your asset locally...</p>\n        </div>\n        }\n        {(status === UNAVAILABLE) &&\n        <div>\n          <p>Sit tight, we're searching the LBRY blockchain for your asset!</p>\n          <ProgressBar size={12} />\n          <p>Curious what magic is happening here? <a className='link--primary' target='blank' href='https://lbry.io/faq/what-is-lbry'>Learn more.</a></p>\n        </div>\n        }\n        {(status === ERROR) &&\n        <div>\n          <p>Unfortunately, we couldn't download your asset from LBRY.  You can help us out by sharing the below error message in the <a className='link--primary' href='https://discord.gg/YjYbwhS' target='_blank'>LBRY discord</a>.</p>\n          <i><p id='error-message'>{error}</p></i>\n        </div>\n        }\n        {(status === AVAILABLE) &&\n        (() => {\n          switch (contentType) {\n            case 'image/jpeg':\n            case 'image/jpg':\n            case 'image/png':\n              return (\n                <img\n                  className='asset'\n                  src={`/${claimId}/${name}.${fileExt}`}\n                  alt={name} />\n              );\n            case 'image/gif':\n              return (\n                <img\n                  className='asset'\n                  src={`/${claimId}/${name}.${fileExt}`}\n                  alt={name}\n                />\n              );\n            case 'video/mp4':\n              return (\n                <video className='asset video' controls poster={thumbnail}>\n                  <source\n                    src={`/${claimId}/${name}.${fileExt}`}\n                  />\n                  <p>Your browser does not support the <code>video</code> element.</p>\n                </video>\n              );\n            default:\n              return (\n                <p>Unsupported file type</p>\n              );\n          }\n        })()\n        }\n      </div>\n    );\n  }\n};\n\nexport default AssetDisplay;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/AssetDisplay/view.jsx","import { connect } from 'react-redux';\nimport View from './view';\n\nconst mapStateToProps = ({ show }) => {\n  // select request info\n  const requestId = show.request.id;\n  // select asset info\n  let asset;\n  const request = show.requestList[requestId] || null;\n  const assetList = show.assetList;\n  if (request && assetList) {\n    const assetKey = request.key;  // note: just store this in the request\n    asset = assetList[assetKey] || null;\n  };\n  // return props\n  return {\n    asset,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowAssetDetails/index.js","import React from 'react';\nimport SEO from 'components/SEO';\nimport NavBar from 'containers/NavBar';\nimport ErrorPage from 'components/ErrorPage';\nimport AssetTitle from 'containers/AssetTitle';\nimport AssetDisplay from 'containers/AssetDisplay';\nimport AssetInfo from 'containers/AssetInfo';\n\nclass ShowAssetDetails extends React.Component {\n  render () {\n    const { asset } = this.props;\n    if (asset) {\n      const { claimData: { name } } = asset;\n      return (\n        <div>\n          <SEO pageTitle={`${name} - details`} asset={asset} />\n          <NavBar />\n          <div className='row row--tall row--padded'>\n            <div className='column column--10'>\n              <AssetTitle />\n            </div>\n            <div className='column column--5 column--sml-10 align-content-top'>\n              <div className='row row--padded show-details-container'>\n                <AssetDisplay />\n              </div>\n            </div><div className='column column--5 column--sml-10 align-content-top'>\n              <div className='row row--padded'>\n                <AssetInfo />\n              </div>\n            </div>\n          </div>\n          }\n        </div>\n      );\n    };\n    return (\n      <ErrorPage error={'loading asset data...'} />\n    );\n  }\n};\n\nexport default ShowAssetDetails;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowAssetDetails/view.jsx","import { connect } from 'react-redux';\nimport View from './view';\nimport { selectAsset } from 'selectors/show';\n\nconst mapStateToProps = ({ show }) => {\n  const { claimData: { title } } = selectAsset(show);\n  return {\n    title,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/AssetTitle/index.js","import React from 'react';\n\nconst AssetTitle = ({ title }) => {\n  return (\n    <div>\n      <span className='text--large'>{title}</span>\n    </div>\n  );\n};\n\nexport default AssetTitle;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/AssetTitle/view.jsx","import { connect } from 'react-redux';\nimport View from './view';\nimport { selectAsset } from 'selectors/show';\n\nconst mapStateToProps = ({ show }) => {\n  // select asset\n  const asset = selectAsset(show);\n  //  return props\n  return {\n    asset,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/AssetInfo/index.js","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass AssetInfo extends React.Component {\n  constructor (props) {\n    super(props);\n    this.copyToClipboard = this.copyToClipboard.bind(this);\n  }\n  copyToClipboard (event) {\n    var elementToCopy = event.target.dataset.elementtocopy;\n    var element = document.getElementById(elementToCopy);\n    element.select();\n    try {\n      document.execCommand('copy');\n    } catch (err) {\n      this.setState({error: 'Oops, unable to copy'});\n    }\n  }\n  render () {\n    const { asset: { shortId, claimData : { channelName, certificateId, description, name, claimId, fileExt, contentType, thumbnail, host } } } = this.props;\n    return (\n      <div>\n        {channelName &&\n        <div className='row row--padded row--wide row--no-top'>\n          <div className='column column--2 column--med-10'>\n            <span className='text'>Channel:</span>\n          </div>\n          <div className='column column--8 column--med-10'>\n            <span className='text'><Link to={`/${channelName}:${certificateId}`}>{channelName}</Link></span>\n          </div>\n        </div>\n        }\n\n        {description &&\n        <div className='row row--padded row--wide row--no-top'>\n          <span className='text'>{description}</span>\n        </div>\n        }\n\n        <div id='show-share-buttons'>\n          <div className='row row--padded row--wide row--no-top'>\n            <div className='column column--2 column--med-10'>\n              <span className='text'>Share:</span>\n            </div>\n            <div className='column column--8 column--med-10'>\n              <div\n                className='row row--short row--wide flex-container--row flex-container--space-between-bottom flex-container--wrap'>\n                <a className='link--primary' target='_blank' href={`https://twitter.com/intent/tweet?text=${host}/${shortId}/${name}`}>twitter</a>\n                <a className='link--primary' target='_blank' href={`https://www.facebook.com/sharer/sharer.php?u=${host}/${shortId}/${name}`}>facebook</a>\n                <a className='link--primary' target='_blank' href={`http://tumblr.com/widgets/share/tool?canonicalUrl=${host}/${shortId}/${name}`}>tumblr</a>\n                <a className='link--primary' target='_blank' href={`https://www.reddit.com/submit?url=${host}/${shortId}/${name}&title=${name}`}>reddit</a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='row row--padded row--wide row--no-top'>\n          <div id='show-short-link'>\n            <div className='column column--2 column--med-10'>\n              <span className='text'>Link:</span>\n            </div>\n            <div className='column column--8 column--med-10'>\n              <div className='row row--short row--wide'>\n                <div className='column column--7'>\n                  <div className='input-error' id='input-error-copy-short-link' hidden='true'>error here</div>\n                  <input type='text' id='short-link' className='input-disabled input-text--full-width' readOnly\n                    spellCheck='false'\n                    value={`${host}/${shortId}/${name}.${fileExt}`}\n                    onClick={this.select} />\n                </div>\n                <div className='column column--1' />\n                <div className='column column--2'>\n                  <button className='button--primary button--wide' data-elementtocopy='short-link'\n                    onClick={this.copyToClipboard}>copy\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div id='show-embed-code'>\n            <div className='column column--2 column--med-10'>\n              <span className='text'>Embed:</span>\n            </div>\n            <div className='column column--8 column--med-10'>\n              <div className='row row--short row--wide'>\n                <div className='column column--7'>\n                  <div className='input-error' id='input-error-copy-embed-text' hidden='true'>error here</div>\n                  {(contentType === 'video/mp4') ? (\n                    <input type='text' id='embed-text' className='input-disabled input-text--full-width' readOnly\n                      onClick={this.select} spellCheck='false'\n                      value={`<video width=\"100%\" controls poster=\"${thumbnail}\" src=\"${host}/${claimId}/${name}.${fileExt}\"/></video>`} />\n                  ) : (\n                    <input type='text' id='embed-text' className='input-disabled input-text--full-width' readOnly\n                      onClick={this.select} spellCheck='false'\n                      value={`<img src=\"${host}/${claimId}/${name}.${fileExt}\"/>`}\n                    />\n                  )}\n                </div>\n                <div className='column column--1' />\n                <div className='column column--2'>\n                  <button className='button--primary button--wide' data-elementtocopy='embed-text'\n                    onClick={this.copyToClipboard}>copy\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className='flex-container--row flex-container--space-between-bottom'>\n          <Link className='link--primary' to={`/${shortId}/${name}.${fileExt}`}><span\n            className='text'>Direct Link</span></Link>\n          <a className='link--primary' href={`${host}/${claimId}/${name}.${fileExt}`} download={name}>Download</a>\n          <a className='link--primary' target='_blank' href='https://lbry.io/dmca'>Report</a>\n        </div>\n\n      </div>\n    );\n  }\n};\n\nexport default AssetInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/AssetInfo/view.jsx","import { connect } from 'react-redux';\nimport View from './view';\n\nconst mapStateToProps = ({ show }) => {\n  // select request info\n  const requestId = show.request.id;\n  // select request\n  const previousRequest = show.requestList[requestId] || null;\n  // select channel\n  let channel;\n  if (previousRequest) {\n    const channelKey = previousRequest.key;\n    channel = show.channelList[channelKey] || null;\n  }\n  return {\n    channel,\n  };\n};\n\nexport default connect(mapStateToProps, null)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowChannel/index.js","import React from 'react';\nimport SEO from 'components/SEO';\nimport ErrorPage from 'components/ErrorPage';\nimport NavBar from 'containers/NavBar';\nimport ChannelClaimsDisplay from 'containers/ChannelClaimsDisplay';\n\nclass ShowChannel extends React.Component {\n  render () {\n    const { channel } = this.props;\n    if (channel) {\n      const { name, longId, shortId } = channel;\n      return (\n        <div>\n          <SEO pageTitle={name} channel={channel} />\n          <NavBar />\n          <div className='row row--tall row--padded'>\n            <div className='column column--10'>\n              <h2>channel name: {name}</h2>\n              <p className={'fine-print'}>full channel id: {longId}</p>\n              <p className={'fine-print'}>short channel id: {shortId}</p>\n            </div>\n            <div className='column column--10'>\n              <ChannelClaimsDisplay />\n            </div>\n          </div>\n        </div>\n      );\n    };\n    return (\n      <ErrorPage error={'loading channel data...'} />\n    );\n  }\n};\n\nexport default ShowChannel;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ShowChannel/view.jsx","import { connect } from 'react-redux';\nimport { onUpdateChannelClaims } from 'actions/show';\nimport View from './view';\n\nconst mapStateToProps = ({ show }) => {\n  // select channel key\n  const request = show.requestList[show.request.id];\n  const channelKey = request.key;\n  // select channel claims\n  const channel = show.channelList[channelKey] || null;\n  // return props\n  return {\n    channelKey,\n    channel,\n  };\n};\n\nconst mapDispatchToProps = {\n  onUpdateChannelClaims,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelClaimsDisplay/index.js","import React from 'react';\nimport AssetPreview from 'components/AssetPreview';\n\nclass ChannelClaimsDisplay extends React.Component {\n  constructor (props) {\n    super(props);\n    this.showNextResultsPage = this.showNextResultsPage.bind(this);\n    this.showPreviousResultsPage = this.showPreviousResultsPage.bind(this);\n  }\n  showPreviousResultsPage () {\n    const { channel: { claimsData: { currentPage } } } = this.props;\n    const previousPage = parseInt(currentPage) - 1;\n    this.showNewPage(previousPage);\n  }\n  showNextResultsPage () {\n    const { channel: { claimsData: { currentPage } } } = this.props;\n    const nextPage = parseInt(currentPage) + 1;\n    this.showNewPage(nextPage);\n  }\n  showNewPage (page) {\n    const { channelKey, channel: { name, longId } } = this.props;\n    this.props.onUpdateChannelClaims(channelKey, name, longId, page);\n  }\n  render () {\n    const { channel: { claimsData: { claims, currentPage, totalPages } } } = this.props;\n    return (\n      <div className='row row--tall'>\n        {(claims.length > 0) ? (\n          <div>\n            {claims.map((claim, index) => <AssetPreview\n              claimData={claim}\n              key={`${claim.name}-${index}`}\n            />)}\n            <div>\n              {(currentPage > 1) &&\n              <button className={'button--secondary'} onClick={this.showPreviousResultsPage}>Previous Page</button>\n              }\n              {(currentPage < totalPages) &&\n              <button className={'button--secondary'} onClick={this.showNextResultsPage}>Next Page</button>\n              }\n            </div>\n          </div>\n        ) : (\n          <p>There are no claims in this channel</p>\n        )}\n      </div>\n    );\n  }\n};\n\nexport default ChannelClaimsDisplay;\n\n\n\n// WEBPACK FOOTER //\n// ./react/containers/ChannelClaimsDisplay/view.jsx","import React from 'react';\nimport { Link } from 'react-router-dom';\nconst { claim: { defaultThumbnail } } = require('../../../config/speechConfig.js');\n\nconst AssetPreview = ({ claimData: { name, claimId, fileExt, contentType, thumbnail } }) => {\n  const directSourceLink = `${claimId}/${name}.${fileExt}`;\n  const showUrlLink = `/${claimId}/${name}`;\n  return (\n    <div className='asset-holder'>\n      <Link to={showUrlLink} >\n        {(() => {\n          switch (contentType) {\n            case 'image/jpeg':\n            case 'image/jpg':\n            case 'image/png':\n            case 'image/gif':\n              return (\n                <img\n                  className={'asset-preview'}\n                  src={directSourceLink}\n                  alt={name}\n                />\n              );\n            case 'video/mp4':\n              return (\n                <img\n                  className={'asset-preview video'}\n                  src={thumbnail || defaultThumbnail}\n                  alt={name}\n                />\n              );\n            default:\n              return (\n                <p>unsupported file type</p>\n              );\n          }\n        })()}\n      </Link>\n    </div>\n  );\n};\n\nexport default AssetPreview;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/AssetPreview/index.jsx","import React from 'react';\nimport NavBar from 'containers/NavBar';\nimport Helmet from 'react-helmet';\nconst { site: { title, host } } = require('../../../config/speechConfig.js');\n\nclass FourOhForPage extends React.Component {\n  render () {\n    return (\n      <div>\n        <Helmet>\n          <title>{title} - 404</title>\n          <link rel='canonical' href={`${host}/404`} />\n        </Helmet>\n        <NavBar />\n        <div className='row row--padded'>\n          <h2>404</h2>\n          <p>That page does not exist</p>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default FourOhForPage;\n\n\n\n// WEBPACK FOOTER //\n// ./react/components/FourOhFourPage/index.jsx","const { sendGAServeEvent } = require('../helpers/googleAnalytics');\nconst { determineResponseType, flipClaimNameAndIdForBackwardsCompatibility, logRequestData, getClaimIdAndServeAsset } = require('../helpers/serveHelpers.js');\nconst lbryUri = require('../helpers/lbryUri.js');\nconst handleShowRender = require('../helpers/handleShowRender.jsx');\nconst SERVE = 'SERVE';\n\nmodule.exports = (app) => {\n  // route to serve a specific asset using the channel or claim id\n  app.get('/:identifier/:claim', (req, res) => {\n    const { headers, ip, originalUrl, params } = req;\n    // decide if this is a show request\n    let hasFileExtension;\n    try {\n      ({ hasFileExtension } = lbryUri.parseModifier(params.claim));\n    } catch (error) {\n      return res.status(400).json({success: false, message: error.message});\n    }\n    let responseType = determineResponseType(hasFileExtension, headers);\n    if (responseType !== SERVE) {\n      return handleShowRender(req, res);\n    }\n    // handle serve request\n    // send google analytics\n    sendGAServeEvent(headers, ip, originalUrl);\n    // parse the claim\n    let claimName;\n    try {\n      ({ claimName } = lbryUri.parseClaim(params.claim));\n    } catch (error) {\n      return res.status(400).json({success: false, message: error.message});\n    }\n    // parse the identifier\n    let isChannel, channelName, channelClaimId, claimId;\n    try {\n      ({ isChannel, channelName, channelClaimId, claimId } = lbryUri.parseIdentifier(params.identifier));\n    } catch (error) {\n      return res.status(400).json({success: false, message: error.message});\n    }\n    if (!isChannel) {\n      [claimId, claimName] = flipClaimNameAndIdForBackwardsCompatibility(claimId, claimName);\n    }\n    // log the request data for debugging\n    logRequestData(responseType, claimName, channelName, claimId);\n    // get the claim Id and then serve the asset\n    getClaimIdAndServeAsset(channelName, channelClaimId, claimName, claimId, originalUrl, ip, res);\n  });\n  // route to serve the winning asset at a claim or a channel page\n  app.get('/:claim', (req, res) => {\n    const { headers, ip, originalUrl, params } = req;\n    // decide if this is a show request\n    let hasFileExtension;\n    try {\n      ({ hasFileExtension } = lbryUri.parseModifier(params.claim));\n    } catch (error) {\n      return res.status(400).json({success: false, message: error.message});\n    }\n    let responseType = determineResponseType(hasFileExtension, headers);\n    if (responseType !== SERVE) {\n      return handleShowRender(req, res);\n    }\n    // handle serve request\n    // send google analytics\n    sendGAServeEvent(headers, ip, originalUrl);\n    // parse the claim\n    let claimName;\n    try {\n      ({claimName} = lbryUri.parseClaim(params.claim));\n    } catch (error) {\n      return res.status(400).json({success: false, message: error.message});\n    }\n    // log the request data for debugging\n    logRequestData(responseType, claimName, null, null);\n    // get the claim Id and then serve the asset\n    getClaimIdAndServeAsset(null, null, claimName, null, originalUrl, ip, res);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./routes/serve-routes.js","const logger = require('winston');\nconst { getClaimId, getLocalFileRecord } = require('../controllers/serveController.js');\nconst { handleErrorResponse } = require('../helpers/errorHandlers.js');\n\nconst SERVE = 'SERVE';\nconst SHOW = 'SHOW';\nconst NO_FILE = 'NO_FILE';\nconst NO_CHANNEL = 'NO_CHANNEL';\nconst NO_CLAIM = 'NO_CLAIM';\n\nfunction clientAcceptsHtml ({accept}) {\n  return accept && accept.match(/text\\/html/);\n};\n\nfunction requestIsFromBrowser (headers) {\n  return headers['user-agent'] && headers['user-agent'].match(/Mozilla/);\n};\n\nfunction clientWantsAsset ({accept, range}) {\n  const imageIsWanted = accept && accept.match(/image\\/.*/) && !accept.match(/text\\/html/) && !accept.match(/text\\/\\*/);\n  const videoIsWanted = accept && range;\n  return imageIsWanted || videoIsWanted;\n};\n\nfunction isValidClaimId (claimId) {\n  return ((claimId.length === 40) && !/[^A-Za-z0-9]/g.test(claimId));\n};\n\nfunction isValidShortId (claimId) {\n  return claimId.length === 1;  // it should really evaluate the short url itself\n};\n\nfunction isValidShortIdOrClaimId (input) {\n  return (isValidClaimId(input) || isValidShortId(input));\n};\n\nfunction serveAssetToClient (claimId, name, res) {\n  return getLocalFileRecord(claimId, name)\n    .then(fileRecord => {\n      // check that a local record was found\n      if (fileRecord === NO_FILE) {\n        return res.status(307).redirect(`/api/claim/get/${name}/${claimId}`);\n      }\n      // serve the file\n      const {filePath, fileType} = fileRecord;\n      logger.verbose(`serving file: ${filePath}`);\n      const sendFileOptions = {\n        headers: {\n          'X-Content-Type-Options': 'nosniff',\n          'Content-Type'          : fileType || 'image/jpeg',\n        },\n      };\n      res.status(200).sendFile(filePath, sendFileOptions);\n    })\n    .catch(error => {\n      throw error;\n    });\n};\n\nmodule.exports = {\n  getClaimIdAndServeAsset (channelName, channelClaimId, claimName, claimId, originalUrl, ip, res) {\n    // get the claim Id and then serve the asset\n    getClaimId(channelName, channelClaimId, claimName, claimId)\n      .then(fullClaimId => {\n        if (fullClaimId === NO_CLAIM) {\n          return res.status(404).json({success: false, message: 'no claim id could be found'});\n        } else if (fullClaimId === NO_CHANNEL) {\n          return res.status(404).json({success: false, message: 'no channel id could be found'});\n        }\n        serveAssetToClient(fullClaimId, claimName, res);\n        // postToStats(responseType, originalUrl, ip, claimName, fullClaimId, 'success');\n      })\n      .catch(error => {\n        handleErrorResponse(originalUrl, ip, error, res);\n        // postToStats(responseType, originalUrl, ip, claimName, fullClaimId, 'fail');\n      });\n  },\n  determineResponseType (hasFileExtension, headers) {\n    let responseType;\n    if (hasFileExtension) {\n      responseType = SERVE;  // assume a serve request if file extension is present\n      if (clientAcceptsHtml(headers)) {  // if the request comes from a browser, change it to a show request\n        responseType = SHOW;\n      }\n    } else {\n      responseType = SHOW;\n      if (clientWantsAsset(headers) && requestIsFromBrowser(headers)) {  // this is in case someone embeds a show url\n        logger.debug('Show request came from browser but wants an image/video. Changing response to serve...');\n        responseType = SERVE;\n      }\n    }\n    return responseType;\n  },\n  flipClaimNameAndIdForBackwardsCompatibility (identifier, name) {\n    // this is a patch for backwards compatability with '/name/claim_id' url format\n    if (isValidShortIdOrClaimId(name) && !isValidShortIdOrClaimId(identifier)) {\n      const tempName = name;\n      name = identifier;\n      identifier = tempName;\n    }\n    return [identifier, name];\n  },\n  logRequestData (responseType, claimName, channelName, claimId) {\n    logger.debug('responseType ===', responseType);\n    logger.debug('claim name === ', claimName);\n    logger.debug('channel name ===', channelName);\n    logger.debug('claim id ===', claimId);\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/serveHelpers.js","const logger = require('winston');\n\nmodule.exports = {\n  REGEXP_INVALID_CLAIM  : /[^A-Za-z0-9-]/g,\n  REGEXP_INVALID_CHANNEL: /[^A-Za-z0-9-@]/g,\n  REGEXP_ADDRESS        : /^b(?=[^0OIl]{32,33})[0-9A-Za-z]{32,33}$/,\n  CHANNEL_CHAR          : '@',\n  parseIdentifier       : function (identifier) {\n    logger.debug('parsing identifier:', identifier);\n    const componentsRegex = new RegExp(\n      '([^:$#/]*)' + // value (stops at the first separator or end)\n      '([:$#]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n    const [proto, value, modifierSeperator, modifier] = componentsRegex\n      .exec(identifier)\n      .map(match => match || null);\n    logger.debug(`${proto}, ${value}, ${modifierSeperator}, ${modifier}`);\n\n    // Validate and process name\n    if (!value) {\n      throw new Error(`Check your url.  No channel name provided before \"${modifierSeperator}\"`);\n    }\n    const isChannel = value.startsWith(module.exports.CHANNEL_CHAR);\n    const channelName = isChannel ? value : null;\n    let claimId;\n    if (isChannel) {\n      if (!channelName) {\n        throw new Error('No channel name after @.');\n      }\n      const nameBadChars = (channelName).match(module.exports.REGEXP_INVALID_CHANNEL);\n      if (nameBadChars) {\n        throw new Error(`Invalid characters in channel name: ${nameBadChars.join(', ')}.`);\n      }\n    } else {\n      claimId = value;\n    }\n\n    // Validate and process modifier\n    let channelClaimId;\n    if (modifierSeperator) {\n      if (!modifier) {\n        throw new Error(`No modifier provided after separator \"${modifierSeperator}\"`);\n      }\n\n      if (modifierSeperator === ':') {\n        channelClaimId = modifier;\n      } else {\n        throw new Error(`The \"${modifierSeperator}\" modifier is not currently supported`);\n      }\n    }\n    return {\n      isChannel,\n      channelName,\n      channelClaimId,\n      claimId,\n    };\n  },\n  parseClaim: function (claim) {\n    logger.debug('parsing name:', claim);\n    const componentsRegex = new RegExp(\n      '([^:$#/.]*)' + // name (stops at the first modifier)\n      '([:$#.]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n    const [proto, claimName, modifierSeperator, modifier] = componentsRegex\n      .exec(claim)\n      .map(match => match || null);\n    logger.debug(`${proto}, ${claimName}, ${modifierSeperator}, ${modifier}`);\n\n    // Validate and process name\n    if (!claimName) {\n      throw new Error('No claim name provided before .');\n    }\n    const nameBadChars = (claimName).match(module.exports.REGEXP_INVALID_CLAIM);\n    if (nameBadChars) {\n      throw new Error(`Invalid characters in claim name: ${nameBadChars.join(', ')}.`);\n    }\n    // Validate and process modifier\n    if (modifierSeperator) {\n      if (!modifier) {\n        throw new Error(`No file extension provided after separator ${modifierSeperator}.`);\n      }\n      if (modifierSeperator !== '.') {\n        throw new Error(`The ${modifierSeperator} modifier is not supported in the claim name`);\n      }\n    }\n    // return results\n    return {\n      claimName,\n    };\n  },\n  parseModifier: function (claim) {\n    logger.debug('parsing modifier:', claim);\n    const componentsRegex = new RegExp(\n      '([^:$#/.]*)' + // name (stops at the first modifier)\n      '([:$#.]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n    const [proto, claimName, modifierSeperator, modifier] = componentsRegex\n      .exec(claim)\n      .map(match => match || null);\n    logger.debug(`${proto}, ${claimName}, ${modifierSeperator}, ${modifier}`);\n    // Validate and process modifier\n    let hasFileExtension = false;\n    if (modifierSeperator) {\n      hasFileExtension = true;\n    }\n    return {\n      hasFileExtension,\n    };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/lbryUri.js","import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { createStore, applyMiddleware } from 'redux';\nimport Reducer from '../react/reducers';\nimport { Provider } from 'react-redux';\nimport { StaticRouter } from 'react-router-dom';\nimport GAListener from '../react/components/GAListener';\nimport App from '../react/app';\nimport renderFullPage from './renderFullPage';\nimport createSagaMiddleware from 'redux-saga';\nimport { call } from 'redux-saga/effects';\nimport { handleShowPageUri } from '../react/sagas/show_uri';\nimport { onHandleShowPageUri } from '../react/actions/show';\n\nimport Helmet from 'react-helmet';\n\nconst returnSagaWithParams = (saga, params) => {\n  return function * () {\n    yield call(saga, params);\n  };\n};\n\nmodule.exports = (req, res) => {\n  let context = {};\n\n  // create and apply middleware\n  const sagaMiddleware = createSagaMiddleware();\n  const middleware = applyMiddleware(sagaMiddleware);\n\n  // create a new Redux store instance\n  const store = createStore(Reducer, middleware);\n\n  // create saga\n  const action = onHandleShowPageUri(req.params);\n  const saga = returnSagaWithParams(handleShowPageUri, action);\n\n  // run the saga middleware\n  sagaMiddleware\n    .run(saga)\n    .done\n    .then(() => {\n      // render component to a string\n      const html = renderToString(\n        <Provider store={store}>\n          <StaticRouter location={req.url} context={context}>\n            <GAListener>\n              <App />\n            </GAListener>\n          </StaticRouter>\n        </Provider>\n      );\n\n      // get head tags from helmet\n      const helmet = Helmet.renderStatic();\n\n      // check for a redirect\n      if (context.url) {\n        return res.redirect(301, context.url);\n      }\n\n      // get the initial state from our Redux store\n      const preloadedState = store.getState();\n\n      // send the rendered page back to the client\n      res.send(renderFullPage(helmet, html, preloadedState));\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./helpers/handleShowRender.jsx","module.exports = require(\"redux-saga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-saga\"\n// module id = 146\n// module chunks = 0","import { call, put, takeLatest } from 'redux-saga/effects';\nimport * as actions from 'constants/show_action_types';\nimport { onRequestError, onNewChannelRequest, onNewAssetRequest } from 'actions/show';\nimport { newAssetRequest } from 'sagas/show_asset';\nimport { newChannelRequest } from 'sagas/show_channel';\nimport lbryUri from 'utils/lbryUri';\n\nfunction * parseAndUpdateIdentifierAndClaim (modifier, claim) {\n  // this is a request for an asset\n  // claim will be an asset claim\n  // the identifier could be a channel or a claim id\n  let isChannel, channelName, channelClaimId, claimId, claimName, extension;\n  try {\n    ({ isChannel, channelName, channelClaimId, claimId } = lbryUri.parseIdentifier(modifier));\n    ({ claimName, extension } = lbryUri.parseClaim(claim));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  // trigger an new action to update the store\n  if (isChannel) {\n    return yield call(newAssetRequest, onNewAssetRequest(claimName, null, channelName, channelClaimId, extension));\n  };\n  yield call(newAssetRequest, onNewAssetRequest(claimName, claimId, null, null, extension));\n}\nfunction * parseAndUpdateClaimOnly (claim) {\n  // this could be a request for an asset or a channel page\n  // claim could be an asset claim or a channel claim\n  let isChannel, channelName, channelClaimId;\n  try {\n    ({ isChannel, channelName, channelClaimId } = lbryUri.parseIdentifier(claim));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  // trigger an new action to update the store\n  // return early if this request is for a channel\n  if (isChannel) {\n    return yield call(newChannelRequest, onNewChannelRequest(channelName, channelClaimId));\n  }\n  // if not for a channel, parse the claim request\n  let claimName, extension;\n  try {\n    ({claimName, extension} = lbryUri.parseClaim(claim));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  yield call(newAssetRequest, onNewAssetRequest(claimName, null, null, null, extension));\n}\n\nexport function * handleShowPageUri (action) {\n  const { identifier, claim } = action.data;\n  if (identifier) {\n    return yield call(parseAndUpdateIdentifierAndClaim, identifier, claim);\n  }\n  yield call(parseAndUpdateClaimOnly, claim);\n};\n\nexport function * watchHandleShowPageUri () {\n  yield takeLatest(actions.HANDLE_SHOW_URI, handleShowPageUri);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/sagas/show_uri.js","import { call, put, select, takeLatest } from 'redux-saga/effects';\nimport * as actions from 'constants/show_action_types';\nimport { addRequestToRequestList, onRequestError, onRequestUpdate, addAssetToAssetList } from 'actions/show';\nimport { getLongClaimId, getShortId, getClaimData } from 'api/assetApi';\nimport { selectShowState } from 'selectors/show';\n\nexport function * newAssetRequest (action) {\n  const { requestType, requestId, name, modifier } = action.data;\n  // put an action to update the request in redux\n  yield put(onRequestUpdate(requestType, requestId));\n  // is this an existing request?\n  // If this uri is in the request list, it's already been fetched\n  const state = yield select(selectShowState);\n  if (state.requestList[requestId]) {\n    return null;\n  }\n  // get long id && add request to request list\n  let longId;\n  try {\n    ({data: longId} = yield call(getLongClaimId, name, modifier));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  const assetKey = `a#${name}#${longId}`;\n  yield put(addRequestToRequestList(requestId, null, assetKey));\n  // is this an existing asset?\n  // If this asset is in the asset list, it's already been fetched\n  if (state.assetList[assetKey]) {\n    return null;\n  }\n  // get short Id\n  let shortId;\n  try {\n    ({data: shortId} = yield call(getShortId, name, longId));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  // get asset claim data\n  let claimData;\n  try {\n    ({data: claimData} = yield call(getClaimData, name, longId));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  // add asset to asset list\n  yield put(addAssetToAssetList(assetKey, null, name, longId, shortId, claimData));\n  // clear any errors in request error\n  yield put(onRequestError(null));\n};\n\nexport function * watchNewAssetRequest () {\n  yield takeLatest(actions.ASSET_REQUEST_NEW, newAssetRequest);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/sagas/show_asset.js","import Request from 'utils/request';\nconst { site: { host } } = require('../../config/speechConfig.js');\n\nexport function getLongClaimId (name, modifier) {\n  let body = {};\n  // create request params\n  if (modifier) {\n    if (modifier.id) {\n      body['claimId'] = modifier.id;\n    } else {\n      body['channelName'] = modifier.channel.name;\n      body['channelClaimId'] = modifier.channel.id;\n    }\n  }\n  body['claimName'] = name;\n  const params = {\n    method : 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body   : JSON.stringify(body),\n  };\n  // create url\n  const url = `${host}/api/claim/long-id`;\n  // return the request promise\n  return Request(url, params);\n};\n\nexport function getShortId (name, claimId) {\n  const url = `${host}/api/claim/short-id/${claimId}/${name}`;\n  return Request(url);\n};\n\nexport function getClaimData (name, claimId) {\n  const url = `${host}/api/claim/data/${name}/${claimId}`;\n  return Request(url);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/api/assetApi.js","import {call, put, select, takeLatest} from 'redux-saga/effects';\nimport * as actions from 'constants/show_action_types';\nimport { addNewChannelToChannelList, addRequestToRequestList, onRequestError, onRequestUpdate, updateChannelClaims } from 'actions/show';\nimport { getChannelClaims, getChannelData } from 'api/channelApi';\nimport { selectShowState } from 'selectors/show';\n\nexport function * newChannelRequest (action) {\n  const { requestType, requestId, channelName, channelId } = action.data;\n  // put an action to update the request in redux\n  yield put(onRequestUpdate(requestType, requestId));\n  // is this an existing request?\n  // If this uri is in the request list, it's already been fetched\n  const state = yield select(selectShowState);\n  if (state.requestList[requestId]) {\n    return null;\n  }\n  // get channel long id\n  let longId, shortId;\n  try {\n    ({ data: {longChannelClaimId: longId, shortChannelClaimId: shortId} } = yield call(getChannelData, channelName, channelId));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  // store the request in the channel requests list\n  const channelKey = `c#${channelName}#${longId}`;\n  yield put(addRequestToRequestList(requestId, null, channelKey));\n  // is this an existing channel?\n  // If this channel is in the channel list, it's already been fetched\n  if (state.channelList[channelKey]) {\n    return null;\n  }\n  // get channel claims data\n  let claimsData;\n  try {\n    ({ data: claimsData } = yield call(getChannelClaims, channelName, longId, 1));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  // store the channel data in the channel list\n  yield put(addNewChannelToChannelList(channelKey, channelName, shortId, longId, claimsData));\n  // clear any request errors\n  yield put(onRequestError(null));\n}\n\nexport function * watchNewChannelRequest () {\n  yield takeLatest(actions.CHANNEL_REQUEST_NEW, newChannelRequest);\n};\n\nfunction * getNewClaimsAndUpdateChannel (action) {\n  const { channelKey, name, longId, page } = action.data;\n  let claimsData;\n  try {\n    ({ data: claimsData } = yield call(getChannelClaims, name, longId, page));\n  } catch (error) {\n    return yield put(onRequestError(error.message));\n  }\n  yield put(updateChannelClaims(channelKey, claimsData));\n}\n\nexport function * watchUpdateChannelClaims () {\n  yield takeLatest(actions.CHANNEL_CLAIMS_UPDATE_ASYNC, getNewClaimsAndUpdateChannel);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./react/sagas/show_channel.js","import Request from 'utils/request';\nconst { site: { host } } = require('../../config/speechConfig.js');\n\nexport function getChannelData (name, id) {\n  if (!id) id = 'none';\n  const url = `${host}/api/channel/data/${name}/${id}`;\n  return Request(url);\n};\n\nexport function getChannelClaims (name, longId, page) {\n  if (!page) page = 1;\n  const url = `${host}/api/channel/claims/${name}/${longId}/${page}`;\n  return Request(url);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/api/channelApi.js","module.exports = {\n  REGEXP_INVALID_CLAIM  : /[^A-Za-z0-9-]/g,\n  REGEXP_INVALID_CHANNEL: /[^A-Za-z0-9-@]/g,\n  REGEXP_ADDRESS        : /^b(?=[^0OIl]{32,33})[0-9A-Za-z]{32,33}$/,\n  CHANNEL_CHAR          : '@',\n  parseIdentifier       : function (identifier) {\n    const componentsRegex = new RegExp(\n      '([^:$#/]*)' + // value (stops at the first separator or end)\n      '([:$#]?)([^/]*)' // modifier separator, modifier (stops at the first path separator or end)\n    );\n    const [proto, value, modifierSeperator, modifier] = componentsRegex  // eslint-disable-line no-unused-vars\n      .exec(identifier)\n      .map(match => match || null);\n\n    // Validate and process name\n    if (!value) {\n      throw new Error(`Check your URL.  No channel name provided before \"${modifierSeperator}\"`);\n    }\n    const isChannel = value.startsWith(module.exports.CHANNEL_CHAR);\n    const channelName = isChannel ? value : null;\n    let claimId;\n    if (isChannel) {\n      if (!channelName) {\n        throw new Error('Check your URL.  No channel name after \"@\".');\n      }\n      const nameBadChars = (channelName).match(module.exports.REGEXP_INVALID_CHANNEL);\n      if (nameBadChars) {\n        throw new Error(`Check your URL.  Invalid characters in channel name: \"${nameBadChars.join(', ')}\".`);\n      }\n    } else {\n      claimId = value;\n    }\n\n    // Validate and process modifier\n    let channelClaimId;\n    if (modifierSeperator) {\n      if (!modifier) {\n        throw new Error(`Check your URL.  No modifier provided after separator \"${modifierSeperator}\"`);\n      }\n\n      if (modifierSeperator === ':') {\n        channelClaimId = modifier;\n      } else {\n        throw new Error(`Check your URL.  The \"${modifierSeperator}\" modifier is not currently supported`);\n      }\n    }\n    return {\n      isChannel,\n      channelName,\n      channelClaimId: channelClaimId || null,\n      claimId       : claimId || null,\n    };\n  },\n  parseClaim: function (name) {\n    const componentsRegex = new RegExp(\n      '([^:$#/.]*)' + // name (stops at the first extension)\n      '([:$#.]?)([^/]*)' // extension separator, extension (stops at the first path separator or end)\n    );\n    const [proto, claimName, extensionSeperator, extension] = componentsRegex // eslint-disable-line no-unused-vars\n      .exec(name)\n      .map(match => match || null);\n\n    // Validate and process name\n    if (!claimName) {\n      throw new Error('Check your URL.  No claim name provided before \".\"');\n    }\n    const nameBadChars = (claimName).match(module.exports.REGEXP_INVALID_CLAIM);\n    if (nameBadChars) {\n      throw new Error(`Check your URL.  Invalid characters in claim name: \"${nameBadChars.join(', ')}\".`);\n    }\n    // Validate and process extension\n    if (extensionSeperator) {\n      if (!extension) {\n        throw new Error(`Check your URL.  No file extension provided after separator \"${extensionSeperator}\".`);\n      }\n      if (extensionSeperator !== '.') {\n        throw new Error(`Check your URL.  The \"${extensionSeperator}\" separator is not supported in the claim name.`);\n      }\n    }\n    return {\n      claimName,\n      extension: extension || null,\n    };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./react/utils/lbryUri.js","const handlePageRender = require('../helpers/handlePageRender.jsx');\n\nmodule.exports = app => {\n  // a catch-all route if someone visits a page that does not exist\n  app.use('*', (req, res) => {\n    // send response\n    handlePageRender(req, res);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./routes/fallback-routes.js"],"sourceRoot":""}